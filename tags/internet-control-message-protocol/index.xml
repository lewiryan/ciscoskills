<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Internet Control Message Protocol on Cisco Skills</title>
    <link>https://ciscoskills.net/tags/internet-control-message-protocol/</link>
    <description>Recent content in Internet Control Message Protocol on Cisco Skills</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 24 Aug 2011 17:00:52 +0000</lastBuildDate><atom:link href="https://ciscoskills.net/tags/internet-control-message-protocol/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>The Codes of ICMP</title>
      <link>https://ciscoskills.net/2011/08/24/the-codes-of-icmp/</link>
      <pubDate>Wed, 24 Aug 2011 17:00:52 +0000</pubDate>
      
      <guid>https://ciscoskills.net/2011/08/24/the-codes-of-icmp/</guid>
      <description>
        
          &lt;h2 id=&#34;in-todays-post-i-wanted-to-talk-about-the-widely-used-pingcommand-which-is-one-of-the-best-methods-i-think-to-begin-network-troubleshootinghttpenwikipediaorgwikitroubleshooting-troubleshooting-when-part-of-the-network-goes-down-it-is-sometimeshard-to-figure-out-why-when-you-issue-the-ping-command-or-the-extended-ping-command-in-a-ciscohttpenwikipediaorgwikicisco_systems-cisco-systems-routerhttpenwikipediaorgwikirouter-router-several-icmphttpenwikipediaorgwikiinternet_control_message_protocol-internet-control-message-protocol-codeshttpenwikipediaorgwikicode-code-can-come-up-on-the-router-lets-discuss-them-the-first-status-code-exclamation-mark-is-a-good-sign-whenyou-issuedthe-ping-command-from-the-router-it-wasable-to-get-a-icmpecho-replyhttpenwikipediaorgwikiping-ping-from-the-device-you-specified-in-the-command-this-also-verifies-that-routing-is-also-working-if-you-get-a-reply-from-the-device-you-are-pinging-it-usually-means-everything-is-up-and-running-the-next-status-code--period-is-usually-not-a-good-sign-when-you-issued-the-ping-command-from-the-router-it-was-not-able-to-get-a-reply-back-from-the-device-you-are-pinging-along-with-the-router-unable-to-get-any-other-traffic-like-an-icmp-unreachable-before-the-icmp-packethttpenwikipediaorgwikipacket_28information_technology29-packet-information-technology-expired-this-usually-means-the-router-does-not-have-a-route-to-the-specified-ip-addresshttpenwikipediaorgwikiip_address-ip-address-thethirdstatus-codeu-means-that-the-router-received-an-icmp-unreachable-packet-there-is-route-for-the-specified-ip-address-in-the-routers-routing-tablehttpenwikipediaorgwikirouting_table-routing-table-however-the-device-did-not-respond-and-is-unavailable-so-the-router-that-has-a-route-to-that-device-sends-back-an-icmp-unreachable-packet-to-the-device-that-sent-the-ping-thefourth-status-code-n-means-the-router-received-an-icmp-unreachable-packet-but-instead-of-destination-host-unreachable-this-is-a-networksubnet-unreachable-if-the-router-receives-an-ip-packethttpenwikipediaorgwikiinternet_protocol-internet-protocolthat-is-destinedto-another-network-but-can-not-send-the-packet-based-on-its-own-routing-table-it-will-send-an-icmp-unreachable-packet-with-the-networksubnet-code-these-are-the-most-common-icmp-codes-that-you-could-run-into-there-are-others-like-the-icmp-cant-fragment-which-would-result-in-the-codem-this-would-happen-when-the-router-needsto-fragment-the-icmp-packet-but-in-the-packet-itself-a-flag-in-the-ip-header-can-beset-not-to-fragment-the-packet-the-router-would-discard-the-packet-and-issue-the-code-pings-are-always-a-good-troubleshootingtool-but-icmp-is-only-helpful-if-you-know-some-the-icmp-codeswhich-makes-it-easier-for-you-to-troubleshoot-the-problem-like-always-i-hope-this-information-is-helpful-if-you-have-an-idea-about-a-topic-in-icnd1or-icnd2-let-me-know&#34;&gt;In today&#39;s post I wanted to talk about the widely used &lt;strong&gt;Ping&lt;/strong&gt; command. Which is one of the best methods (I think) to begin network &lt;a href=&#34;http://en.wikipedia.org/wiki/Troubleshooting&#34; title=&#34;Troubleshooting&#34;&gt;troubleshooting&lt;/a&gt;. When part of the network goes down it is sometimes hard to figure out why? When you issue the ping command or the extended ping command in a &lt;a href=&#34;http://en.wikipedia.org/wiki/Cisco_Systems&#34; title=&#34;Cisco Systems&#34;&gt;Cisco&lt;/a&gt; &lt;a href=&#34;http://en.wikipedia.org/wiki/Router&#34; title=&#34;Router&#34;&gt;router&lt;/a&gt; several &lt;a href=&#34;http://en.wikipedia.org/wiki/Internet_Control_Message_Protocol&#34; title=&#34;Internet Control Message Protocol&#34;&gt;ICMP&lt;/a&gt; &lt;a href=&#34;http://en.wikipedia.org/wiki/Code&#34; title=&#34;Code&#34;&gt;codes&lt;/a&gt; can come up on the router. Let&#39;s discuss them! The first status code &amp;quot;!&amp;quot; (Exclamation mark) is a good sign, when you issued the Ping command from the router it was able to get a &lt;a href=&#34;http://en.wikipedia.org/wiki/Ping&#34; title=&#34;Ping&#34;&gt;ICMP echo reply&lt;/a&gt; from the device you specified in the command. This also verifies that routing is also working. If you get a reply from the device you are pinging it usually means everything is up and running. The next status code &amp;quot;.&amp;quot; (Period) is usually not a good sign. When you issued the ping command from the router it was not able to get a reply back from the device you are pinging along with the router unable to get any other traffic like an ICMP unreachable before the ICMP &lt;a href=&#34;http://en.wikipedia.org/wiki/Packet_%28information_technology%29&#34; title=&#34;Packet (information technology)&#34;&gt;packet&lt;/a&gt; expired. This usually means the router does not have a route to the specified &lt;a href=&#34;http://en.wikipedia.org/wiki/IP_address&#34; title=&#34;IP address&#34;&gt;IP address&lt;/a&gt;. The third status code&amp;quot;U&amp;quot; means that the router received an ICMP unreachable packet. There is route for the specified IP address in the router&#39;s &lt;a href=&#34;http://en.wikipedia.org/wiki/Routing_table&#34; title=&#34;Routing table&#34;&gt;routing table&lt;/a&gt; however the device did not respond and is unavailable. So the router that has a route to that device sends back an ICMP Unreachable packet to the device that sent the ping. The fourth status code &amp;quot;N&amp;quot; means the router received an ICMP unreachable packet but instead of destination host unreachable this is a network/subnet unreachable. If the router receives an &lt;a href=&#34;http://en.wikipedia.org/wiki/Internet_Protocol&#34; title=&#34;Internet Protocol&#34;&gt;IP packet&lt;/a&gt; that is destined to another network but can not send the packet based on its own routing table it will send an ICMP unreachable packet with the network/subnet code. These are the most common ICMP codes that you could run into. There are others like the ICMP &amp;quot;can&#39;t fragment&amp;quot; which would result in the code&amp;quot;M&amp;quot; this would happen when the router needs to fragment the ICMP packet but in the packet itself a flag in the IP header can be set not to fragment the packet. The router would discard the packet and issue the code. Pings are always a good troubleshooting tool but ICMP is only helpful if you know some the ICMP codes which makes it easier for you to troubleshoot the problem. Like always I hope this information is helpful, if you have an idea about a topic in ICND1 or ICND2 let me know!&lt;/h2&gt;
&lt;h3 id=&#34;comments&#34;&gt;Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://ciscoskills.net/2011/09/21/welcome-cct-cisco-certified-technician/&#34; title=&#34;&#34;&gt;Welcome CCT (Cisco Certified Technician Certification) | Cisco Skills&lt;/a&gt; - &lt;time datetime=&#34;2011-09-21 20:44:43&#34;&gt;Sep 3, 2011&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;[...] The Codes of ICMP (ciscoskills.net) [...]&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Understanding CBAC</title>
      <link>https://ciscoskills.net/2011/02/22/understanding-cbac/</link>
      <pubDate>Tue, 22 Feb 2011 17:00:34 +0000</pubDate>
      
      <guid>https://ciscoskills.net/2011/02/22/understanding-cbac/</guid>
      <description>
        
          &lt;p&gt;Although using hardware firewalls are an excellent step forward when securing your network. They can cost money and are not cheap to set up and configure. Using CBAC is built-into the &lt;a href=&#34;http://www.cisco.com/en/US/products/ps6537/products_ios_sub_category_home.html&#34; title=&#34;Cisco IOS&#34;&gt;Cisco IOS&lt;/a&gt; router and helps filter those unwanted protocols that are in your network. When setting up routers as firewalls you have some choices like using CBAC the &amp;quot;Classic&amp;quot; firewall, or zone based policy (ZBF). Today we will talk about CBAC and how to understand the core components of what make &lt;a href=&#34;http://en.wikipedia.org/wiki/Context-based_access_control&#34; title=&#34;Context-based access control&#34;&gt;CBAC&lt;/a&gt; possible. CBAC stands for Content-Base-&lt;a href=&#34;http://en.wikipedia.org/wiki/Access_control&#34; title=&#34;Access control&#34;&gt;Access-Control&lt;/a&gt; and uses &lt;a href=&#34;http://en.wikipedia.org/wiki/Access_control_list&#34; title=&#34;Access control list&#34;&gt;ACLs&lt;/a&gt;. (Access Control Lists) Unlike the established TCP session and reflexive ACLs CBAC has several advantages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Monitors TCP connections, (&lt;a href=&#34;http://en.wikipedia.org/wiki/Transmission_Control_Protocol&#34; title=&#34;Transmission Control Protocol&#34;&gt;Three-way handshake&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Maintains &lt;a href=&#34;http://en.wikipedia.org/wiki/User_Datagram_Protocol&#34; title=&#34;User Datagram Protocol&#34;&gt;UDP&lt;/a&gt; session information&lt;/li&gt;
&lt;li&gt;Tracks TCP sequence numbers&lt;/li&gt;
&lt;li&gt;Inspects DNS queries and replies&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Inspection&#34; title=&#34;Inspection&#34;&gt;Inspect&lt;/a&gt; common &lt;a href=&#34;http://en.wikipedia.org/wiki/Internet_Control_Message_Protocol&#34; title=&#34;Internet Control Message Protocol&#34;&gt;ICMP&lt;/a&gt; messages types&lt;/li&gt;
&lt;li&gt;Supports applications that rely on multiple connections (FTP)&lt;/li&gt;
&lt;li&gt;Inspects embedded address&lt;/li&gt;
&lt;li&gt;Inspects &lt;a href=&#34;http://en.wikipedia.org/wiki/Application_Layer&#34; title=&#34;Application Layer&#34;&gt;Application Layer&lt;/a&gt; information&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ACLs only look at the network layer and sometimes the transport layer. CBAC is application aware, meaning CBAC is a stateful firewall which keeps track of the state of network connections such as TCP streams, and UDP communication travelling across it. The firewall is programmed to distinguish legitimate packets for different types of connections. Only packets matching a known connection state will be allowed by the firewall; others will be rejected. Because CBAC only matches packets (TCP, UDP and other protocols) it was specified to look at, it will then depend on the ACL if that packet is allowed access or denied. CBAC creates openings in ACLs at the interfaces that inspect the traffic by adding a temporary ACL entry for a specific session. The openings are created when the internal network starts a session with the outside network that would normally be denied. The traffic is only allowed back through the firewall if it is part of the same session and has the correct properties that CBAC is looking for. For example let&#39;s say a user starts an &lt;a href=&#34;http://en.wikipedia.org/wiki/Session_management&#34; title=&#34;Session management&#34;&gt;http session&lt;/a&gt; in the protected network and the packet moves to the outside or unprotected network. CBAC is configured to inspect http traffic and there is an ACL on the inbound (outside interface) blocking http traffic from the unprotected network to the protected network. So the packet is allowed access to the unprotected network because the ACL is on the inbound interface and not the outbound interface. So the ACL does not look at the packet, CBAC however looks at the packet and in the inspection rules the packet is allowed access to the unprotected network, CBAC adds an entry in its state table. Because a new entry is added a dynamic ACL is created on the external interface to the protected network. This dynamic ACL will allow http traffic back into the protected network. This opening is only active it the session is open, once the session closes the ACL is removed. Once removed any traffic that starts from the unprotected network will be denied access to the protected network. This depends on the ACL which checks inbound connections from the unprotected network.&lt;a href=&#34;http://ciscoskills.net/2011/02/22/understanding-cbac/cbac-firewall-config/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/02/cbac-firewall-config.png?w=300&#34; alt=&#34;CBAC Firewall&#34; title=&#34;CBAC Firewall-config&#34;&gt;&lt;/a&gt; &lt;a href=&#34;http://systemstechblog.files.wordpress.com/2011/02/cbac-firewall-config.png&#34;&gt;&lt;/a&gt; To configure CBAC there are four steps to set up CBAC efficiently:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pick an interface of where you want CBAC to be inspecting; this depends on the flow of your network and the amount of interfaces you have installed on your router. (DMZ, Web server, E-mail servers, etc.)&lt;/li&gt;
&lt;li&gt;Configure IP ACLs at the interface. The network technician must define what type of traffic is allowed and will not be inspected by CBAC and which traffic is blocked and will be inspected by CBAC.&lt;/li&gt;
&lt;li&gt;Define inspection rules. The network technician should specify each desired application layer to inspect along with generic TCP, ICMP and or UDP fields. Inspection rules are configured by statements each listing a protocol and specifying the inspection rule name.&lt;/li&gt;
&lt;li&gt;Finally apply the inspection rule to an interface.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CBAC is considered the &amp;quot;classic&amp;quot; firewall compared to zone based, it is relatively simple to configure and understand. However unlike zone based CBAC can get complex when multiple CBAC configurations on a router exists. Remember CBAC also uses ACLs if configured and implemented poorly these ACLs can block traffic even when CBAC allows them. I hope this tutorial was helpful.&lt;/p&gt;

        
      </description>
    </item>
    
  </channel>
</rss>
