<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Network on Cisco Skills</title>
    <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/tags/network/</link>
    <description>Recent content in Network on Cisco Skills</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sun, 11 Oct 2020 18:13:30 +0000</lastBuildDate><atom:link href="http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/tags/network/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Fortigate ECMP with BGP</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2020/10/fortigate-ecmp-with-bgp/</link>
      <pubDate>Sun, 11 Oct 2020 18:13:30 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2020/10/fortigate-ecmp-with-bgp/</guid>
      <description>
        
          &lt;p&gt;It&#39;s like clock work...around this time the seasons are changing..autumn colors are out, and the colder air reminds us that things are changing around here, embrace it! One thing that I&#39;ve been working with is AWS Transit gateways, a common theme this year is all cloud! AWS Transit Gateways make it easier to move towards that!&lt;/p&gt;
&lt;p&gt;AWS Transit gateways relatively new, (couple years old now) so instead of attaching to each AWS VPC environment independently we can connect to the transit gateway and attach VPCs to the gateway. If you enable BGP your routes will propagate. I&#39;ve been working with ECMP, specifically with Fortigates.&lt;/p&gt;
&lt;p&gt;There are two ways to have redundancy in a network when you have multiple paths to a destination. Similar routes that have a higher cost/weight then ones that don&#39;t are only used when there is a problem with primary path. So you have a backup route on standby until the primary route fails. This could be a good option if the backup route isn&#39;t the same bandwidth/media or really not equal to the primary link which is why different cost/weight is important to have.&lt;/p&gt;
&lt;p&gt;However if you have multiple paths that were equal bandwidth/media we could/would want to use both of them at the same time so that traffic is load balanced across the network, this is called ECMP (Equal-cost multi-path routing)&lt;/p&gt;
&lt;p&gt;Let&#39;s walk though the steps on how to setup ECMP on a Fortigate using BGP. I&#39;m already guessing you have an AWS account with an AWS transit gateway deployed that supports ECMP, as well as configured your customer gateway in AWS with BGP Autonomous system (AS) number.&lt;/p&gt;
&lt;p&gt;In this example I have a Fortigate Firewall running version 6.4.2, I have set the BGP &amp;quot;AS&amp;quot; number to 65000 and the AWS &amp;quot;AS&amp;quot; number is 64512.&lt;/p&gt;
&lt;p&gt;Amazon gives you a text file to download the configuration for these two tunnels but depending on your Fortigate setup we may have to tweak the file, (not a good idea to just paste it) In this example here is what I have for tunnel one:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;# Configure Phase 1 of the tunnel, aka IKE  
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;config vpn ipsec phase1-interface  
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;edit &amp;#34;AWS-0615bcc6f-1&amp;#34;  
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;set dpd on-idle  
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;# Outside Interface to reach AWS  
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;set interface outside  
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;# External IP address using (RFC 5737) in this example
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;set local-gw 198.51.100.1  
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;set dhgrp 2  
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;set proposal aes128-sha1  
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;set keylife 28800  
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;# Remote Peer this is AWS Transit, using (RFC 5737) in example`  
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;set remote-gw 192.0.2.124  
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;set psksecret ciscoskills.net  
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;set dpd-retryinterval 10  
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;next  
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;end  
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;  
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;# Configure Phase 2 of the Tunnel, aka IPSEC  
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;config vpn ipsec phase2-interface  
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;edit &amp;#34;AWS-0615bcc6f-1&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;set phase1name &amp;#34;AWS-0615bcc6f-1&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;set proposal aes128-sha1  
&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;set dhgrp 2  
&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;set pfs enable  
&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;set keylifeseconds 3600  
&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;end
&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;# Build the tunnel interface  
&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;config system interface   
&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt;edit &amp;#34;AWS-0615bcc6f-1&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;set vdom &amp;#34;root&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;36&lt;/span&gt;set ip 169.254.150.142 255.255.255.255  
&lt;span class=&#34;ln&#34;&gt;37&lt;/span&gt;set allowaccess ping  
&lt;span class=&#34;ln&#34;&gt;38&lt;/span&gt;set type tunnel  
&lt;span class=&#34;ln&#34;&gt;39&lt;/span&gt;set tcp-mss 1379  
&lt;span class=&#34;ln&#34;&gt;40&lt;/span&gt;set remote-ip 169.254.150.141/32  
&lt;span class=&#34;ln&#34;&gt;41&lt;/span&gt;set mtu enable  
&lt;span class=&#34;ln&#34;&gt;42&lt;/span&gt;set mtu 1427  
&lt;span class=&#34;ln&#34;&gt;43&lt;/span&gt;set interface &amp;#34;outside&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;44&lt;/span&gt;next  
&lt;span class=&#34;ln&#34;&gt;45&lt;/span&gt;end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;After the tunnel one is created, AWS gives us configuration for the second tunnel, basically the same configuration with some differences, here is tunnel two.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;# Configure Phase 1 of the tunnel, aka IKE  
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;  
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;config vpn ipsec phase1-interface  
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;edit &amp;#34;AWS-0615bcc6f-2&amp;#34;  
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;set dpd on-idle  
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;# Outside Interface to reach AWS  
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;set interface outside  
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;# External IP address using (RFC 5737) in this example  
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;set local-gw 198.51.100.1  
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;set dhgrp 2  
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;set proposal aes128-sha1  
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;set keylife 28800  
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;# Remote Peer this is AWS Transit, using (RFC 5737) in example  
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;set remote-gw 203.0.113.25  
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;set psksecret ciscoskills.com  
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;set dpd-retryinterval 10  
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;next  
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;end  
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;  
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;# Configure Phase 2 of the Tunnel, aka IPSEC  
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;  
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;config vpn ipsec phase2-interface  
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;edit &amp;#34;AWS-0615bcc6f-2&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;set phase1name &amp;#34;AWS-0615bcc6f-2&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;set proposal aes128-sha1  
&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;set dhgrp 2  
&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;set pfs enable  
&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;set keylifeseconds 3600  
&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;end  
&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;  
&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;# Build the tunnel interface  
&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;config system interface  
&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;edit &amp;#34;AWS-0615bcc6f-2&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt;set vdom &amp;#34;root&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;set ip 169.254.157.90 255.255.255.255  
&lt;span class=&#34;ln&#34;&gt;36&lt;/span&gt;set allowaccess ping  
&lt;span class=&#34;ln&#34;&gt;37&lt;/span&gt;set type tunnel  
&lt;span class=&#34;ln&#34;&gt;38&lt;/span&gt;set tcp-mss 1379  
&lt;span class=&#34;ln&#34;&gt;39&lt;/span&gt;set remote-ip 169.254.157.89/32  
&lt;span class=&#34;ln&#34;&gt;40&lt;/span&gt;set mtu enable  
&lt;span class=&#34;ln&#34;&gt;41&lt;/span&gt;set mtu 1427  
&lt;span class=&#34;ln&#34;&gt;42&lt;/span&gt;set interface &amp;#34;outside&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;43&lt;/span&gt;next  
&lt;span class=&#34;ln&#34;&gt;44&lt;/span&gt;end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We now have two tunnels configured, these won&#39;t show online until the Fortigate has a policy attached to them. So you could put firewall rules on each tunnel interface or better yet is to create a zone within the Fortigate and add the two tunnel interfaces into same zone. By creating a zone within Fortigate the same firewall rules apply to each interface instead of creating/copying rules to each tunnel interface. (This would be an example)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;config system zone  
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;edit AWS-0615bcc6f  
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;set interface AWS-0615bcc6f-1  
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;set interface AWS-0615bcc6f-2  
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;set intrazone allow  
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;next  
&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt;end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Once those interfaces are either in a zone and in a Firewall policy you should be able to bring those tunnel interfaces online. The final thing is configure our Fortigate with BGP so that when you attach a VPC to the transit gateway that IP space gets advertised automatically. We also want to enable ECMP with BGP.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;# Enable BGP on the Fortigate  
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;  
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;config router bgp  
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;# This is the number we set in AWS, so it should match what TG has  
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;set as 65000   
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;set router-id `198.51.100.1`  
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;  
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;# Since we are using &amp;#34;AS&amp;#34; Numbers, we tell the Fortigate to use    
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;# External Multipath with out it BGP will use one route at time  
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;# Active/Passive  
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;  
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;set ebgp-multipath enable  
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;config neighbor  
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;edit &amp;#34;169.254.157.89&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;set remote-as 64512  
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;next  
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;edit &amp;#34;169.254.150.141&amp;#34;  
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;set remote-as 64512  
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;next  
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If we attached a VPC to the transit gateway, and in this example I attached a VPC range of 10.0.0.0/16 to the transit gateway. That IP range would show up in the Fortigate, if we look at the routing table via &lt;em&gt;get router info routing-table all&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;FW01 # get router info routing-table all  
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;Codes: K - kernel, C - connected, S - static, R - RIP, B - BGP  
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;O - OSPF, IA - OSPF inter area  
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2  
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;E1 - OSPF external type 1, E2 - OSPF external type 2  
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area  
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;- candidate default  
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;  
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;Routing table for VRF=0  
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;S* 0.0.0.0/0 [5/0] via `198.51.100.`25, ppp1  
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;B 10.0.0.0/16 [20/100] via 169.254.150.141, AWS-0615bcc6f-1, 03:07:57  
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;              [20/100] via 169.254.157.89, AWS-0615bcc6f-2, 03:07:57  
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;C `198.51.100.1`/32 is directly connected, ppp1  
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;C 169.254.150.141/32 is directly connected, AWS-0615bcc6f-1  
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;C 169.254.150.142/32 is directly connected, AWS-0615bcc6f-1  
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;C 169.254.157.89/32 is directly connected, AWS-0615bcc6f-2  
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;C 169.254.157.90/32 is directly connected, AWS-0615bcc6f-2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can see that 10.0.0.0/16 is available to us via the VPN interfaces, we have equal paths as well, traffic will load balance between each tunnel interface. BGP with ECMP is alive and active! ... That&#39;s all I got for this post, like always I hope this information is helpful, got questions? Comment below!&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>VTIs with ASA</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2020/08/vtis-with-asa/</link>
      <pubDate>Sat, 08 Aug 2020 15:41:06 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2020/08/vtis-with-asa/</guid>
      <description>
        
          &lt;p&gt;I&#39;ve been stuck in more ways then one this year...working from home indefinitely seems to be the status quo right now, and I&#39;m in &amp;quot;tunnel&amp;quot; mode for most part. Most of these projects I&#39;m working on all of common theme.. connect on-premise to more cloud resources! One way to do that is using VTIs. (Virtual Tunnel Interfaces) VTIs which are not new...been around for a bit, Cisco IOS had the feature available like 10+ years ago! We only got introduced into this technology with ASA when version 9.7 (2017) and above arrived....&lt;/p&gt;
&lt;p&gt;In the old days, which wasn&#39;t that long ago.... We were stuck with cryptomaps to interfaces and dealing with &amp;quot;interesting&amp;quot; traffic when working with ASAs...Well time for change no more defining interesting traffic, we route these bits instead! Any traffic we want to go over the tunnel is routed over, we can apply ACLs on the inbound interface just like we do with physical interfaces, so simple...&lt;/p&gt;
&lt;p&gt;Here is the topology I&#39;m working with:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2020/07/vti-asa.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;This is a pretty standard setup, basically we have two sites and want a tunnel between them. We can setup a VTI Tunnel and route via the next hop address. You can also run a routing protocol over this so this can scale out easy.&lt;/p&gt;
&lt;p&gt;In this example I got two Cisco ASAs using version 9.12(2), just like the old days, things have to match in order to get a tunnel up. In this example I&#39;m using IKEv2 this policy has to match on both ends:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;crypto ikev2 policy 1
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt; encryption 3des
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; integrity sha
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt; group 2
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt; prf sha
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt; lifetime seconds 86400
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;:!: Please use a higher encryption than what I have, this is just for demonstration. :) I also found out that NIST will not allow 3DES starting in 2024. &lt;a href=&#34;https://www.comparitech.com/blog/information-security/3des-encryption/#What_is_3DES&#34;&gt;More Information about the 3DES and history&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We got match a group policy this is configured on both ends, (name could be different)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;group-policy P2P-VPN internal
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;group-policy P2P-VPN attributes
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; vpn-idle-timeout 30
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt; vpn-session-timeout none
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt; vpn-filter none
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt; vpn-tunnel-protocol ikev2 
&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt; periodic-authentication certificate none
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Next we we create the IPSEC part of the tunnel, again these have to match on both ends:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;crypto ipsec ikev2 ipsec-proposal VPN-P2P
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt; protocol esp encryption aes-256
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; protocol esp integrity sha-256
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Phase Two of the tunnel for IPSEC Proposal, match them on both ends ;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;crypto ipsec profile VPN-P2P-IPSEC
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt; set ikev2 ipsec-proposal VPN-P2P
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; set pfs group2
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt; set security-association lifetime seconds 84600
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;On the site one we create a tunnel group to site two. (preshared keys have to match) In this example I&#39;m using local and remote keys, just like you would expect remote key would match the local key on the remote end, and vise versa.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;tunnel-group 203.0.113.2 type ipsec-l2l
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;tunnel-group 203.0.113.2 general-attributes
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; default-group-policy P2P-VPN
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;tunnel-group 203.0.113.2 ipsec-attributes
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt; ikev2 remote-authentication pre-shared-key *****
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt; ikev2 local-authentication pre-shared-key *****
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;On site two we do the same thing, flipping the IP addresses.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;tunnel-group 198.51.100.2 type ipsec-l2l
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;tunnel-group 198.51.100.2 general-attributes
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; default-group-policy P2P-VPN
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;tunnel-group 198.51.100.2 ipsec-attributes
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt; ikev2 remote-authentication pre-shared-key *****
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt; ikev2 local-authentication pre-shared-key *****
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Tunnel is created but in order to bring it up and use we need to create VTI interface on the ASA&#39;s. Here is how site one looks for the the tunnel interface. (tunnel source interface is the direction of how to get to the other site, in this case I&#39;m using the internet)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;interface Tunnel80
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt; nameif VPN-P2P
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; ip address 10.15.161.253 255.255.255.252 
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt; tunnel source interface ISP
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt; tunnel destination 203.0.113.2
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt; tunnel mode ipsec ipv4
&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt; tunnel protection ipsec profile VPN-P2P-IPSEC
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If we jump over to site two for that tunnel interface configuration (tunnel interfaces don&#39;t have to match in this case)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;interface Tunnel80
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt; nameif VPN-P2P
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; ip address 10.15.161.254 255.255.255.254 
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt; tunnel source interface ISP
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt; tunnel destination 198.51.100.2
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt; tunnel mode ipsec ipv4
&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt; tunnel protection ipsec profile VPN-P2P-CPHX-IPSEC
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can see that we created a little point to point network within the tunnel and if we wanted traffic over this tunnel a simple route statement is all we need :)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;route VPN-P2P 172.22.1.0 255.255.255.0 10.15.161.254 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;A simple show command verifies that the tunnel is up (show crypto isakmp)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;There are no IKEv1 SAs
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;IKEv2 SAs:
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;Session-id:1, Status:UP-ACTIVE, IKE count:1, CHILD count:1
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;Tunnel-id Local                                               Remote                                                  Status         Role
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;  3991227 198.51.100.2/500                                    203.0.113.2/500                                          READY    INITIATOR
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;      Encr: 3DES, Hash: SHA96, DH Grp:2, Auth sign: PSK, Auth verify: PSK
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;      Life/Active Time: 86400/3180 sec
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;Child sa: local selector  0.0.0.0/0 - 255.255.255.255/65535
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;          remote selector 0.0.0.0/0 - 255.255.255.255/65535
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;          ESP spi in/out: 0x8e25a2bf/0x90b25811 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Just like that you got yourself a flexible tunnel interface that you can send routes down it, don&#39;t need to deal with crypto maps anymore put those next to the history of 3DES ;) These VTIs make it a breeze to configure.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ciscoskills.net/2020/05/21/the-world-keeps-turning/&#34;&gt;The World Keeps Turning&lt;/a&gt; and we&#39;ll continue to navigate the times as technology plays such a critical piece in making sure communication between people and or systems goes uninterrupted. We as engineers are right in the middle of it... like always I hope this information is helpful, stay calm and carry on!&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>SVIs and &#34;Routed&#34; Ports</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2019/05/svis-and-routed-ports/</link>
      <pubDate>Tue, 14 May 2019 19:00:40 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2019/05/svis-and-routed-ports/</guid>
      <description>
        
          &lt;p&gt;So you have a this nice multiplayer switch, and want to take advantages of all of the features it has to offer. Well there are two different types interface ports on these type of switches. SVIs (Switched Virtual Interface) and &amp;quot;routed&amp;quot; ports, fundamentally they are same and clients/users wouldn&#39;t be able to tell if you were using/going through an SVI or a &amp;quot;routed&amp;quot; port. However they are different and in this post we&#39;ll talk about these two and when and were it would be recommended to place an SVI or a routed port.&lt;/p&gt;
&lt;p&gt;In order to pass traffic between networks we need a router. Switches work in layer two and routers work in layer three, this separation of duties between devices works well. Doing something like &lt;a href=&#34;http://ciscoskills.net/2012/01/31/configure-router-on-a-stick/&#34;&gt;Configuring Router on Stick&lt;/a&gt;, is easier to troubleshoot and usually cheaper to implement. It only becomes a problem when we run out of resources like bandwidth.&lt;/p&gt;
&lt;p&gt;Looking on the example below, we have three different networks all branching off of this router. The router has three networks configured on this interface the red network, teal network and the blue network. In order for PC1 to reach PC2 it has use the router even through they are plugged on the same switch, they are on different VLANs, different networks. If PC1 was transferring a lot of data between PC2 it could easily tap out that router&#39;s interface. Other devices on those networks like PC3 would become bandwidth starved and struggle to get a good connection for inter-vlan connectivity. &lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/07/router-on-a-stickee.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;However a multilayered switch which has usually plenty of bandwidth on its back plane and would be able to handle this easily and in this example this would be great use case  to create and SVI interface for each network. To create an SVI:&lt;/p&gt;
&lt;p&gt;We have to have a VLAN created first, in this example lets use 105.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;switch(config)# vlan 105
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;switch(config-vlan)# name RED-NETWORK
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;switch(config-vlan)# exit switch(config)#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We then create an interface VLAN, referencing  the VLAN we created in step one and apply an IP address and subnet mask on VLAN interface.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;switch(config)# interface vlan 105
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;switch(config-if)# ip address 192.168.150.1 255.255.255.0
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;switch(config-if)# no shutdown
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;switch(config-if)# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;On the interfaces that belong to that VLAN in this example PC1 apply the VLAN and verify the interface is in switchport mode.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;switch(config)# interface ethernet 1/1
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;switch(config-if)# switchport
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;switch(config-if)# switchport mode access
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;switch(config-if)# switchport access vlan 105
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;switch(config-if)# no shutdown
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;switch(config-if)# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here is the configuration for the TEAL Network, if we wanted to configure the BLUE network just put it into a different VLAN and separate IP network.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;switch(config)# vlan 110
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;switch(config-vlan)# name TEAL-NETWORK
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;switch(config-vlan)# exit
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;switch(config)# interface vlan 110
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;switch(config-if)# ip address 192.168.160.1 255.255.255.0
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;switch(config-if)# no shutdown
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;switch(config-if)# exit
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;switch(config)# interface ethernet 1/2
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;switch(config-if)# switchport
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;switch(config-if)# switchport mode access
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;switch(config-if)# switchport access vlan 110
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;switch(config-if)# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can then verify that the switch has a routing table by issuing show ip route and if we also run the command show ip interface brief and you can see the interface-vlans&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;switch# show ip route
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;IP Route Table for VRF &amp;#34;default&amp;#34;
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&amp;#39;*&amp;#39; denotes best ucast next-hop
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&amp;#39;**&amp;#39; denotes best mcast next-hop
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&amp;#39;[x/y]&amp;#39; denotes [preference/metric]
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&amp;#39;%&amp;#39; in via output denotes VRF
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;192.168.150.0/24, ubest/mbest: 1/0, attached
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;*via 192.168.150.1, Vlan105, [0/0], 00:06:03, direct
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;192.168.150.1/32, ubest/mbest: 1/0, attached
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;*via 192.168.150.1, Vlan105, [0/0], 00:06:03, local
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;192.168.160.0/24, ubest/mbest: 1/0, attached
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;*via 192.168.160.1, Vlan110, [0/0], 00:01:59, direct
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;192.168.160.1/32, ubest/mbest: 1/0, attached
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;*via 192.168.160.1, Vlan110, [0/0], 00:01:59, local
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;switch# show ip interface brief
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;IP Interface Status for VRF &amp;#34;default&amp;#34;(1)
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;Interface            IP Address      Interface Status
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;Vlan105              192.168.150.1   protocol-up/link-up/admin-up
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;Vlan110              192.168.160.1   protocol-up/link-up/admin-up
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;switch#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can also verify that PC1 and PC2 can ping each other. PC2 pinging PC1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;PC-2&amp;gt; ping 192.168.150.10
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;192.168.150.10 icmp_seq=1 timeout
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;192.168.150.10 icmp_seq=2 timeout
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;84 bytes from 192.168.150.10 icmp_seq=3 ttl=63 time=15.258 ms
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;84 bytes from 192.168.150.10 icmp_seq=4 ttl=63 time=19.669 ms
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;84 bytes from 192.168.150.10 icmp_seq=5 ttl=63 time=19.113 ms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;PC1 pinging PC2&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;PC-1&amp;gt; ping 192.168.160.10
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;84 bytes from 192.168.160.10 icmp_seq=1 ttl=63 time=17.825 ms
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;84 bytes from 192.168.160.10 icmp_seq=2 ttl=63 time=19.710 ms
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;84 bytes from 192.168.160.10 icmp_seq=3 ttl=63 time=18.503 ms
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;84 bytes from 192.168.160.10 icmp_seq=4 ttl=63 time=18.577 ms
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;84 bytes from 192.168.160.10 icmp_seq=5 ttl=63 time=9.817 ms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;SVI&#39;s are great for inter-vlan connectivity and for devices that are &amp;quot;physically&amp;quot; close to each other. I would shy away using an SVI when we are connecting different buildings/sites, and if we a using a some type of transit network to get from point A to point B. Using a routed port is not only easier to configure its easier to troubleshoot, we don&#39;t have worry about the problems layer two brings us, like for example redundancy and spanning-tree we just focus on layer three and the redundancies that layer three can offer us.  In this example this switch is connected to another switch with multiple links using routed ports. To create a routed port:&lt;/p&gt;
&lt;p&gt;Go into the interface and turn off switchport and add an IP address&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;switch(config)# interface ethernet 1/4
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;switch(config-if)# no switchport
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;switch(config-if)# ip address 192.168.253.1 255.255.255.252
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;switch(config-if)# no shutdown
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;switch(config-if)# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you have multiple routed ports for redundancy, add another routed port with a different network.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;switch(config)# interface ethernet 1/5
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;switch(config-if)# no switchport
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;switch(config-if)# ip add 192.168.253.5 255.255.255.252
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;switch(config-if)# no shutdown
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;switch(config-if)# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We would do the same thing on the other side of the link and make sure our networks match so that each switch can reach other out of the two routed ports we created and in this example they can.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;switch(config)# show ip interface brief
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;IP Interface Status for VRF &amp;#34;default&amp;#34;(1)
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;Interface            IP Address      Interface Status
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;Eth1/4               192.168.253.2   protocol-up/link-up/admin-up
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;Eth1/5               192.168.253.6   protocol-up/link-up/admin-up
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;switch(config)#
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;switch(config)# ping 192.168.253.1
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;PING 192.168.253.1 (192.168.253.1): 56 data bytes
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;64 bytes from 192.168.253.1: icmp_seq=0 ttl=254 time=1.368 ms
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;64 bytes from 192.168.253.1: icmp_seq=1 ttl=254 time=1.205 ms
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;64 bytes from 192.168.253.1: icmp_seq=2 ttl=254 time=2.099 ms
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;64 bytes from 192.168.253.1: icmp_seq=3 ttl=254 time=1.166 ms
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;64 bytes from 192.168.253.1: icmp_seq=4 ttl=254 time=1.353 ms
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;--- 192.168.253.1 ping statistics ---
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;5 packets transmitted, 5 packets received, 0.00% packet loss
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;round-trip min/avg/max = 1.166/1.438/2.099 ms
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;switch(config)# ping 192.168.253.5
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;PING 192.168.253.5 (192.168.253.5): 56 data bytes
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;64 bytes from 192.168.253.5: icmp_seq=0 ttl=254 time=1.45 ms
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;64 bytes from 192.168.253.5: icmp_seq=1 ttl=254 time=1.28 ms
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;64 bytes from 192.168.253.5: icmp_seq=2 ttl=254 time=0.995 ms
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;64 bytes from 192.168.253.5: icmp_seq=3 ttl=254 time=1.408 ms
&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;64 bytes from 192.168.253.5: icmp_seq=4 ttl=254 time=1.303 ms
&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;--- 192.168.253.5 ping statistics ---
&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;5 packets transmitted, 5 packets received, 0.00% packet loss
&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;round-trip min/avg/max = 0.995/1.287/1.45 ms
&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;switch(config)#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Although you could have created an SVI for these point to point links, I don&#39;t think there&#39;s a reason. We can configure multiple static routes or using a routing protocol to handle the links if they go down and we only deal with layer three, which is keeping it simple. Like always I hope this information is helpful. -Ryan&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Passed 300-115</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2019/04/passed-300-115/</link>
      <pubDate>Tue, 02 Apr 2019 15:05:28 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2019/04/passed-300-115/</guid>
      <description>
        
          &lt;p&gt;Just a short post about my recent Cisco exam, I was able to pass the 300-115 to renew all my lower CCNA certifications. The last time I took a Cisco exam was almost 3 years ago when I passed the CCNA Data Center certification. Overall the exam was fair although you will need multiple study resources to make sure you cover all the exam objectives. The primary reason for doing this exam first instead of ROUTE or TSHOOT was I felt it was maybe the hardest one? Won&#39;t really know until I take the other two. The resources I used:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.com/Routing-Switching-SWITCH-300-115-Official/dp/1587205602/ref=sr_1_1?keywords=ccnp+switch&amp;amp;qid=1552154049&amp;amp;s=gateway&amp;amp;sr=8-1&#34;&gt;The Official Cert Guide - CCNP Routing and Switching 300-115&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.udemy.com/ccnp-switch-video-boot-camp/&#34;&gt;Chris Bryant Videos&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.gns3.com/&#34;&gt;GNS3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.reddit.com/r/ccnp/&#34;&gt;CCNP Subreddit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.boson.com/practice-exam/300-115-cisco-switch-practice-exam&#34;&gt;Boson 300-115 Practice Exams&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I &amp;quot;officially&amp;quot; started about three months ago, but was really off and on throughout 2018.  During the last three months I did about an hour a day (Monday-Friday), the weekends I would shoot for 4 to 5 hours off and on during the day.&lt;/p&gt;
&lt;h2 id=&#34;whats-next&#34;&gt;What&#39;s Next&lt;/h2&gt;
&lt;p&gt;Not really in rush, so I&#39;m probably going to wait until next winter, maybe ;)... I know it seems weird to drag this out and not just pass all of the exams but there are some personal/life goals this year I would like to at least start, in the meantime I hope this information is helpful and good luck!&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;static-comments&#34;&gt;Static Comments:&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://loopedback.com&#34;&gt;Loopy&lt;/a&gt; - &lt;time datetime=&#34;2019-05-17 21:06:55&#34;&gt;May 17, 2019&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;I don&#39;t know that this could possibly be harder than ROUTE, but I may have a Bias being it took me 3 tries to piss that exam by a single question :) Huge congratulations on your pass, and good luck on your future ones, I really hope you do take the opportunity to study and pass ROUTE and TSHOOT for the certification! I am currently studying for exactly this exam, and I agree I use almost more off the beaten path resources than training materials to really understand things, to compare them all together and see which explanation makes the most sense. Again congrats and good luck on your next exams bud :)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;https://ciscoskills.net&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2019-05-19 13:22:26&#34;&gt;May 19, 2019&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Hey Loopy, Thanks and congrats on passing the ROUTE exam. I&#39;ll probably start studying the ROUTE exam in the winter months and take the exam in the springtime. Still something I want to finish up but want to have that balance of life/work/study. (if that&#39;s possible) ;) Ryan&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;https://loopedback.com&#34;&gt;Loopy&lt;/a&gt; - &lt;time datetime=&#34;2019-05-19 16:45:42&#34;&gt;May 19, 2019&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;I&#39;m attacking SWITCH and TSHOOT like a rabid dog, I have other things I need to study for work, but after grinding to pass ROUTE there is no way I can not finish this certification!&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Dual ISP - Cisco ASA HA Active/Standby</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2019/03/dual-isp-cisco-asa-ha-active/standby/</link>
      <pubDate>Tue, 12 Mar 2019 12:45:56 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2019/03/dual-isp-cisco-asa-ha-active/standby/</guid>
      <description>
        
          &lt;p&gt;So a single ISP isn&#39;t cutting it anymore you need a backup just in case the primary fails and might as well add a second ASA into this design, more redundancy equals more up-time, right? On paper it sounds good but in the &amp;quot;real&amp;quot; world there probably is tipping point, more redundancy increases complexity. In this post we&#39;ll aim to keep it simple, with setting up a Cisco ASA HA active/standby pair and then add in the second ISP. Let&#39;s get started!
So this is what our topology will look like all said and done, we have two firewalls and two different ISPs. The primary ISP is ISP-1 and the secondary ISP is ISP-2. We will always be using ISP-1 as the primary and won&#39;t be load balancing between the two. ISP-2 will only be used when ISP-1 goes offline. When ISP-1 comes back online we will switch back over to ISP-1.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/09/asa-ha2.png&#34; alt=&#34;ASA-HA&#34;&gt;&lt;/p&gt;
&lt;p&gt;So let&#39;s first look at getting the ASA HA pair setup. In this example I have two ASA&#39;s that are the same hardware and software version, For the HA I have to be able to use two interfaces for the LAN failover and State link interface. I need to choose one ASA that will be the primary and one that is secondary. If you already have a configuration on one ASA, choose that as the primary. The secondary ASA just needs enough configuration so that you can get into it as the configuration gets overwritten on the secondary ASA from the primary.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;ASA-HA-1(config)# failover
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;ASA-HA-1(config)# failover lan unit primary
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Move to the secondary ASA&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;ASA-HA-1(config)# failover
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;ASA-HA-1(config)# failover lan unit secondary
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now I need to configure the interfaces each ASA will be using two interfaces and they are connected directly to each other. Configuration is the same across the two ASAs with the exception of the IP address make sure they are different and are in the same network. I like to use a completely different range of IP addresses that are not in my network or public IP networks, otherwise you get into trouble. ;) In this example I&#39;m using the link local address RFC 3927.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;ASA-HA-1(config)# failover lan interface FAILOVER GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;ASA-HA-1(config)# failover key password
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;ASA-HA-1(config)# failover link STATELINK GigabitEthernet0/4
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;ASA-HA-1(config)# failover interface ip FAILOVER 169.254.255.1 255.255.255.252 standby 169.254.255.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Once you have configured both ASAs the primary will sync its configuration to the secondary and you will now have an active/standby pair of ASAs. You can verify the status by issuing the command show failover. We now need to switch gears and configure our secondary ISP and modify the primary ISP interface (OUTSIDE-ISP-1). On the primary ISP we need to configure a standby IP address on the interface and it needs to be on the same network. So in this example the standby IP is going to be 198.51.100.5 which was available to use from our primary ISP. We also need to do the same thing on the our secondary ISP interface (OUTSIDE-ISP-2. In this example the IP address is 198.51.100.140. Below is running configuration for that, this would be synced to both firewalls since they are now in an HA pair.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;interface GigabitEthernet0/0
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;nameif OUTSIDE-ISP-1
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;security-level 0
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;ip address 198.51.100.10 255.255.255.128 standby 198.51.100.5
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;!
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;interface GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;nameif OUTSIDE-ISP-2
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;security-level 0
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;ip address 198.51.100.135 255.255.255.128 standby 198.51.100.140
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Once that is done we now need to configure these ASA&#39;s to only use the primary ISP. If the primary ISP fails we switch over to the secondary ISP, we are not load balancing between the two, its one or the other. To do that we need to track the route. On this network we have a default static route that points to the primary ISP&#39;s next hop address. In this example that is 198.51.100.1 the command to track that route.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;ASA-HA-1(config)# route OUTSIDE-ISP-1 0.0.0.0 0.0.0.0 198.51.100.1 1 track 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This does not do anything yet, we are close but we also need to add another default route and point that to the secondary ISP.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;ASA-HA-1(config)# route OUTSIDE-ISP-2 0.0.0.0 0.0.0.0 198.51.100.129 254
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;Notice that I&#39;m putting a distance metric on this route, this has a higher metric than the first default route so it won&#39;t be used until the primary route fails.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The track command will remove the primary route if it fails and then the ASA will install this the route in the routing table to switch over to the secondary ISP. We still have to configure some additional settings in order for this to work. We need to create an SLA on the ASA, in this example I&#39;m using Google&#39;s Public DNS as a reachability test. If this was production setup I would probably use a system that I own instead of relaying one somebody else.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;ASA-HA-1(config)# sla monitor 10
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;ASA-HA-1(config)# type echo protocol ipIcmpEcho 8.8.8.8 interface OUTSIDE-ISP-1 
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;ASA-HA-1(config)# num-packets 5
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;ASA-HA-1(config)# frequency 10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create the schedule and reference the sla monitor number. We want this run forever (as long as the hardware lives) and we want to start it now.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;ASA-HA-1(config)# sla monitor schedule 10 life forever start-time now
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We finally can create a track on this route&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;ASA-HA-1(config)# track 1 rtr 10 reachability
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If we look at show route we can see we are using the primary ISP&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;show  route
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;E1 - OSPF external type 1, E2 - OSPF external type 2, V - VPN
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;ia - IS-IS inter area, * - candidate default, U - per-user static route
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;o - ODR, P - periodic downloaded static route, + - replicated route
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;Gateway of last resort is 198.51.100.1 to network 0.0.0.0
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;S*       0.0.0.0 0.0.0.0 [1/0] via 198.51.100.1, OUTSIDE-ISP-1
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;C        169.254.255.0 255.255.255.252 is directly connected, FAILOVER
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;L        169.254.255.1 255.255.255.255 is directly connected, FAILOVER
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;C        192.168.2.0 255.255.255.0 is directly connected, INSIDE
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;L        192.168.2.50 255.255.255.255 is directly connected, INSIDE
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;C        198.51.100.0 255.255.255.128 is directly connected, OUTSIDE-ISP-1
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;L        198.51.100.10 255.255.255.255 is directly connected, OUTSIDE-ISP-1
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;C        198.51.100.128 255.255.255.128 is directly connected, OUTSIDE-ISP-2
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;L        198.51.100.135 255.255.255.255 is directly connected, OUTSIDE-ISP-2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If that link fails or if the reachability fails the ASA will change over to the secondary ISP. Looking at the show route confirms this&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;ASA-HA-1# show route
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;E1 - OSPF external type 1, E2 - OSPF external type 2, V - VPN
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;ia - IS-IS inter area, * - candidate default, U - per-user static route
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;o - ODR, P - periodic downloaded static route, + - replicated route
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;Gateway of last resort is 198.51.100.129 to network 0.0.0.0
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;S*       0.0.0.0 0.0.0.0 [254/0] via 198.51.100.129, OUTSIDE-ISP-2
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;C        169.254.255.0 255.255.255.252 is directly connected, FAILOVER
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;L        169.254.255.1 255.255.255.255 is directly connected, FAILOVER
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;C        192.168.2.0 255.255.255.0 is directly connected, INSIDE
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;L        192.168.2.50 255.255.255.255 is directly connected, INSIDE
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;C        198.51.100.0 255.255.255.128 is directly connected, OUTSIDE-ISP-1
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;L        198.51.100.10 255.255.255.255 is directly connected, OUTSIDE-ISP-1
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;C        198.51.100.128 255.255.255.128 is directly connected, OUTSIDE-ISP-2
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;L        198.51.100.135 255.255.255.255 is directly connected, OUTSIDE-ISP-2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That&#39;s all I got for this one, being able to switch between ISP automatically depending on reachability is an easy way to add additional redundancy, we don&#39;t have to have to two ASA&#39;s you could do this if you only had one ASA with two ISPs. I hope this information is helpful&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;static-comments&#34;&gt;Static Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;%22gs@plusline.de%22&#34;&gt;gs@plusline.de&lt;/a&gt; - &lt;time datetime=&#34;2019-08-20 10:25:00&#34;&gt;Aug 2020, 2019&lt;/time&gt;
That&#39;s just the routing part. You will have to do the source NAT of your inside prefix depending on the currently used ISP interface. But this is easy. Now try to set up the redundancy with native IPv6 from both providers.... no chance (regardless which method you might chose, DHCPv6-PD for inside, static prefix with 6to6NAT for inside, ...), you will hate the ASA for this.&lt;/p&gt;
&lt;hr /&gt;
&lt;h4 id=&#34;heading-1&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://ciscoskills.net/&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2019-08-21 07:38:39&#34;&gt;Aug 21, 2019&lt;/time&gt;
Yes your right and that was implied PAT/NAT would be enabled on this for this work on the outside interfaces, since its active/standby each ASA has both ISP interfaces on both of them so this is pretty easy setup. Never tired IPv6 on ASA ever! So I&#39;ll have to take your word ;) Might play around with that for.... fun. :| Ryan&lt;/p&gt;
&lt;hr /&gt;
&lt;h4 id=&#34;heading-2&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://barbadosmuslimdirectory.wordpress.com&#34;&gt;bmdfisa101&lt;/a&gt; - &lt;time datetime=&#34;2020-05-04 13:37:47&#34;&gt;May 1, 2020&lt;/time&gt;
Thanks Ryan&lt;/p&gt;
&lt;hr /&gt;
&lt;h4 id=&#34;heading-3&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;%22fisa101@hotmail.com%22&#34;&gt;Jay&lt;/a&gt; - &lt;time datetime=&#34;2020-05-03 12:13:12&#34;&gt;May 3, 2020&lt;/time&gt;
Hi how would you achieve this on Cisco Firepower 1122 with HA enabled. not using FCM only FDM&lt;/p&gt;
&lt;hr /&gt;
&lt;h4 id=&#34;heading-4&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://ciscoskills.net/&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2020-05-03 18:32:13&#34;&gt;May 3, 2020&lt;/time&gt;
Hey Jay, It would be the same process, it looks like Cisco only recently introduced this feature in 6.5 for Firepower (Service Level Agreement (SLA) Monitor for static routes.) &lt;a href=&#34;https://www.cisco.com/c/en/us/td/docs/security/firepower/650/fdm/fptd-fdm-config-guide-650/fptd-fdm-get-started.html&#34;&gt;https://www.cisco.com/c/en/us/td/docs/security/firepower/650/fdm/fptd-fdm-config-guide-650/fptd-fdm-get-started.html&lt;/a&gt; Hope this Helps. Ryan&lt;/p&gt;
&lt;hr /&gt;
&lt;h4 id=&#34;heading-5&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;%22cciehemant@gmail.com%22&#34;&gt;Hemant&lt;/a&gt; - &lt;time datetime=&#34;2020-05-31 14:08:16&#34;&gt;May 31, 2020&lt;/time&gt;
Hi Ryan, Need to know what happens to the connectivity for the devices which were using NAT from primary ISP, if primary ISP link goes down. Manually NAT to secondary ISP IP or what ? Thanks&lt;/p&gt;
&lt;hr /&gt;
&lt;h4 id=&#34;heading-6&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://ciscoskills.net/&#34; title=&#34;ryan@ciscoskills.net&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2020-05-31 18:37:31&#34;&gt;May 31, 2020&lt;/time&gt;
Hey Hemant, If the primary link goes down and it fails over to the secondary link your NATed IP will be from the secondary ISP, You would just create a NAT/PAT rule, So when you use the secondary ISP it will use that IP instead of the primary. OUTSIDE-ISP-2 would be the interface you would configure the NAT/PAT rule, just like you would with the OUTSIDE-ISP-1 interface. Hope that Helps Ryan&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>FMC Syslog with Graylog Extractor</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2019/02/fmc-syslog-with-graylog-extractor/</link>
      <pubDate>Tue, 05 Feb 2019 17:15:07 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2019/02/fmc-syslog-with-graylog-extractor/</guid>
      <description>
        
          &lt;p&gt;Let&#39;s continue to talk about the Cisco Firepower Management Center, in this post we are going to look at sending connection events over to syslog. In this example I&#39;m using &lt;a href=&#34;https://www.graylog.org/&#34;&gt;Graylog&lt;/a&gt; which is an open source logging platform and  although any syslog server would work, one of the problems with syslogs is there is little uniformity when you have different systems sending these logs. One of the things that Graylog can to do is extract the raw message and put each part of message into a separate searchable field. We&#39;ll configure the FMC to send syslogs and then configure an extractor on Graylog.&lt;/p&gt;
&lt;p&gt;So we have the FMC and Graylog in our environment setup. We&#39;ll want to first configure the FMC and add a syslog server. We can do this two ways, one way is we can go to into Policy tab-&amp;gt; Actions-&amp;gt;Alerts-&amp;gt;Create Alert (Down Arrow)-&amp;gt;Create Syslog Alert.
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/08/fmc-syslog-1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;You could also go into an access control policy and select log (&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/08/fmc-log-symbol.jpg&#34; alt=&#34;::inline&#34;&gt;) icon either in the default action or on a rule you would like to log. Another window will show and select the green plus icon and add the syslog server that way.
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/08/fmc-syslog-2.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Once that is out-of-the-way we can now go into Graylog and configure an extractor on the syslog input. This is located under System-&amp;gt;Inputs then under the syslog input select manage extractor. On the actions tab select import extractor and paste this JSON followed by selecting the Add extractors to input at the bottom of the page.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;extractors&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;FMC – Default Fields&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;extractor_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;grok&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;converters&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[],&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;order&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;cursor_strategy&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;copy&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;source_field&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;target_field&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;extractor_config&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;        &lt;span class=&#34;nt&#34;&gt;&amp;#34;grok_pattern&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;%{WORD:field}: Protocol: %{WORD:protocol}, SrcIP: %{IP:Source_IP}, OriginalClientIP: ::, DstIP: %{IP:Destination_IP}, SrcPort: %{INT:src_port}, DstPort: %{INT:dest_port}, TCPFlags: %{WORD:flags}, IngressZone: %{HOSTNAME:ingress_zone}, EgressZone: %{HOSTNAME:egress_zone}, DE: %{DATA:detect_engine}, Policy: %{DATA:policy}, ConnectType: %{WORD:connectType}, AccessControlRuleName: %{DATA:ACLRuleName}, AccessControlRuleAction: %{DATA:ACLRuleAction},&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;        &lt;span class=&#34;nt&#34;&gt;&amp;#34;named_captures_only&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;      &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;condition_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;regex&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;condition_value&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;( SFIMS:)&amp;#34;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2.4.6&amp;#34;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I have noticed that it might take some time for Graylog to extract the messages as well as it seems there is a delay in the Cisco FMC when sending syslogs but If everything is configured correctly you should start to see logs coming into Graylog. I normally use this for researching firewall rules as its easier to run a search in Graylog then it is on the FMC. Here is what the raw message looks like:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;_DMZ-FW02 SFIMS: Protocol: TCP, SrcIP: 172.25.45.55, OriginalClientIP: ::, DstIP: 172.25.30.82, SrcPort: 58996, DstPort: 1433, TCPFlags: 0x0, IngressZone: LOC-DMZ, EgressZone: LOC-INSIDE, DE: Primary Detection Engine (d4d9f400-c6d2-4065-9f90-da61a963b980), Policy: Acme DMZ ACP, ConnectType: Start, AccessControlRuleName: WEBSRVS-&amp;gt;SQLSRVS-&amp;gt;TCP1443, AccessControlRuleAction: Allow, Prefilter Policy: Default Prefilter Policy, UserName: No Authentication Required, InitiatorPackets: 2, ResponderPackets: 1, InitiatorBytes: 120, ResponderBytes: 66, NAPPolicy: Acme DMZ NAP, DNSResponseType: No Error, Sinkhole: Unknown, URLCategory: Unknown, URLReputation: Risk unknown_
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here is what Graylog would be able to extract from that message with our extractor:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;ACLRuleAction
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;Allow
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;ACLRuleName
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;WEBSRVS-&amp;gt;SQLSRVS-&amp;gt;TCP1443
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;Destination_IP
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;172.25.30.82
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;Source_IP
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;172.25.45.55
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;connectType
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;Start
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;dest_port
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;1433
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;detect_engine
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;Primary Detection Engine (d4d9f400-c6d2-4065-9f90-da61a963b980)
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;egress_zone
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;LOC-INSIDE
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;field
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;SFIMS
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;flags
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;0x0
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;ingress_zone
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;LOC-DMZ
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;policy
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;Acme DMZ ACP
&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;protocol
&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;TCP
&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;src_port
&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;58996
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;With this grok pattern that we created with Graylog we are able to search these fields like Source IP and Destination IP and even the ACLRule name.
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/08/gl-aclrulename.png&#34; alt=&#34;gl-aclrulename&#34;&gt;&lt;/p&gt;
&lt;p&gt;This makes it much easier to search these results as well as put this type of data into dashboards or reports. Like always I hope this information is helpful you can find more information about Graylog by hitting their site and try it out for yourself. :)&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Oh...Spanning Tree</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2019/01/oh...spanning-tree/</link>
      <pubDate>Wed, 02 Jan 2019 15:30:45 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2019/01/oh...spanning-tree/</guid>
      <description>
        
          &lt;p&gt;It&#39;s the &amp;quot;S&amp;quot; word we don&#39;t like to hear, and often times it has degraded networks or even took them down entirely.  (&lt;a href=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/files/2019/01/All-Systems-Down.pdf/&#34;&gt;All Systems Down&lt;/a&gt; - an older but classic story) It&#39;s also one of those things that nobody really likes, we even had network companies, as well as IEEE &lt;strong&gt;try&lt;/strong&gt; to replace it with something else. Remember the names like TRILL, and IEEE 802.1aq (SPB) or Cisco&#39;s FabicPath technologies? You had all of these different flavors that showed a lot progress, but they never really took off for one reason or another. The funny part is this protocol we are all trying kill off is still alive and doing well, so let&#39;s look at spanning tree in the meantime because you will likely run into it.&lt;/p&gt;
&lt;p&gt;Remember there are multiple types of spanning tree protocols but they all have a common theme to them and in this post we are going to be focusing on those common themes. If you need a refresher about the reasons and basic functions of spanning tree you can check out these posts I did quite a while ago.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ciscoskills.net/2011/08/10/the-beginnings-of-layer-two-redundancy/&#34;&gt;The Beginnings of Layer Two Redundancy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://ciscoskills.net/2011/09/07/the-middle-of-layer-two-redundancy/&#34;&gt;The Middle of Layer Two Redundancy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ciscoskills.net/2011/09/14/the-%e2%80%9cending%e2%80%9d-of-layer-two-redundancy//&#34;&gt;The “Ending” of Layer Two Redundancy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So we should already know that by default spanning tree is enabled on all ports when the switch has blank config. There are of course tweaks we can do to adjust convergence times like using RSTP, if thirty seconds is too long, using portfast when there is not another switch downstream, lots of customization. Here is a simple topology, two switches two links, one of links will be blocked otherwise expect loops and network inconsistency. 
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/12/simple-switch.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Out of the box STP will protect you from loops, and a simple way to figure what type of spanning tree protocol is running as well as to figure out who is root you can use this command:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;SW2#show spanning-tree 
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;VLAN0001
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;  Spanning tree enabled protocol rstp
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;  Root ID    Priority    32769
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;             Address     aabb.cc00.0200
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;             This bridge is the root
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;             Hello Time   2 sec  Max Age 20 sec  Forward Delay 15 sec
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;  Bridge ID  Priority    32769  (priority 32768 sys-id-ext 1)
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;             Address     aabb.cc00.0200
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;             Hello Time   2 sec  Max Age 20 sec  Forward Delay 15 sec
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;             Aging Time  300 sec
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;Interface           Role Sts Cost      Prio.Nbr Type
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;------------------- ---- --- --------- -------- ----------------------
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;Et0/0               Desg FWD 100       128.1    P2p
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;Et0/1               Desg FWD 100       128.2    P2p
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;Et0/2               Desg FWD 100       128.3    P2p
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;Et0/3               Desg FWD 100       128.4    P2p
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can see that we are on the root bridge, by looking at &lt;strong&gt;Root ID&lt;/strong&gt; information. This shows information about who is root and in this case we are on the root switch, seeing the message &lt;em&gt;This bridge is the root&lt;/em&gt;, confirms that. We can also see the type of spanning tree protocol we are running, which is RSTP. Running the command on the other switch, that is not root we can the BLK status on one of its ports (Et0/1) which is what we are expecting. We can also see who is root. If we look at the &lt;strong&gt;Bridge ID&lt;/strong&gt; that&#39;s the local switch we are on. Notice when you are the root switch both the Root ID and Bridge match. So our topology looks like something like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/12/simple-switch-blk-1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;SW1#show spanning-tree 
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;VLAN0001
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;  Spanning tree enabled protocol rstp
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;  Root ID    Priority    32769
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;             Address     aabb.cc00.0200
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;             Cost        100
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;             Port        1 (Ethernet0/0)
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;             Hello Time   2 sec  Max Age 20 sec  Forward Delay 15 sec
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;  Bridge ID  Priority    32769  (priority 32768 sys-id-ext 1)
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;             Address     aabb.cc00.0300
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;             Hello Time   2 sec  Max Age 20 sec  Forward Delay 15 sec
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;             Aging Time  300 sec
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;Interface           Role Sts Cost      Prio.Nbr Type
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;------------------- ---- --- --------- -------- ----------------------
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;Et0/0               Root FWD 100       128.1    P2p
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;Et0/1               Altn BLK 100       128.2    P2p
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;Et0/2               Desg FWD 100       128.3    P2p
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;Et0/3               Desg FWD 100       128.4    P2p
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;So by default spanning tree helped us block a redundant path without us really doing anything. So why bother with it? Well there is always fine tuning like turning on portfast which is used for edge devices, timers for STP to make it converge faster. There are also some protections that should be enabled like using BPDU guard which help guard the spanning tree topology from introducing unauthorized devices from sending BPDUs and usually used on access ports. Another one is Root guard which is used to help protect the root bridge from changing. Root guard is similar to BPDU guard but I like to think this protection is for us network engineers for when we introduce a switch into the network that somehow as a lower priority than the existing root bridge we can protect the network from changing the STP topology.&lt;/p&gt;
&lt;h2 id=&#34;failures&#34;&gt;Failures&lt;/h2&gt;
&lt;p&gt;Am I doing a good job of making this protocol shine? Well like everything there is always another side of it and I would say some of the failures can be a misconfiguration, software incompatibilities/bugs (which is more common than you would think) and overgrowth of the STP design. When this happens the STP topology can become disruptive to the entire layer two design while trying to reconverge into a new shape, meanwhile switch CPUs hit all time highs and network availability hits all zeros. Another valid point is its a waste of money, you buy two of everything but you can&#39;t use both at the same time because you can&#39;t have multiple L2 paths. Sure you can add MLAGs/vPCs but spanning tree is still running and if that protocol becomes unstable, or changes the topology it has the potential to still be disruptive. ...and this is why a lot people dislike this technology, It really wasn&#39;t designed for high-availability, multi-path, layer two domains.&lt;/p&gt;
&lt;h2 id=&#34;move-up-a-layer&#34;&gt;Move up a layer?&lt;/h2&gt;
&lt;p&gt;Traditionally L2/L3 boundary is at the distribution/aggregation layer of the network, but this traditional design is changing to IP routing at the access layer (Routed Access Layer) to remove spanning tree However this may work well for client/end-user access, this type of design fails at the data center. You may have racks of servers in your data center, you want the maximum amount a flexibility to move hardware around as well as add additional hardware in the future.  If you did a routed access layer at the data center, you start to lock yourself in and although its 2019 a lot applications still operate at a layer two level and even if the apps you are running don&#39;t have that problem you run into scalability issues.&lt;/p&gt;
&lt;h2 id=&#34;smoke-and-mirrors&#34;&gt;Smoke and Mirrors?&lt;/h2&gt;
&lt;p&gt;So where&#39;s the magic? How do you use a reliable layer three network like you did in on the client/end-user side but put it in a data center? Think network overlays like VxLAN or BGP EVPN, (EVPN BGP),  (order does not matter, they&#39;re the same thing) ;) . Basically these are network overlay technologies, you have you underlayer network that is running and you put this technology on top of that network, I call it network virtualization but you may have also heard SDN, (Software Define Networking). Whatever you want to call it this is how you kill spanning tree. Spanning tree by default just runs on a layer two network, we saw that from the beginning. So you remove layer two from the entire stack and then overlay an additional network on top of that. Using these type of technologies your applications don&#39;t know the difference. Another helpful post I saw when reading about overlay networks was from David Varnum&#39;s post about how Arista Networks uses BGP EVPN, pretty neat technology, if interested.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://overlaid.net/2018/08/27/arista-bgp-evpn-overview-and-concepts/&#34;&gt;Arista BGP EVPN – Overview and Concepts&lt;/a&gt;&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Automation Dance</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/11/automation-dance/</link>
      <pubDate>Tue, 13 Nov 2018 15:55:19 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/11/automation-dance/</guid>
      <description>
        
          &lt;p&gt;I keep doing the automation dance, (yeah...that&#39;s me) there are a lot of different tooling products out there. I have been trying to understand a use case around using it with network automation. Recently I have been dancing around with Ansible. My personal belief is that using any type of these tools would be helpful but it can be a steep learning curve if you really don&#39;t have any programming knowledge. This is not something that is relatively easy to use or understand, don&#39;t expect to have a working network automated tool in production on day one. I think this is great for learning, and using this in a network sandbox. If you don&#39;t have programming mindset it might make your job harder on day one before it gets easier, but just like learning to dance you have to learn the steps, the moves, and maintain the rhythm. So with that let&#39;s at least figure out the starting points, and begin learning the steps of the automation dance. ;)&lt;/p&gt;
&lt;h3 id=&#34;diy-tooling&#34;&gt;DIY Tooling?&lt;/h3&gt;
&lt;p&gt;All of these automated frameworks are tools, Ansible, Puppet, Chef, Saltstack, etc. These are all tools that can be used to automate your device to do whatever you&#39;re trying to accomplish without manual configuration, &lt;strong&gt;that&#39;s the goal.&lt;/strong&gt; All of these tools are &amp;quot;freemium&amp;quot;, they are available on Github and you can use them however you want, The catch with all of these tools is they are a framework, if you want something fancy integration or some web interface, and have additional smarts with the product, then you&#39;re going to pay for it or you could build it yourself and stick to the man. Just need to increase payroll and hire developers, which just takes your goal of automating your network infrastructure to maybe day 365? Remember you still have to maintain it, patch it, upgrade it. (Does it still work after all of that?) You&#39;re not in the business of developing a platform that makes these tools easier to work with, that&#39;s the reason they all have paid options.&lt;/p&gt;
&lt;h3 id=&#34;but&#34;&gt;But...&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;quot;I&#39;m just going to use the CLI of one of those tools and develop my own playbooks, cookbooks, manifests, salt states, and make it work!&amp;quot;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I would say most people exploring automation go this route, and it&#39;s not a bad starting point when looking at all of these tools they all have these common themes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Deprecated feature that was referenced on the internet somewhere long ago and it worked at that time, but now the tool does this instead of that.&lt;/li&gt;
&lt;li&gt;Documentation is lacking and it becomes difficult to find what you are looking for, like config examples, error messages, and overall architecture of the tool, how does it work?, best practices?, etc.&lt;/li&gt;
&lt;li&gt;Tools are used incorrectly when referencing what other people posted online. An example is like seeing playbooks, cookbooks, manifests, or salt states have plain/hashed passwords in them! Some tools (Ansible) offer a vault for passwords but people don&#39;t use them or know about them!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These aren&#39;t showstoppers but keep these in mind when starting out. All of these tools come with a foundation that doesn&#39;t change so learn from that and then begin to branch out, and it might help to buy a book if you are committed.&lt;/p&gt;
&lt;h3 id=&#34;call-it-quits&#34;&gt;Call it quits?&lt;/h3&gt;
&lt;p&gt;I wouldn&#39;t, this is where you need to stop and think, before even exploring these tools and ask yourself what would automation (tool) help at XYZ? If you are not thinking about automation you should start! Crawl, walk, run when exploring automation It&#39;s important to learn first, sandbox next and develop continuelsy. I saw this post on Reddit last week  (&lt;a href=&#34;https://www.reddit.com/r/networking/comments/9uzlpz/for_those_who_if_they_keep_hearing_devops_python/&#34;&gt;For those who if they keep hearing &amp;quot;DevOps&amp;quot;, &amp;quot;Python &amp;quot;, &amp;quot;Automation&amp;quot; are gonna kill somebody... read on&lt;/a&gt;) and totally agree, I don&#39;t think we are expecting someone with superhero skills that can whip up automation and have us say.. &amp;quot;Alexa..fix the network&amp;quot; but I do think we need to shift focus on it by thinking about it, learning about it, and then using it. ;)&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Enable a RESTful ASA API</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/10/enable-a-restful-asa-api/</link>
      <pubDate>Mon, 08 Oct 2018 13:00:21 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/10/enable-a-restful-asa-api/</guid>
      <description>
        
          &lt;p&gt;Starting from ASA 9.3(2) and onward the 5500-X hardware supports a RESTful API as an additional method for configuration/monitoring ASA hardware. Infrastructure as code as they call it, not anything new but I was reading a post that Ivan Pepelnjak wrote and as he &lt;a href=&#34;https://blog.ipspace.net/2018/09/infrastructure-as-code-netconf-and-rest.html&#34;&gt;points out&lt;/a&gt; there are two types of styles when we are dealing with IaC, the data model or CRUD. When reading information about the ASA RESTful API it was interesting what the ASA falls into, CRUD is the method it uses and although this method works, I have similar feeling to what Ivan posted, it wonders me if this is really a step forward into IaC. In this post we&#39;ll go through the steps to enable it and you can be the judge, does this RESTful API help?&lt;/p&gt;
&lt;p&gt;So the first thing we need to grab the RESTful API application and by default is not included so we&#39;ll need to go to cisco.com and download it.  You need look for the Adaptive Security Appliance REST API Plugin and depending on your version of ASA there might be some gotchas on which versions to use so read the release notes. Once we you have the correct version downloaded you need to upload it to the ASA flash. Once uploaded you have to specify the location of the REST API Plugin:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;ASA-HA-1(config)# rest-api image flash:asa-restapi-132325-lfbff-k8.SPA
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;Computed Hash   SHA2: 2106d6ac8c4e3c181c4820fb46588b8c
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;                      e104712e13fb783ad8f051e905c21330
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;                      0ad66d0e96a6f050805e1e7dc173f187
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;                      211c87db0c2d440da2e2d8614a210e4c
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;Embedded Hash   SHA2: 2106d6ac8c4e3c181c4820fb46588b8c
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;                      e104712e13fb783ad8f051e905c21330
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;                      0ad66d0e96a6f050805e1e7dc173f187
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;                      211c87db0c2d440da2e2d8614a210e4c
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;Digital signature validated successfully
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;ASA-HA-1(config)#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;After that you can enable the REST API:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;ASA-HA-1(config)# rest-api agent\[/code\]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Once enabled if you have ASDM enabled then the HTTP service is running if not you have to enable the HTTP server as well as configure a management rule to tell what interface you will be connecting to.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;http server enable
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;http 0.0.0.0 0.0.0.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;After that you can browse to the following link: https://ASAIP/doc/&lt;/p&gt;
&lt;p&gt;You will get prompt to login with a username and password, so make sure the authentication is configured on the ASA. If you have login successfully you will see a webpage like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/10/asa-api.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;From here you can explore the different HTTP requests that are available and you essentially have another way of configuring and monitoring your ASA. So back my question does this type of RESTful API help you? I have explored this and have used Postman for my poor mans &amp;quot;IaC&amp;quot; but does that count, I feel something is missing? In the end it&#39;s still a process that runs and instead of running this via CLI its a CRUD API... - Ryan&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Verifying DNS Lists - FMC</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/09/verifying-dns-lists-fmc/</link>
      <pubDate>Fri, 07 Sep 2018 14:00:47 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/09/verifying-dns-lists-fmc/</guid>
      <description>
        
          &lt;p&gt;We are back with another post about Cisco&#39;s Firepower Management Center and this time we are working with the DNS list which if you have a protect license you can have your Firepower modules or your FTD (Firepower Threat Defense) devices look at DNS requests and deny the requests if they are malicious. These have to be applied on your access control policy to be able to use it and in this post we are going verify some of the domain names that are in this lists.&lt;/p&gt;
&lt;p&gt;So this post is already assuming that you have an Access Control Policy deployed on a Firepower Module (ASA) or a FTD. We also are assuming that you have a DNS policy applied to the FM/FTD. These lists get downloaded about every two hours from Cisco and are updated regularly, best to keep it that way. :) However like everything there is always someone, some system, some program that fails to connect and more often than not it&#39;s usually this critical process that worked yesterday but doesn&#39;t today, so how do we check if we are hitting this?&lt;/p&gt;
&lt;p&gt;There are two ways to check this we can look at the connection events (if you are logging which by default is yes) it will show DNS the events and depending on your policy you&#39;ll see the action taken. In this example we selected to use Domain Not Found for the action. In this example we can see Domain Not Found and we can also see the DNS category its hitting which is DNS Dga.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/07/fmc-dnfee.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Note:&lt;/strong&gt; I have edited this screenshot to show example.com instead of the malicious domain&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We can verify the domain is in this list DNS Dga by connecting to the FMC via SSH and browse to the actual list which is located at /var/sf/sidns_download. When you browse to this location you&#39;ll see something like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;admin@FMC:/var/sf/sidns_download$ 
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;admin@FMC:/var/sf/sidns_download$ ls
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;032ba433-c295-11e4-a919-d4ae5275b77b  Cisco_DNS_Intelligence_Feed
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;1b117672-7453-478c-be31-b72e89ca2dde  IPRVersion.dat
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;23f2a124-8278-4c03-8c9d-d28fe08b71ab  abdc925f-4f85-4504-90a7-c891979ad82a
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;2CCDA18E-DDFF-4F5C-AF9A-F00985219707  b1df3aa8-2841-4c88-8e64-bfaacec7111f
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;2b15cb6f-a3fc-4e0e-a342-ccc5e5804576  d7d996a6-6b92-4a56-8f10-e8506e432fb8
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;30f9e69c-d64c-479c-821d-0e4edab8348d  health
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;3e2af68e-5fc8-4b1c-b5bc-b4e7cab5abcd  health_status
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;5a0b6d6b-e2c3-436f-b4a1-48248b331d39  health_statuslock
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;5f8148f1-e5e4-427a-aa3b-ee1c2745d663  peers
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;60f4e2ab-d96c-44a0-bd38-830252b65259  rep_dd.yaml
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;6ba968f4-7a25-4793-a2c8-7cc77f1f1074  tmp
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;A27C6AAE-8E52-4174-A81A-47C59FECd3a5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Each of these UIDs correspond to DNS feed. For example &lt;strong&gt;b1df3aa8-2841-4c88-8e64-bfaacec7111f&lt;/strong&gt; is for DNS Dga category. You can easily figure out which UID is tied to which DNS category by using the more command, notice the top of the file.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Note:&lt;/strong&gt; I have replaced these domains with examples instead of the malicious domains&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;admin@FMC:/var/sf/sidns_download$ more b1df3aa8-2841-4c88-8e64-bfaacec7111f
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;#Cisco DNS and URL intelligence feed: DNS Dga
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;example.info
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;example.com
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;example.net
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can see in this example that the domain we where trying to resolve is in this blacklist. Usually you&#39;ll have to grep the file to find the domain as these lists can be big, to find a domain follow this command, I&#39;m looking in the DNS Dga category.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;admin@FMC:/var/sf/sidns_download$ more b1df3aa8-2841-4c88-8e64-bfaacec7111f |grep example.com
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;example.com
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;admin@FMC:/var/sf/sidns_download$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This confirms it and we can can either whitelist it or drop the category and then redeploy polices, unless you run into a bug, which I have ran into with whitelisting as it does not seem to work with some older firepower code. Another upgrade is in the works, in the meantime I dropped the DNS category,  I hope this information is helpful, - Ryan&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Installing a GNS3 Server</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/08/installing-a-gns3-server/</link>
      <pubDate>Fri, 17 Aug 2018 14:00:07 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/08/installing-a-gns3-server/</guid>
      <description>
        
          &lt;p&gt;Although GNS3 can run local on your computer and you can use VMware Workstation and have the GNS3 appliance. I found it much more stable and predictable to run GNS3 on a dedicated server. Using this type of installation, all the projects, and images are stored on the GNS3 server, so I can install the GNS3 client any computer and get access to the same projects I was working on. You can also have multiple people working on different projects that are on the same server. I find that neat for educational use or if you where helping someone with a project. In this post I’ll walk though the steps needed to set up a GNS3 server.&lt;/p&gt;
&lt;p&gt;The first thing we need to have is an Ubuntu server 16.04.4 operating system installed, as of writing this GNS3 server only supports 16.04.x LTS, some people have had issues with using Ubuntu’s 18.04 LTS which was released in April of this year. We are about halfway through LTS cycle with 16.04 with support ending in April of 2021, still got time. ;) Once you have Ubuntu server &lt;a href=&#34;http://releases.ubuntu.com/xenial/&#34;&gt;16.04&lt;/a&gt; installed and a static IP address assigned we now need to run the GNS3 script, move to the tmp folder.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;cd /tmp
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;curl https://raw.githubusercontent.com/GNS3/gns3-server/master/scripts/remote-install.sh &amp;amp;gt; gns3-remote-install.sh
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;bash gns3-remote-install.sh --with-openvpn --with-iou --with-i386-repository
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ubuntu Server will download and add the GNS3 PPA (Personal Package Archive) once that finishes which takes about 10 to 15 minutes, go ahead and reboot the system. After a reboot we need to download &lt;a href=&#34;https://openvpn.net/index.php/open-source/downloads.html&#34;&gt;OpenVPN client&lt;/a&gt; for your computer and download the configuration from the GNS3 server. You’ll notice a banner upon a successful login on the GNS3 server, copy that URL and paste in your web browser to download the OpenVPN configuration file. The server will detect your external IP address, just use your statically configured internal address to connect to it if you are local. In this example the internal IP address of this GNS3 server is 192.168.127.131.
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/08/gns3-install-4e.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Depending how you are connecting to the GNS3 Server you might need to edit the OpenVPN configuration file. If you will be connecting from the Internet it will probably work, like if you are using a hosting provider like Packet.net, AWS or your own ISP. If you will normally be connecting from your internal network which is mostly likely the case, you need to edit the bottom of the OpenVPN file to the statically configured IP address you configured when you installed the Ubuntu operating system. In this example the GNS3 server internal IP is 192.168.127.131 so I’ll edit the file with a simple text editor.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/06/gns3-install-5.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Once that is done we should be able to connect to our GNS3 server using the OpenVPN client. When you configure a GNS3 server you must use the OpenVPN regardless if you are locally on the same network or over the internet. We are now ready to go ahead and install the GNS3 client on your computer. In this example I&#39;m using Windows, the GNS3 client can also be used in Linux. When you download and install the GNS3 client I usually leave everything at the defaults except the SolarWinds and NCAP most of this stuff is already on the server and I let the installer do the rest.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/06/gns3-install.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;After the installation is finished go ahead and start GNS3 the first time, you are greeted with a Setup Wizard window. We are using a GNS3 server, so everything is going to run on it. Select the Run everything on a remote server (advanced usage).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/06/gns3-install-2.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Another screen will want to know the IP address of the server to connect to, you need to use the OpenVPN IP address of 172.16.253.1. By default there is no user authentication, also before selecting next make sure you are connected to the GNS3 server with OpenVPN.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/06/gns3-install-8.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;After selecting next GNS3 will verify it can connect to the server and then ask you if want to start importing appliances into GNS3.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/06/gns3-install-7.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;You now have a GNS3 server ready to go, everything runs on this server, your projects, images and any snapshots all run on this server. When there are updates to GNS3 a simple sudo apt-upgrade command will update server and any GNS3 components automatically the only thing you need to do is update your GNS3 client so that the version match on both sides. Some things I noticed when using a GNS3 server is that is changes your host name when you run the GNS3 script but does not change the host file on the server so you might notice when you attempt to shut down or reboot the system, or do any sudo commands it can sometimes hang for a bit, and you get this message:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;sudo: unable to resolve host gns3vm\[/code\]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;To fix that you just need to add in the gns3vm to the host file of the GNS3 server, in this example I&#39;m using nano, and I just added the gns3vm in the host file using a different address of the in loopback space.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;sudo nano /etc/hosts
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;sudo password for ryan:
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;127.0.0.1 localhost
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;192.168.127.131 ubuntu
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;127.0.0.253 gns3vm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I also have not had any problems with security updates and just let the Ubuntu server do that automatically when you first setup the operating system, overall its been a good experience. The server I have GNS3 running has a 256GB SSD, an Intel Xeon E3-1270V5 processor with 32GB of RAM and really no complainants, that&#39;s all I got and like always I hope this information is helpful.&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Cisco FTD Standalone</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/07/cisco-ftd-standalone/</link>
      <pubDate>Wed, 18 Jul 2018 13:30:00 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/07/cisco-ftd-standalone/</guid>
      <description>
        
          &lt;p&gt;No management centers here, sometimes a standalone firewall is all you need. In this post I have a FTD appliance and there really isn’t a need tie this into Cisco’s Firepower Management Center. So we’ll configure appliance in standalone mode and go through the initial first steps that are required to get it online and walk through Firepower Device Manager. If you worked with Cisco FMC you’ll find its pretty similar, so with introductions out-of-the-way let’s get started!&lt;/p&gt;
&lt;p&gt;You are still recommended to have a management network connected to this appliance, here is the topology for this example, thanks GNS3 ;)
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/06/ftdv-topo.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;On first boot you must give the appliance some minutes to boot up when you first turn it on. It starts a first boot process which goes through building and setting up everything it needs. Once the unit is primed and ready you should see a login prompt, login with the default username and password which is admin/Admin123 the appliance will go ahead and display a EULA, agree to it and then the system will want you to change the password. You will then be walked through the initial setup of setting up your management IP address, gateway, DNS servers and after that you will be asked if you want to manage the device locally, since we are not using a FMC make sure to answer YES.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/files/2018/06/qemu-ftdv.mp4&#34;&gt;MP4 FTDv&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Once the device is ready to go, connect via HTTPS to the management IP address of the appliance with a web browser, and login into the system with the password you configured.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/06/fdm-1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;When you first login the setup wizard will walk you through setting up two zones, and inside zone and an outside zone. Or you could skip this step if you scroll down to the bottom of the page. This is helpful if you don’t have internet connection or if you simply want to configure this yourself. In this example I accepted all the defaults. Once you are done with the initial setup screen you will be directed to the main dashboard.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/06/fdm-3.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Believe it or not your now are ready to configure this appliance, if you used the FMC before this has the same wordage so it’ll be familiar to you. If you never worked with FMC or any of these newer Firepower Threat Defense firewalls it might be a learning curve but the built-in help on this is useful, and it’s a good starting point. You can also tie this into the Cisco Defense Orchestrator which is a cloud-based paid tool to help you apply polices to multiple devices. This is nice, so you don’t have to manually configure each device, kind of like a slimmed down version of the FMC.&lt;/p&gt;
&lt;p&gt;If you have worked with Cisco ASAs you’ll notice that you can’t just copy the running-config and paste it on new device. These things are complicated underneath the GUI, which is also why you can only use a GUI. They have everything, but the kitchen sink essentially, basic firewall rules, URL filtering, IPS, identify policies, security intelligence feeds, file polices and SSL Decryption. That stuff just doesn’t work with a static config file and really can’t be configured via CLI like our old friend &lt;a href=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/files/2018/06/datacomm_jan_1995.pdf&#34; title=&#34;Data Communications Jan 1995&#34;&gt;ASA/PIX&lt;/a&gt;. Although sometimes annoying it is the direction the industry has moved into, however, if you are still having a hard time and need to reminisce this appliance does offer a CLI pop-up, but it only offers packet-tracer, ping, some show commands are available and trace route. It&#39;s not much but it may be enough to move forward, good luck. ;)&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;static-comments&#34;&gt;Static Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;%22ragnarok_sage2000@yahoo.com%22&#34;&gt;PrimeUser&lt;/a&gt; - &lt;time datetime=&#34;2019-06-25 23:20:07&#34;&gt;Jun 25, 2019&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Hi, have you experience when you sub-interface the inside port, you cannot do any intervlan routing?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;https://ciscoskills.net/&#34; title=&#34;ryan@ciscoskills.net&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2019-06-26 19:37:39&#34;&gt;Jun 26, 2019&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;I believe you can do inter-vlan routing you just have to create a sub-interface first and then you would be able to use it.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;http://gravatar.com/danchocska&#34; title=&#34;danchocska@gmail.com&#34;&gt;RemoteYordan&lt;/a&gt; - &lt;time datetime=&#34;2020-01-12 11:55:59&#34;&gt;Jan 12, 2020&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Hi Guys, i have this problem. I am trying to reach the gui interface on my virtual FTD and on browser i am able to see only this Service Unavailable The server is temporarily unable to service your request due to maintenance downtime or capacity problems. Please try again later. any idea? br Yordan&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;https://ciscoskills.net/&#34; title=&#34;ryan@ciscoskills.net&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2020-01-13 07:46:38&#34;&gt;Jan 13, 2020&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Hey RemoteYordan, I have seen this before if I remember correctly I had to re image it..which was annoying, but that was on physical hardware not FTDv If you are using the FTDv do you have enough resources on that VM? I have also seen this if resources are taxed or if its just starting up... In my case the Firewall was still up and at least passing and blocking traffic but I had to re-image it... Also I think if you are using the FMC this is normal behavior you won&#39;t be able to locally configure it, if you have configured the FTDv to use the Firepower Management Center. Some ideas, hope those help Ryan&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;%22fdsa@fdsa.fdsa%22&#34;&gt;RALPH NADER&lt;/a&gt; - &lt;time datetime=&#34;2020-01-09 12:17:44&#34;&gt;Jan 9, 2020&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Using FTDv 6.2.0 - don&#39;t have the option to choose locally managed. Requires FMCv :(&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;https://ciscoskills.net/&#34; title=&#34;ryan@ciscoskills.net&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2020-01-11 18:49:59&#34;&gt;Jan 11, 2020&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Hey Ralph, I thought 6.2.0 had that option? I know later versions have it, I played around 6.4.0 and it supported local mode. Thanks Ryan&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Too Many TCP Resets</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/06/too-many-tcp-resets/</link>
      <pubDate>Wed, 20 Jun 2018 16:30:14 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/06/too-many-tcp-resets/</guid>
      <description>
        
          &lt;p&gt;So, recently we enforced some firewall rules on a new environment, we did testing of the environment and everything was working as expected. In about 24 hours a lot of traffic from the web infrastructure was being denied and it continued, at first glance it looked like return traffic was being dropped, the web servers were sourcing at port 443 and the destination ports were using dynamic ports (RFC 6335) No user or application problems were reported when we enforced rules, and we waited additional days to see if anything came up. Nothing came up, the only thing was a spike in amount of syslog messages of dropped traffic coming from the web servers.&lt;/p&gt;
&lt;p&gt;So from that point it really wasn’t an issue, but I thought it would be interesting to see what was going on. I started to look at the firewall logs and enabled debugging to syslog, and as you can see the TCP session is being built and we can also see the TCP Teardown, which should be the end of it, something else was happening instead and it was unexpected.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Wed Jun 20 11:58:46 2018;172.17.70.1; &amp;lt;167&amp;gt;Jun 20 2018 11:58:45 172.17.70.1 : %ASA-7-302013: &lt;code&gt;Built inbound TCP connection 47772320 for OUTSIDE:203.0.113.147/43918 (203.0.113.147/43918) to INSIDE:172.17.77.250/443 (172.17.77.250/443)&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Wed Jun 20 12:00:51 2018;172.17.70.1; &amp;lt;167&amp;gt;Jun 20 2018 12:00:50 172.17.70.1 : %ASA-7-302014: &lt;code&gt;Teardown TCP connection 47772320 for OUTSIDE:203.0.113.147/43918 to INSIDE:172.17.77.250/443 duration 0:02:05 bytes 107244 TCP FINs from INSIDE&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Wed Jun 20 12:00:51 2018;172.17.70.1; &amp;lt;167&amp;gt;Jun 20 2018 12:00:50 172.17.70.1 : %ASA-7-106015: &lt;code&gt;Deny TCP (no connection) from 172.17.77.250/443 to 203.0.113.147/43918 flags RST  on interface INSIDE&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The web servers (172.17.77.250) are sending a RST (Reset) Flag back out the firewall which gets denied. This deny action generates the log message that I was seeing, but why would server 172.17.77.250 be sending a rest flag when the connection was already completed?  To investigate this further I needed to do a packet capture to be able to determine what else is going on, maybe we where loosing traffic upstream and this was just a dirty TCP session I really couldn’t tell, so I started to capture the inside and outside interfaces on this firewall and here are the results:
&lt;strong&gt;Inside Interface Capture&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;33437: 12:00:47.907301       &lt;code&gt;172.17.77.250.443 &amp;gt; 203.0.113.147.43918: F&lt;/code&gt; 2320205170:2320205170(0) ack 991843171 win 65535&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;33438: 12:00:47.952480       &lt;code&gt;203.0.113.147.43918 &amp;gt; 172.17.77.250.443: . ack&lt;/code&gt; 2320205171 win 65535&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;33748: 12:00:50.443687       &lt;code&gt;203.0.113.147.43918 &amp;gt; 172.17.77.250.443: F&lt;/code&gt; 991843171:991843171(0) ack 2320205171 win 65535&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;33749: 12:00:50.443687       &lt;code&gt;203.0.113.147.43918 &amp;gt; 172.17.77.250.443: R&lt;/code&gt; 991843172:991843172(0) ack 2320205171 win 0&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;33750: 12:00:50.443748       &lt;code&gt;172.17.77.250.443 &amp;gt; 203.0.113.147.43918: R&lt;/code&gt; 2320205171:2320205171(0) win 0&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;On the first capture we can see the server 172.17.77.250 sending a FIN as noted with the letter “F”, so the server starts to end the connection. Following that we can see the client sending an acknowledgment as noted with the “. Ack”. We can also see that the client sends a FIN to finish up the connection. What’s interesting is at the same time the FIN is sent from the client a TCP Reset is also sent from the client. Normally we should have just ended the connection with a FIN and one more acknowledgment (ACK) from 172.17.77.250 since it started the TCP termination process. This would have end the connection peacefully, however in this example the client seems to send a FIN and a RST at the same time which causes 172.17.77.250 to also send a TCP RST back to the client.&lt;/p&gt;
&lt;p&gt;If we looked at the outside interface capture, we pretty much see the same thing we can see the FIN being sent from 172.17.77.250 and acknowledgment from the client. The client sends the FIN and the reset flags back to 172.17.77.250 which ultimately should have just been a FIN, instead its FIN and RST. Notice we did not see 172.17.77.250 TCP RST across, this was because that packet was already denied from the inside interface. 
&lt;strong&gt;Outside Interface Capture&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;32158: 12:00:47.907316       &lt;code&gt;172.17.77.250.443 &amp;gt; 203.0.113.147.43918: F&lt;/code&gt; 3349673389:3349673389(0) ack 965033113 win 65535&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;32159: 12:00:47.952480       &lt;code&gt;203.0.113.147.43918 &amp;gt; 172.17.77.250.443: . ack&lt;/code&gt; 3349673390 win 65535&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;32468: 12:00:50.443672       &lt;code&gt;203.0.113.147.43918 &amp;gt; 172.17.77.250.443: F&lt;/code&gt; 965033113:965033113(0) ack 3349673390 win 65535&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;32469: 12:00:50.443687       &lt;code&gt;203.0.113.147.43918 &amp;gt; 172.17.77.250.443: R&lt;/code&gt; 965033114:965033114(0) ack 3349673390 win 0&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I was not seeing this on every connection that was being made and the fact that this client was sending TCP RST at the end of the FIN tell us that it’s something the client is doing. I was able to run a test on my own against this to see what a good “peaceful” connection looks like to compare the results. I ran the same functions as what this client would be doing. In this example my IP address is 192.0.2.167, here are the results. From the firewall debugging logs we can see the TCP session being built for 192.0.2.167 and the TCP teardown, also notice we don’t see any denied TCP connections from 172.17.77.250, so that’s a good start!&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Wed Jun 20 14:22:39 2018;172.17.70.1; &amp;lt;167&amp;gt;Jun 20 2018 14:22:34 172.17.70.1 : %ASA-7-609001: &lt;code&gt;Built local-host OUTSIDE:192.0.2.167&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Wed Jun 20 14:22:39 2018;172.17.70.1; &amp;lt;167&amp;gt;Jun 20 2018 14:22:34 172.17.70.1 : %ASA-7-302013: &lt;code&gt;Built inbound TCP connection 49008818 for OUTSIDE:192.0.2.167/3954 (192.0.2.167/3954) to INSIDE:172.17.77.250/443 (172.17.77.250/443)&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Wed Jun 20 14:22:55 2018;172.17.70.1; &amp;lt;167&amp;gt;Jun 20 2018 14:22:51 172.17.70.1 : %ASA-7-302014: &lt;code&gt;Teardown TCP connection 49008818 for OUTSIDE:192.0.2.167/3954 to INSIDE:172.17.77.250/443 duration 0:00:16 bytes 1051013 TCP FINs from OUTSIDE&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Wed Jun 20 14:22:55 2018;172.17.70.1; &amp;lt;167&amp;gt;Jun 20 2018 14:22:51 172.17.70.1 : %ASA-7-609002: &lt;code&gt;Teardown local-host OUTSIDE:192.0.2.167 duration 0:00:16&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Looking at the packet capture we can also see peaceful TCP sessions closing:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;544: 14:22:51.372035       &lt;code&gt;192.0.2.167.3954 &amp;gt; 172.17.77.250.443: F&lt;/code&gt; 221753878:221753878(0) ack 2290377569 win 64296 &amp;lt;nop,nop,timestamp 1618672784 1798676063&amp;gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;545: 14:22:51.372218       &lt;code&gt;172.17.77.250.443 &amp;gt; 192.0.2.167.3954: P 2290377569:2290377600(31)&lt;/code&gt; ack 221753879 win 64296 &amp;lt;nop,nop,timestamp 1798678251 1618672784&amp;gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;546: 14:22:51.372234       &lt;code&gt;172.17.77.250.443 &amp;gt; 192.0.2.167.3954: F&lt;/code&gt; 2290377600:2290377600(0) ack 221753879 win 64296 &amp;lt;nop,nop,timestamp 1798678251 1618672784&amp;gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;547: 14:22:51.397608       &lt;code&gt;192.0.2.167.3954 &amp;gt; 172.17.77.250.443: . ack 2290377600&lt;/code&gt; win 64296 &amp;lt;nop,nop,timestamp 1618672790 1798678251&amp;gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;548: 14:22:51.397699       &lt;code&gt;192.0.2.167.3954 &amp;gt; 172.17.77.250.443: . ack&lt;/code&gt; 2290377601 win 64296 &amp;lt;nop,nop,timestamp 1618672790 1798678251&amp;gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The client (me) requested to finish up the connection, 172.17.77.250 is doing a TCP Push back to us we wait for the FIN from 172.17.77.250 which comes to us shortly. After that you can see two acknowledgments both are from me. The first ACK is for that TCP Push packet that was created by 172.17.77.250, the second ACK from the client (me) is acknowledgment of the FIN. We have ended the connection peacefully and that’s how it should be.&lt;/p&gt;
&lt;p&gt;However, the Internet is a weird place and that’s not what’s happening, so what’s the issue? Well that really was hardest part of this problem and here’s my theory, 172.17.77.250 is sending a TCP RST back to the client is because 172.17.77.250 wasn’t expecting it in the first place. It was finishing up the connection between the client and because of this unexpected TCP packet from the client 172.17.77.250 sends a TCP RST. The connection is not valid, and our server wants to start over. In the meantime, the TCP session was already closed by the firewall because it saw that last FIN from the client. That last TCP RST packet from the server gets denied and never reaches the client, but that still does not answer our question.&lt;/p&gt;
&lt;p&gt;Why are seeing a FIN and RST from the client in the first place? This TCP connection is using TLS, so I started to look at how TLS functions in a TCP connection. When communication starts, and we finish our TCP handshake, then if the connection is over TLS we do a TLS handshake-&amp;gt; After the two hosts agree on the ciphers and TLS settings data is exchanged encrypted-&amp;gt;After TLS is done with the data TLS &lt;strong&gt;should&lt;/strong&gt; send a close notify to “peacefully” end the TLS session-&amp;gt;Following that TCP closes with a FIN and it is peaceful. :)&lt;/p&gt;
&lt;p&gt;I couldn’t investigate the TLS packet because it was encrypted however I think it had something to do with the close notify action of TLS. Not all implementations of SSL/TLS follow that rule even through RFC 5246 seems to imply that a close notify is required. I think this would explain the reason why the server sends RST when it receives both a FIN and RST at the same time from the client, it was unexpected, and we did not close the TLS session properly. When I did the test, I didn’t get any TCP resets. Although we where not seeing any disruptions from this it was helpful to at least figure out what the problem is and then being able to theorize what we could do to fix that problem.&lt;/p&gt;
&lt;p&gt;In this example its related to the client so we can’t do anything on our end. The fact that this is happening at the end of the TCP connection, you are not going to notice anyway because you already have data you requested. We don&#39;t really care how the connection closes. I hope this post was helpful in understanding how to dig in the weeds and even through the connection worked, its helpful to understand any anomalies because those could turn into problems in the future.&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Configuring Layer Three EtherChannel</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/05/configuring-layer-three-etherchannel/</link>
      <pubDate>Mon, 07 May 2018 13:15:02 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/05/configuring-layer-three-etherchannel/</guid>
      <description>
        
          &lt;p&gt;When you want more speed all you need is EtherChannel, EtherChannel can be configured as a layer three logical interface instead of just sitting at layer two. This is very helpful if we are running layer three down to the access layer switches, instead of at the distribution layer. You also could see this in a collapsed core design, we also don’t have to worry too much about STP when we configure EtherChannel’s. The only requirements to use layer three EtherChannels is your switch need is support layer three “routed” interfaces, so with that let&#39;s get started!&lt;/p&gt;
&lt;p&gt;This is pretty much the same as configuring a &lt;a href=&#34;https://ciscoskills.net/2013/10/12/configuring-etherchannel-pagb/&#34;&gt;layer two EtherChannel&lt;/a&gt; with one exception, in this example I’ve got three switches one access layer switch and two distribution/core switches. We are running layer three all the way down to the access layer, so we don’t have worry about STP between the two distribution/core switches and remember VLANs/Networks are locally significant to each access layer switch in this design.
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2018/05/etherchannel-l3.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;I have already configured SW1 and SW2 links between them as well as the network that SW3 has for the access layer, on SW1 and SW2 we need to create port-channels going to SW3.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW1(config)# interface ethernet2/1-2
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW1(config-if-range)# channel-group 11 mode active
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;SW1(config-if-range)# no shutdown
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW2(config)# interface ethernet2/1-2 
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW2(config-if-range)# channel-group 12 mode active
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;SW2(config-if-range)# no shutdown
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Next after the port-channels are created we assign an IP address to the port-channel, this just like any other interface instead of using a dedicated port you use the port-channel..simple ;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW1(config)# interface port-channel 11
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW1(config-if)# ip address 172.16.0.1/30
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW2(config)# interface port-channel 12 
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW2(config-if)# ip address 172.16.0.5/30
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We now reference the same steps that we did with SW1 and SW2 on SW3. Let’s create two different port-channels because these are going to two different switches on SW3.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW3(config)# interface ethernet2/1-2 
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW3(config-if-range)# channel-group 11 mode active
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;SW3(config-if-range)# no shutdown
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;SW3(config)# interface ethernet2/3-4
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;SW3(config-if-range)# channel-group 12 mode active
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;SW3(config-if-range)# no shutdown
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Just like what we did on SW1 and SW2, we need to assign IP addresses on these port-channels on SW3.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW3(config)# interface port-channel 11
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW3(config-if)# ip address 172.16.0.2/30
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;SW3(config-if)# interface port-channel 12
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;SW3(config-if)# ip address 172.16.0.6/30
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And…That’s it, this is pretty simple design to set up, if you put a routing protocol on it this can scale out easily. Each access switch would belong to a different network being able to map devices by physical location, instead of extending VLANs across the campus. I hope this information is helpful, Summer 2018 is right around the corner at the US of A so be sure enjoy it!&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Wireless VLANs</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/04/wireless-vlans/</link>
      <pubDate>Mon, 16 Apr 2018 13:30:10 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2018/04/wireless-vlans/</guid>
      <description>
        
          &lt;p&gt;It’s been fun four months of 2018 so far and I’m back to talk about Wireless VLANs. With 802.11ax around the corner (2019) I think we all can agree that “weird” connections although less likely have interference isn’t as mobile as a wireless LAN. Also, with 802.11ax the maximum theoretical throughput is 10Gbps! We’re going to need some serious backend infrastructure available to be able to support that type of bandwidth. So, let’s look at configuring a wireless VLANs for our mobile users!&lt;/p&gt;
&lt;p&gt;Just like regular weird LANs, we want to separate traffic to be able to have a secure network, because it&#39;s usually not only your employees that will use the wireless network, we could have guest networks, department networks and even infrastructure/IoT networks. Like for security cameras, motion sensors, thermostats, lights, and so much more, just within that list you have at least three wireless networks if not four if you needed to have further separation. So how do you configure wireless to have multiple VLANs attached to it? First you must look at the wireless hardware you are working with. That hardware at least needs to support a trunk link, that’s what makes this magic happen. If supports VLAN trunks, then chances are it comes in two flavors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Wireless Controller with “lightweight” access points, which essentially tunnel the traffic back to the controller. The controller has a trunk link with all the Wireless VLANs connected to it. The access points don’t need access to all those wireless VLANs, they can join a management network and route/tunnel the traffic back to the controller.&lt;/li&gt;
&lt;li&gt;Autonomous access points which as the name suggest act on their own they don’t join a controller and therefore would need access to all wireless VLANs that are configured in the network.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next, if your wireless hardware supports multiple VLANs then it can probably support multiple networks and broadcast multiple SSIDs, which is how you can get multiple wireless networks on the same hardware. Each network can have different restrictions as well as different authentication methods to get on the network. Like using 802.1x (WPA2 Enterprise), WPA2 Personal, and even WPA3 which was certified this year. Once you have all that information and know what type of access point you have the last thing to do is configuring the switchport which is probably the simplest thing when it comes to WLANs. So in this example we have four networks that we want to put on the airwaves.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(410) - GUEST-WLAN&lt;/li&gt;
&lt;li&gt;(420) - MARKET-DEPT-WLAN&lt;/li&gt;
&lt;li&gt;(430) - DEFUALT-EMPLOYEE-WLAN&lt;/li&gt;
&lt;li&gt;(440) - SECURITY-WLAN&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If we look at &lt;strong&gt;show vlan&lt;/strong&gt; output we can see I have the VLANs created on this switch.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;VLAN Name                             Status    Ports
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;---- -------------------------------- --------- -------------------------------
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;1    default                          active    Eth2/1, Eth2/2, Eth2/3, Eth2/4
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;                                                Eth2/5
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;410  GUEST-WLAN                       active    Eth2/1, Eth2/2, Eth2/3, Eth2/4
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;                                                Eth2/5
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;420  MARKET-DEPT-WLAN                 active    Eth2/1, Eth2/2, Eth2/3, Eth2/4
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;                                                Eth2/5
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;430  DEFUALT-EMPLOYEE-WLAN            active    Eth2/1, Eth2/2, Eth2/3, Eth2/4
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;                                                Eth2/5
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;440  SECURITY-WLAN                    active    Eth2/1, Eth2/2, Eth2/3, Eth2/4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;In this example I have a wireless controller connected to ethernet 2/10. I simply need to add a trunk link and only allow these VLANs to the port.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW01(config)# interface ethernet 2/10
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW01(config-if)# switchport mode trunk
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;SW01(config-if)# switchport trunk allowed vlan 410,420,430,440
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;SW01(config-if)# no shutdown
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I would do the same configuration if I was using an autonomous access point, I would also probably add a management VLAN as well. This configuration would need to be applied to every access point that is connected within the organization. Wireless is going to continue to grow and this is just another side of how much bandwidth wireless is going to take up. I find it hard to imagine that weird networks might be the thing of the past for end-users but it’s moving into the direction, especially when you can get more than 1Gbps out of a wireless connection, that changes things. You now must look at getting switches that support either NBASE-T or even just 10GBASE-T otherwise what’s the point of buying that 802.11ax access point? The silver lining in all of this is it gets cheaper on the switching side :) That’s all I got for now, I hope this information is helpful.&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;static-comments&#34;&gt;Static Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://loopedback.com&#34; title=&#34;ande0255@gmail.com&#34;&gt;Loopy&lt;/a&gt; - &lt;time datetime=&#34;2018-08-04 06:13:52&#34;&gt;Aug 4, 2018&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;With the 2500 WLCs, are two physical interfaces REALLY required to securely separate Guest from Internal corporate traffic? I seem to find this a lot in production networks I work on, and it seems to defy the logic of separating networks with VLANs. Could you expand upon the reasoning or benefit of using separate interfaces, or if its necessary at all given your experience? The thing I really don&#39;t get is these traffic flows meet on the switched network anyways, it is beyond me why someone would use two trunks vs a single trunk link in an Active / Active setup to separate traffic from WLC and the wireless network from the wired LAN? I will follow your blog here, look forward to your wireless posts, keep at it :)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;http://ciscoskills.net/&#34; title=&#34;ryan@ciscoskills.net&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2018-08-06 18:20:07&#34;&gt;Aug 1, 2018&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Hey Loopy, The benefit I see when using an separate interface for guest traffic is if you actually have a separate ISP for your guest network. If you are using the same network as internal people there&#39;s not really a reason to use another interface. Maybe if you are tapping out the bandwidth of that single trunk interface but that would probably be be the only reason for separation. Personally if I did not have an option to run a separate ISP for the guest network and I wasn&#39;t worried about bandwidth, I would just use a single interface until it becomes a problem with bandwidth. Thanks Ryan&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Factory Reset Firepower 2100</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/12/factory-reset-firepower-2100/</link>
      <pubDate>Fri, 01 Dec 2017 16:00:49 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/12/factory-reset-firepower-2100/</guid>
      <description>
        
          &lt;p&gt;In this short guide I wanted to walk through the steps to do a factory reset for the Cisco Firepower 2100 series. When doing these resets all configuration and the administrative password are removed, as well as the FTD (Firepower Threat Defense) app-instance. When the unit starts to boot it will reinstall the FTD app-instance to default configuration.&lt;/p&gt;
&lt;p&gt;There are two ways to factory reset these Firepower 2100 units. If you can get into the device you can simply use these commands: &lt;code&gt;connect local-mgmt erase configuration&lt;/code&gt; The other method is used for if you are unable to get into the unit because either you don&#39;t know the password or something else has happened to make this appliance unstable enough that a factory reset is needed.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: You have to be able to view the console port and power off the device in order to do the following:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Connect to the console of the device&lt;/li&gt;
&lt;li&gt;Power off the system and turn it back on&lt;/li&gt;
&lt;li&gt;When the system is booting you have to go into ROMMON mode, to do that press ESC or CTRL+L to interrupt the boot process.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;*********************************************************************
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;Cisco System ROMMON, Version 1.0.00, RELEASE SOFTWARE
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;Copyright (c) 1994-2017  by Cisco Systems, Inc.
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;Compiled Tue 01/03/2017 23:55:11.41 by builder
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;*********************************************************************
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;Current image running: Boot ROM0
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;Last reset cause: PowerCycleRequest
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;DIMM_1/1 : Present
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;DIMM_2/1 : Absent
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;Platform FPR-2110 with 16384 MBytes of main memory
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;BIOS has been successfully locked !!
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;MAC Address: 00:27:e3:f6:e6:c8
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;Use BREAK or ESC to interrupt boot.
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;Use SPACE to begin boot immediately.
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;Boot interrupted.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You will now be at the ROMMOM prompt&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;rommon 1 &amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;To preform a recovery type the following&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;rommon 1 &amp;gt; password_reset
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;WARNING: User configurations will be lost with this operation
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;Are you sure ? yes/no [no]: yes
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;Enabling password reset..
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;Please continue to boot the image
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The system will now boot into FXOS and attempt to reinstall the FTD application, the username and passwords are now at default settings and the FTD app-instance would also reinstall. Depending on the version of FTD that is installed by default you may have to reinstall any patches to get your unit up to update.&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;static-comments&#34;&gt;Static Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;%22nathan.timberlake@gucu.org%22&#34;&gt;Nathan Timberlake&lt;/a&gt; - &lt;time datetime=&#34;2019-02-15 13:54:22&#34;&gt;Feb 15, 2019&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;I am wondering how to recover if you are running ASA code on a 2110. I have accidentally added TACACS commands while playing around, and locked myself out. This would be really bad if I had written mem!&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;https://ciscoskills.net/&#34; title=&#34;ryan@ciscoskills.net&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2019-02-15 21:10:26&#34;&gt;Feb 155, 2019&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Hey Nathan, I really have not played with ASA code on 2100 hardware, but I would think it is the same process since you are going into ROMmon mode anyway. I&#39;m guessing since you have ASA code instead of FTD it would just reinstall the ASA application just like it does with FTD, total guess... Ryan&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>VLAN Access Lists (VACLs)</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/11/vlan-access-lists-vacls/</link>
      <pubDate>Mon, 20 Nov 2017 14:00:55 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/11/vlan-access-lists-vacls/</guid>
      <description>
        
          &lt;p&gt;VACLs are another good layer of security to help control who can talk to who, much like  access control lists that are in firewalls and routers, however the difference is VACLs operate at layer two of the OSI model. There could be situations where you have multiple hosts on the same LAN and want to block traffic from reaching certain hosts within that same network, how would you go about blocking that type of traffic without using a router or firewall? &lt;em&gt;(Hint: Create a VACL)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In this post we have a DMZ and an INTERNAL network. The goal is to block DMZ systems from reaching other servers in the DMZ. We have are standard &amp;quot;out of the box&amp;quot; configuration firewall that is between the DMZ and INTERNAL network. In this example the firewall is configured with security-levels in place. The INTERNAL zone has a security-level of 100 and the DMZ zone as a security-level 80. We have two VLANs on this switch, VLAN two (2) which is the DMZ and VLAN three (3)  which is the INTERNAL VLAN. The firewall is using the &amp;quot;router on a stick&amp;quot; configuration and trunking VLANs on the single interface, and we have four servers total. Two DMZ servers and two INTERNAL servers are in this example.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/11/vacl-sample.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;The INTERNAL servers can reach the DMZ servers, however the DMZ servers can&#39;t reach the INTERNAL systems which is expected because of the security-levels that are configured on the firewall. However the DMZ servers can reach other, to disable that we need to create an ACL on the switch before we create a VACL :)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;ip access-list extended BLK-DMZ-COMS permit ip 192.168.2.0 0.0.0.255 192.168.2.0 0.0.0.255
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This extended ACL is used to identify the source and destination traffic that we want to block. In this example this ACL matches DMZ servers talking to other DMZ servers in the 192.168.2.0/24 network. Next we have to build a VLAN access map, in this example I&#39;m calling it &amp;quot;VACL-BLK-DMZ-COMS&amp;quot;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;vlan access-map VACL-BLK-DMZ-COMS 10 match ip address BLK-DMZ-COMS action drop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This VLAN access map matches the IP address in our ACL that we created as well as the action to take if a match is successful. However just like ACLs VLANs access-maps have an implicit deny so we need to add another entry to the access map to allow everything else.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;vlan access-map VACL-BLK-DMZ-COMS 20 action forward
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The final thing is to apply this VACL that we just created to the VLAN we want this VACL to apply enforce, which would be VLAN 2.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;vlan filter VACL-BLK-DMZ-COMS vlan-list 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That&#39;s it! We have just enabled this VACL onto VLAN 2, the DMZ servers can no longer talk to each other. Our internal systems can still reach both of the DMZ systems just like we wanted. I hope this information is helpful,&lt;/p&gt;
&lt;p&gt;If you are using Cisco VIRL here is a &lt;a href=&#34;https://github.com/lewiryan/VIRL/blob/master/Completed/VACL%20Sample.virl&#34;&gt;link on GitHub&lt;/a&gt; to the file I was working with.&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Enable the NX-OS API</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/10/enable-the-nx-os-api/</link>
      <pubDate>Wed, 18 Oct 2017 13:18:42 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/10/enable-the-nx-os-api/</guid>
      <description>
        
          &lt;p&gt;So what has changed in the past 20 years? Take for example the network equipment that was manufactured in 1997, how did you configure that equipment? I would imagine it involved a serial port, HyperTerminal and trusty command line. Was API even a thing back in 1997, was it common to have an API interface in network equipment like today? Why do we even need an API on the equipment in the first place? What changed?  Well the year isn&#39;t 1997 anymore, that past us 20 years ago and the equipment we work with today looks and operates much differently than it did in 1997.&lt;/p&gt;
&lt;p&gt;We work in a world now that operates with Gbps/Tbps not Kbps/Mbps. With the need for speed CLI isn&#39;t the fastest thing anymore to configure or monitor network devices. This industry is moving into automated ways to configure and monitor network devices. So in this post we&#39;ll look at enabling the NX-API that&#39;s in the Cisco Nexus 9000 and 3000 family switches, and in foing this we&#39;ll get introduced into the Cisco NX-API sandbox.&lt;/p&gt;
&lt;p&gt;To enable this API  jump right into CLI and configure the management interface, we&#39;ll be able to use this API using the management IP address of the switch.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;vrf context management
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;interface mgmt0
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;  description OOB Management
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;  vrf member management
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;  ip address 172.16.1.192/24
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Once the management interface is configured we now can enable the NX-API by one command.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;nx-osv9000-1# config t
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;nx-osv9000-1(config)# feature nxapi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Open a web browser to the management IP address and login with a username and password.
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/10/nx-api-login.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Welcome to NX-API Sandbox! With this we can play around to get a further understanding of how to use this API. Like being able to configure and or monitor this device with either a custom home-grown system, or the use some network automation software like Puppet or Chef.
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/10/nx-api-sand.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;so-now-what&#34;&gt;So now what?&lt;/h3&gt;
&lt;p&gt;Well if you are like me and really don&#39;t have much programming experience or just enough to be dangerous this where you get comfortable and use this sandbox to understand what it can and cannot do. For example on the upper right hand side, if I select &lt;strong&gt;XML&lt;/strong&gt; on the message format, then &lt;strong&gt;cli_show&lt;/strong&gt; on the command type, followed by typing the command &lt;strong&gt;show hostname&lt;/strong&gt; in the CLI command box, and finishing by selecting the post button, I should see an output of an XML request as well as the XML response from the switch.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;ins_api&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;cli_show&lt;span class=&#34;nt&#34;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;sid&amp;gt;&lt;/span&gt;eoc&lt;span class=&#34;nt&#34;&gt;&amp;lt;/sid&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;outputs&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;output&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;hostname&amp;gt;&lt;/span&gt;nx-osv9000-1&lt;span class=&#34;nt&#34;&gt;&amp;lt;/hostname&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;     &lt;span class=&#34;nt&#34;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;input&amp;gt;&lt;/span&gt;show hostname&lt;span class=&#34;nt&#34;&gt;&amp;lt;/input&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;msg&amp;gt;&lt;/span&gt;Success&lt;span class=&#34;nt&#34;&gt;&amp;lt;/msg&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;code&amp;gt;&lt;/span&gt;200&lt;span class=&#34;nt&#34;&gt;&amp;lt;/code&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/output&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/outputs&amp;gt;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/ins_api&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Sandbox is a loose term here as any configuration viewed or applied is live on the equipment, don&#39;t play in the sandbox on production equipment. :)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This post just scratches the surface of what you could do with this API, being able to either write something yourself or using third-party software to help configure and maintain network equipment makes your job easier. Although we still have equipment and even people today that still like those three letters &amp;quot;CLI&amp;quot;, being able to use an API that can configure and maintain provides options for these devices, and who doesn&#39;t like that?&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Enter Cisco Firepower CLI (Read-Only)</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/09/enter-cisco-firepower-cli-read-only/</link>
      <pubDate>Wed, 20 Sep 2017 11:45:41 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/09/enter-cisco-firepower-cli-read-only/</guid>
      <description>
        
          &lt;p&gt;You have the FMC installed and connect to FTD device with configuration deployed but for what ever reason there is a problem and you need to enter the CLI on the Firepower device to troubleshoot the equipment and although you can&#39;t configure anything you can do show and debug commands to troubleshoot via the CLI. We have to enter the Diagnostic CLI and we can do this in two ways:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Once logged into the Firepower default prompt type system support diagnostic-cli command.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;&amp;gt; system support diagnostic-cli
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;Attaching to Diagnostic CLI ... Press &amp;#39;Ctrl+a then d&amp;#39; to detach.
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;Type help or &amp;#39;?&amp;#39; for a list of available commands.
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;firepower#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;The other way is to go into expert mode followed by using the sudo lina_cli command.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;host-172-16-1-187 login: admin
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;Password:
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;Last login: Sun Jul 23 17:30:34 UTC 2017 on ttyS0
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&amp;gt; expert
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;admin@host-172-16-1-187:~$ sudo lina_cli
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;We trust you have received the usual lecture from the local System
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;Administrator. It usually boils down to these three things:
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;    #1) Respect the privacy of others.
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;    #2) Think before you type.
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;    #3) With great power comes great responsibility.
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;Password:
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;Attaching to Diagnostic CLI ... Press &amp;#39;Ctrl+a then d&amp;#39; to detach.
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;Type help or &amp;#39;?&amp;#39; for a list of available commands.
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;firepower&amp;gt; en
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;Password: ********
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;Invalid password
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;Password:
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;firepower#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If we look at the show version we can see in this example we are running ASA code with FXOS running with it.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;firepower# show version
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;---------------[ host-172-16-1-187 ]----------------
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;Model                     : Cisco Firepower Threat Defense for KVM (75) Version 6.2.0.2 (Build 51)
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;UUID                      : 3b5ca718-6fc3-11e7-a879-c553f010958b
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;Rules update version      : 2017-06-07-001-vrt
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;VDB version               : 281
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;----------------------------------------------------
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;Cisco Adaptive Security Appliance Software Version 9.7(1)10
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;Firepower Extensible Operating System Version 2.1(1.66)
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;Compiled on Wed 10-May-17 09:41 PDT by builders
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;System image file is &amp;#34;(hd0,0)/asa971-4-smp-k8.bin&amp;#34;
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;Config file at boot was &amp;#34;startup-config&amp;#34;
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;firepower up 37 mins 39 secs
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;Hardware:   ASAv, 8192 MB RAM, CPU Pentium II 3600 MHz, 1 CPU (4 cores)
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;Model Id:   ASAv30
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;BIOS Flash Firmware Hub @ 0x0, 0KB
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt; 0: Int: Internal-Data0/0    : address is fa16.3ee6.43df, irq 11
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt; 1: Ext: GigabitEthernet0/0  : address is fa16.3ebf.f299, irq 10
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt; 2: Ext: GigabitEthernet0/1  : address is fa16.3e8b.53bc, irq 10
&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt; 3: Int: Internal-Control0/0 : address is 0000.0001.0001, irq 0
&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt; 4: Int: Internal-Data0/0    : address is 0000.0000.0000, irq 0
&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt; 5: Ext: Management0/0       : address is fa16.3ee6.43df, irq 0
&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt; 6: Int: Internal-Data0/1    : address is 0000.0000.0000, irq 0
&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;Serial Number: 9AXESJTCR3F
&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;Image type          : Release
&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;Key version         : A
&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;Configuration last modified by enable_1 at 18:24:33.151 UTC Sun Jul 23 2017
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you worked in the Cisco ASA world before you might find the CLI a refreshing memory because all of your debugs, show outputs and the packet tracer troubleshooting tool are all there. You might be asking well its good to see the configuration but how do I configure something that may not be in the FMC? Well we can use something called FlexConfig and is available from FMC 6.2.0 and onward.&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>GLBP Load Balancing</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/08/glbp-load-balancing/</link>
      <pubDate>Thu, 17 Aug 2017 14:15:23 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/08/glbp-load-balancing/</guid>
      <description>
        
          &lt;p&gt;We could use HSRP or VRRP to have a redundant default gateway for our PC/server networks. Although this works well we now have hardware powered-on and just sitting around waiting for its counterpart to fail, we are not actively using it. We could split up networks or use multiple default gateways within the same network but who does that? Well if your router or layer three switch happens to have that Cisco logo on it and a software release of at least 12.2(14)S, please welcome and &amp;quot;slow clap&amp;quot; the Gateway Load Balancing protocol, who has been around since 2002!&lt;/p&gt;
&lt;p&gt;So the way this protocol works is you must have at least two devices (makes sense) in a GLBP group. The GLBP group has one AVG (Active Virtual Gateway) and multiple AVFs (Active Virtual Forwarders) if you have more than two devices. The AVG is the master of the group and assigns virtual MAC address to each AVF member. Remember each AVF is responsible for forwarding packets sent to their virtual MAC address, they act independently from the AVG.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: The AVG is also an AVF When a PC/server makes an ARP request to reach the default gateway each router in the GLBP group share the load by default one client will get a MAC address from one router, while the other client will get an address from another router but both clients point to the same IP address for the default gateway.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In this example I have two different GLBP networks, the 192.168.1.0/24 and the 192.168.2.0/24 with three routers in each LAN. I also have a routing protocol running  between the routers (&lt;a href=&#34;http://ciscoskills.net/2017/05/25/configuring-eigrp-named-mode/&#34;&gt;Named EIGRP&lt;/a&gt;) to better handle the multiple paths as well as recover from failed links.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/07/glbp.png&#34; alt=&#34;GLBP network with three routers&#34;&gt;&lt;/p&gt;
&lt;p&gt;To configure GLBP let&#39;s start on the 192.168.1.0/24 network, we have to configure the following on each router that belongs to the 192.168.1.0/24, which would be R1, R2, and R3, this configuration is under the interface that belongs to the 192.168.1.0/24 network. (Gigabit0/1)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;glbp 1 ip 192.168.1.1 glbp 1 preempt glbp 1 authentication md5 key-string cisco123
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If we care which router is the AVG and which one is in succession we would have to configure the priority, higher is better. In this example we want R1 the AVG, R2 and R3 are backup AVGs. We also want to do the same thing for R4, R5, and R6 with R4 the AVG, R5 and R6 backup AVGs. On R1 and R4 under interface (Gigabit0/1):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;glbp 1 priority 200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;On R2 and R5 under interface (Gigabit0/1):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;glbp 1 priority 175
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;On R3 and R6 under interface (Gigabit0/1):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;glbp 1 priority 150
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can verify if everything works by issuing the command show glbp brief&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;R1#show glbp brief
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;Interface   Grp  Fwd Pri State    Address         Active router   Standby router
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;Gi0/1       1    -   200 Active   192.168.1.1     local           192.168.1.12
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;Gi0/1       1    1   -   Active   0007.b400.0101  local           -
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;Gi0/1       1    2   -   Listen   0007.b400.0102  192.168.1.12    -
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;Gi0/1       1    3   -   Listen   0007.b400.0103  192.168.1.13    -
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;R4#show glbp brief
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;Interface   Grp  Fwd Pri State    Address         Active router   Standby router
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;Gi0/1       1    -   200 Active   192.168.2.1     local           192.168.2.15
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;Gi0/1       1    1   -   Active   0007.b400.0101  local           -
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;Gi0/1       1    2   -   Listen   0007.b400.0102  192.168.2.15    -
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;Gi0/1       1    3   -   Listen   0007.b400.0103  192.168.2.16    -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If we look at PC1 we can ping PC3 which tells us routing is working as well as GLBP. Looking at the ARP table on PC1 we notice that the default gateway MAC address is 00:07:b4:00:01:01&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;C:\Documents and Settings\VIRL&amp;gt;ping 192.168.1.21
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;Pinging 192.168.1.21 with 32 bytes of data:
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;Reply from 192.168.1.21: bytes=32 time=1ms TTL=126
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;Reply from 192.168.1.21: bytes=32 time=1ms TTL=126
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;Reply from 192.168.1.21: bytes=32 time&amp;lt;1ms TTL=126
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;Reply from 192.168.1.21: bytes=32 time&amp;lt;1ms TTL=126 
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;Ping statistics for 192.168.1.21:      
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss), 
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;Approximate round trip times in milli-seconds:  
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;    Minimum = 0ms, Maximum = 1ms, Average = 0ms 
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;C:\Documents and Settings\VIRL&amp;gt;arp -a
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;Interface: 192.168.2.22 --- 0x10003
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;  Internet Address      Physical Address      Type
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;  192.168.2.1           00-07-b4-00-01-01     dynamic   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Looking on PC2 we can ping PC4, looking at the ARP table notice that MAC address is different from what PC1 has, which is exactly how GLBP works :)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;C:\Documents and Settings\VIRL&amp;gt;ping 192.168.1.22
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;Pinging 192.168.1.22 with 32 bytes of data:
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;Reply from 192.168.1.22: bytes=32 time=1ms TTL=126
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;Reply from 192.168.1.22: bytes=32 time=1ms TTL=126
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;Reply from 192.168.1.22: bytes=32 time=1ms TTL=126
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;Reply from 192.168.1.22: bytes=32 time=1ms TTL=126
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;Ping statistics for 192.168.1.22:
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;Approximate round trip times in milli-seconds:
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;    Minimum = 1ms, Maximum = 1ms, Average = 1ms
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;C:\Documents and Settings\VIRL&amp;gt;arp -a
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;Interface: 192.168.2.21 --- 0x10003
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;  Internet Address      Physical Address      Type
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;  192.168.2.1           00-07-b4-00-01-03     dynamic
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;  192.168.2.22          fa-16-3e-2d-9c-a5     dynamic   
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;C:\Documents and Settings\VIRL&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here is a traceroute from PC3 going to PC1 notice the hops.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;C:\Documents and Settings\VIRL&amp;gt;tracert 192.168.2.21
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;Tracing route to 192.168.2.21 over a maximum of 30 hops
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;  1    &amp;lt;1 ms    &amp;lt;1 ms    &amp;lt;1 ms  192.168.1.12
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;  2    &amp;lt;1 ms    &amp;lt;1 ms    &amp;lt;1 ms  172.16.0.18
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;  3     1 ms    &amp;lt;1 ms    &amp;lt;1 ms  192.168.2.21  
&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;8&lt;/span&gt;Trace complete.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here is a traceroute from PC4 going to PC2 notice the hops, a little different from PC3.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;C:\Documents and Settings\VIRL&amp;gt;tracert 192.168.2.22
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;Tracing route to 192.168.2.22 over a maximum of 30 hops
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;  1    &amp;lt;1 ms    &amp;lt;1 ms    &amp;lt;1 ms  192.168.1.13
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;  2     1 ms    &amp;lt;1 ms    &amp;lt;1 ms  172.16.0.34
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;  3     4 ms     1 ms    &amp;lt;1 ms  192.168.2.22 
&lt;span class=&#34;ln&#34;&gt;7&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;8&lt;/span&gt;Trace complete.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That&#39;s all I got for this one, if you want to continue reading about GLBP you go right to source &lt;a href=&#34;http://www.cisco.com/en/US/docs/ios/12_2t/12_2t15/feature/guide/ft_glbp.html#wp1043699&#34;&gt;GLBP - Gateway Load Balancing Protocol&lt;/a&gt;. This is a pretty simple and personally a neat little protocol and with the added benefit of using all of your hardware. Like always I hope this helps. - Ryan&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Update Firepower Devices - Manually</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/07/update-firepower-devices-manually/</link>
      <pubDate>Wed, 12 Jul 2017 14:15:38 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/07/update-firepower-devices-manually/</guid>
      <description>
        
          &lt;p&gt;This is short and hopefully helpful post on how to manually update Cisco Firepower Devices. I have run into this problem a couple of times which is pushing this update with the FMC sometimes just fails and it never really seems to download the update to the Firepower sensor. On the FMC it will stay on &amp;quot;Initializing&amp;quot; for an hour and timeout so here are the steps to manually update your Firepower Sensor:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You can manually update this by either connecting to the console or ssh into the sensor.&lt;/li&gt;
&lt;li&gt;Once in you&#39;ll need to the bash shell so type the command &amp;quot;expert&amp;quot; to get into it.&lt;/li&gt;
&lt;li&gt;Next, you need to evaluate to the root account by using &lt;strong&gt;sudo su&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;SCP copy the update to the &lt;strong&gt;/var/sf/updates&lt;/strong&gt; folder, you can either copy from the FMC or something else that has the update you are looking for.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;scp admin@192.168.1.5:/image.sh /var/sf/updates
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If the update is on the FMC the path is &lt;strong&gt;/var/sf/updates&lt;/strong&gt; and it would look something like this, we are pulling from the FMC and copying to the sensor to /var/sf/updates folder.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;scp admin@192.168.1.5:/var/sf/updates/Cisco/FTD/Patch-6.2.0.2-51.sh /var/sf/updates
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;Install the update via &lt;strong&gt;install_update.pl /var/sf/updates/image.sh&lt;/strong&gt; and watch the console when the upgrade completes your sensor will reboot and no action is needed on the FMC it will automatically detect the new version.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Below is an omitted copy of the console output when upgrading Cisco Firepower devices, keep in mind this session has to stay active don&#39;t close or disconnect while updating, let&#39;s just say hitting CTRL+C during this process is an instant killjoy, and although it can be fixed I wouldn&#39;t advise it!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&amp;gt; expert
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;admin@host-172-16-1-110:~$ sudo su
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;We trust you have received the usual lecture from the local System
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;Administrator. It usually boils down to these three things:
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;    #1) Respect the privacy of others.
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;    #2) Think before you type.
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;    #3) With great power comes great responsibility.
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;Password:
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;root@host-172-16-1-110:~#scp admin@172.16.1.15:/var/sf/updates/Cisco_FTD_Patch-6.2.0.2-51.sh /var/sf/updates
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;Cisco_FTD_Patch-6.2.0.2-51.sh                 100%  319MB   6.0MB/s   00:53
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;root@host-172-16-1-110:~#install_update.pl /var/sf/updates/Cisco_FTD_Patch-6.2.0.2-51.sh
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;ARGV[0] = /var/sf/updates/Cisco_FTD_Patch-6.2.0.2-51.sh
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;TODO:: Need to check Sybase Database is running in Standby Mode at /ngfw/usr/local/sf/bin/install_update.pl line 246.
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;Verifying archive integrity... All good.
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;Uncompressing Cisco FTD Patch / Fri May 26 23:33:01 UTC 2017.............
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;[170621 01:01:52] #####################################
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;[170621 01:01:52] # UPGRADE  STARTING
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;[170621 01:01:52] #####################################
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;[170621 01:01:52] BEGIN  000_start/000_check_update.sh
&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;[170621 01:01:53] BEGIN  000_start/100_start_messages.sh
&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;[170621 01:01:53] BEGIN  000_start/100_zz_verify_bundle.sh
&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;[170621 01:01:53] BEGIN  000_start/101_run_pruning.pl
&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;[170621 01:01:58] BEGIN  000_start/102_check_sru_install_running.pl
&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;[170621 01:01:58] BEGIN  000_start/105_check_model_number.sh
&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;[170621 01:01:58] BEGIN  000_start/106_check_HA_sync.pl
&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;[170621 01:01:59] BEGIN  000_start/106_check_HA_updates.pl
&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;[170621 01:01:59] BEGIN  000_start/107_version_check.sh
&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;[170621 01:01:59] BEGIN  000_start/108_check_sensors_ver.pl
&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt;[170621 01:02:00] BEGIN  000_start/109_check_HA_MDC_status.pl
&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;[170621 01:02:00] BEGIN  000_start/110_DB_integrity_check.sh
&lt;span class=&#34;ln&#34;&gt;36&lt;/span&gt;[170621 01:02:02] BEGIN  000_start/111_FS_integrity_check.sh
&lt;span class=&#34;ln&#34;&gt;37&lt;/span&gt;[170621 01:02:02] BEGIN  000_start/112_CF_check.sh
&lt;span class=&#34;ln&#34;&gt;38&lt;/span&gt;-- omitted --
&lt;span class=&#34;ln&#34;&gt;39&lt;/span&gt;[170621 01:08:14] BEGIN 999_finish/999_y_must_be_next_to_last_to_generate_integrity_data.sh
&lt;span class=&#34;ln&#34;&gt;40&lt;/span&gt;[170621 01:08:15] BEGIN 999_finish/999_z_must_remain_last_finalize_boot.sh
&lt;span class=&#34;ln&#34;&gt;41&lt;/span&gt;[170621 01:08:15] BEGIN 999_finish/999_zz_install_bundle.sh
&lt;span class=&#34;ln&#34;&gt;42&lt;/span&gt;Cleaning up.
&lt;span class=&#34;ln&#34;&gt;43&lt;/span&gt;shutdown PM on whitebox systems except Readiness package, sample patch and RNA redhat
&lt;span class=&#34;ln&#34;&gt;44&lt;/span&gt;about to remove upgrade lock
&lt;span class=&#34;ln&#34;&gt;45&lt;/span&gt;removed &amp;#39;/ngfw/tmp/upgrade.lock/main_upgrade_script.log&amp;#39;
&lt;span class=&#34;ln&#34;&gt;46&lt;/span&gt;removed &amp;#39;/ngfw/tmp/upgrade.lock/status_log&amp;#39;
&lt;span class=&#34;ln&#34;&gt;47&lt;/span&gt;removed &amp;#39;/ngfw/tmp/upgrade.lock/PID&amp;#39;
&lt;span class=&#34;ln&#34;&gt;48&lt;/span&gt;removed &amp;#39;/ngfw/tmp/upgrade.lock/LSM&amp;#39;
&lt;span class=&#34;ln&#34;&gt;49&lt;/span&gt;removed directory: &amp;#39;/ngfw/tmp/upgrade.lock&amp;#39;
&lt;span class=&#34;ln&#34;&gt;50&lt;/span&gt;[170621 01:08:48] Attempting to remove upgrade lock
&lt;span class=&#34;ln&#34;&gt;51&lt;/span&gt;[170621 01:08:48] Success, removed upgrade lock
&lt;span class=&#34;ln&#34;&gt;52&lt;/span&gt;Upgrade lock /ngfw/tmp/upgrade.lock removed successfully.
&lt;span class=&#34;ln&#34;&gt;53&lt;/span&gt;[170621 01:08:48]
&lt;span class=&#34;ln&#34;&gt;54&lt;/span&gt;[170621 01:08:48] #######################################################
&lt;span class=&#34;ln&#34;&gt;55&lt;/span&gt;[170621 01:08:48] # UPGRADE COMPLETE #
&lt;span class=&#34;ln&#34;&gt;56&lt;/span&gt;[170621 01:08:48] #######################################################
&lt;span class=&#34;ln&#34;&gt;57&lt;/span&gt;Process 1061 exited.I am going away.
&lt;span class=&#34;ln&#34;&gt;58&lt;/span&gt;RC: 0
&lt;span class=&#34;ln&#34;&gt;59&lt;/span&gt;Update package reports success: almost finished...
&lt;span class=&#34;ln&#34;&gt;60&lt;/span&gt;Scheduling a reboot to occur in 60 seconds...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
        
      </description>
    </item>
    
    <item>
      <title>Cisco FTDv in Cisco VIRL</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/06/cisco-ftdv-in-cisco-virl/</link>
      <pubDate>Wed, 14 Jun 2017 13:05:11 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/06/cisco-ftdv-in-cisco-virl/</guid>
      <description>
        
          &lt;p&gt;Cisco is actively pushing their Firepower Threat Defense software with the new Firepower 2100 units on their way this summer in effort to eventually replace the ASA5525-X, ASA5545-X and ASA5555-X platforms. When using FTD you must also have the Firepower Management Center (FMC) available to manage and configure these devices. This gets difficult especially if you want to test things out because not everyone has Cisco Firepower lying around unused. How are you supposed to test and learn the depths of this product? &lt;em&gt;(Hint: Cisco VIRL)&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; There is a catch to this, as of this post Cisco does not included the FMC or FTDv images with Cisco VIRL by itself. You’ll have to be with a company or organization that has already purchased this product. Keep in mind during the initial configuration of FMC there will be a spot to install some licensing but you can skip this step as it&#39;s not required to get to the initial login screen. The images I’m working with in this post are the following:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;FMC: 6.2.0.2 (updated from 6.2.0)&lt;/li&gt;
&lt;li&gt;FTDv: 6.2.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To understand how this is works, you must setup the FMC as a separate virtual machine in VMware Workstation and configure a static IP address for the FMC. You’ll want to use an IP address that is in VIRL’s shared flat network. This is usually the 172.16.1.0/24 network. In this example, I configured the FMC with the IP address of 172.16.1.15. If you have installed VIRL in VMware Workstation and followed the VIRL installation guide you’ll want to put the FMC in VMnet 1. Basically, you’ll want the FMC and FTDv to be on the same broadcast domain in the management network within VIRL for your FMC to be able to manage the FTDv image. If you are using VIRL on a bare metal server and have VMware Workstation installed on a different system use VIRL’s OpenVPN connection settings. To understand how this works you can reference the following video (Credit goes to &lt;a href=&#34;https://www.youtube.com/channel/UC41WuzXlJCGY5qLsuZ8aHkQ&#34;&gt;Cisco VIRL Youtube Channel&lt;/a&gt;):&lt;/p&gt;
&lt;p&gt;Once your computer has the OpenVPN client installed and you can successfully connect to VIRL, you also can map VMware Workstation to the OpenVPN network adapter under the virtual network editor.
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/06/virl-openvpn.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;This gives your FMC direct access to VIRL’s shared flat network while using the OpenVPN client. 
Please reference the &lt;a href=&#34;http://www.cisco.com/c/en/us/td/docs/security/firepower/quick_start/vmware/fmcv/FMCv-quick/setup-mcvirtual.html&#34;&gt;Cisco Firepower Management Center Virtual for VMware Deployment Quick Start Guide&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The process in pretty simple login into the FMC CLI and run the following command and follow the prompts.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;sudo /usr/local/sf/bin/configure-network
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If all is well you should see the initial configuration wizard, and once you have completed the initial setup wizard you should be able to login using the password you recently created.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/06/virl-fmc-login.png&#34; alt=&#34;FMC Login Page&#34;&gt;&lt;/p&gt;
&lt;p&gt;You now have a FMC ready and primed to manage FTDv devices, like I mention earlier you can enable the evaluation license which is only available in the 6.2.0 or higher releases. Go to System-&amp;gt;Licenses-&amp;gt;Smart Licenses which gives you 90 days to kick in the tires.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/06/fmc-eval.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; You also could use VMware snapshots to set up a vanilla FMC with no devices, and no evaluation license enabled, that way you could always revert to that FMC you originally started with, also helps if you really got carried away :)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We now need a FTDv image to install within VIRL. When you look at Cisco&#39;s support &lt;a href=&#34;https://software.cisco.com/download/release.html?mdfid=286306503&amp;amp;softwareid=286306337&amp;amp;release=6.2.0&amp;amp;relind=AVAILABLE&amp;amp;rellifecycle=&amp;amp;reltype=latest&#34;&gt;download page&lt;/a&gt; you&#39;ll want to use the QEMU format (qcow2) if you are importing this into Cisco VIRL. A couple of house keeping items first before we can import this:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;First:&lt;/strong&gt; Create a flavor to specify run time parameters in VIRL, you can find this under Node Resources-&amp;gt;Flavors. &lt;strong&gt;FTDv requires 8GB of RAM, 4 virtual CPU cores and 4 interfaces to run, this includes the Management and Diagnostic ports that VIRL puts in automatically. You can also leave disk space at 0&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Second:&lt;/strong&gt; Create a copy of the ASAv subtype, under Node Resources-&amp;gt;Subtypes, find the ASAv subtype and click on the “stethoscope” icon also called specialize and fill in the following:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Name of plugin - FTDv&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Description of plugin - Firepower Threat Defense&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Name of management interface - Management0/0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Names of dummy interfaces - Diagnostic0/0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pattern for data interface names - GigabitEthernet0/{0}&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;First data interface number - 0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Max count of data interfaces - 10&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Number of interfaces per LC - 0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Number of serial interfaces - 1&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Protocol for network CLI - telnet&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make VNC access available - True&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Name of icon for GUI - asav&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Show subtype on GUI palette - True&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Configuration disk type - cdrom&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ISO 9660 level in cdrom disk - 4&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Name of file for config drive - /day0-config&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Virtual interface model - virtio&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Main disk bus model - virtio&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RAM (MB) allocated per node - 8192&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Number of CPUs allocated per node - 4&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Require HW acceleration in kvm - True&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Name of default image - FTDv&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Third:&lt;/strong&gt; Import the image, Node Resources-&amp;gt;Images-&amp;gt;Add:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Find and select the FTDv Subtype&lt;/li&gt;
&lt;li&gt;Name/Version – 6.2 (I just picked the main version)&lt;/li&gt;
&lt;li&gt;Release - 6.2.0&lt;/li&gt;
&lt;li&gt;Source – File on server&lt;/li&gt;
&lt;li&gt;Image path – /home/virl/VMs/&lt;em&gt;image of FTDv image&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Save the image. We are almost there!&lt;/p&gt;
&lt;p&gt;To review we have a FMC ready, we have the evaluation license enabled so that we can manage FTDv devices and this FMC is statically configured to use an IP address that is in VIRL&#39;s shared flat network. We just went over the settings required to get the FTDv to boot up in Cisco VIRL.&lt;/p&gt;
&lt;p&gt;So what&#39;s next? Well if you wanted to register and configure the FTDv manually you are all set to go just start-up the device and you can walk through the initial prompts to get it registered to the FMC and start deploying your configurations. However one the neat features that VIRL offers is pre-configuration of the device while the device starts up, also called Day0 configuration. That way you can to skip all of those initial prompts and just register the device from FMC when the FTDv image is fully booted. To do that you will be using the AutoNetKit in VM Maestro, use the following Day0 configuration before starting your FTDv image.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;EULA&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;accept&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;Hostname&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ftdv-VIRL&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;AdminPassword&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Admin123&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;FirewallMode&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;routed&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;DNS1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;none&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;DNS2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;none&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;DNS3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;none&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;IPv4Mode&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;dhcp&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;IPv4Addr&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;IPv4Mask&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;IPv4Gw&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;IPv6Mode&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;disabled&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;IPv6Addr&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;IPv6Mask&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;IPv6Gw&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;FmcIp&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.1.15&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;FmcRegKey&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco1234&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;FmcNatId&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The fields are pretty self-explanatory the only thing that could be different is if you used a different FMC IP and registration key. When the image boots it will grab an IP address from VIRL&#39;s shared network and already be pending a registration. The only thing you have to do is register your device from FMC and deploy your configuration. This now makes it pretty easy and quickly to test deployments and configuration within VIRL. In my testing it took about 15 to 20 minutes for the FTDv device to become online and to be registered within FMC. That&#39;s all I got for now like always I hope this information helpful as alawys!&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;static-comments&#34;&gt;Static Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;%22aisforabbott@gmail.com%22&#34;&gt;Shaun&lt;/a&gt; - &lt;time datetime=&#34;2017-07-06 22:21:45&#34;&gt;Jul 4, 2017&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Figured it out, just needed to select the topology management network to be in the Shared Flat network. This has helped me out tremendously, thank you.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;%22aisforabbott@gmail.com%22&#34;&gt;Shaun&lt;/a&gt; - &lt;time datetime=&#34;2017-07-05 08:30:04&#34;&gt;Jul 3, 2017&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;How and which interface did you use to get the FTDv working on the FLAT network? Can you show a working sample topology you used?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;http://karmicgeezer.wordpress.com&#34; title=&#34;andy.taylor@mail.com&#34;&gt;karmicgeezer&lt;/a&gt; - &lt;time datetime=&#34;2018-01-08 09:22:27&#34;&gt;Jan 8, 2018&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Many thanks for the tutorial - when I follow this I consistently get the same issue: Virtual FTD requires at least 4 network interfaces to complete system initialization. System initialization in progress. Please stand by. The bar turns but will sit there indefinitely. Any ideas?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;http://ciscoskills.net/&#34; title=&#34;ryan@ciscoskills.net&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2018-01-08 19:04:47&#34;&gt;Jan 9, 2018&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Hey Karmicgeezer, That is expected. You can&#39;t just run the VM without it connected to anything in VIRL. Make sure your subtype in VIRL has a management and diagnostic interface. You also have to connect up to two interfaces on the FTDv in VIRL in order for it to start correctly. Hope that Helps, Ryan&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;http://karmicgeezer.wordpress.com&#34; title=&#34;andy.taylor@mail.com&#34;&gt;karmicgeezer&lt;/a&gt; - &lt;time datetime=&#34;2018-01-09 10:37:38&#34;&gt;Jan 9, 2018&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Ryan, Fantastic, this would explain why it works natively in ESXi but not deployed in VIRL without sufficient interfaces. Much appreciated!! All the best, Andy&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&#34;http://ciscoskills.net/&#34; title=&#34;ryan@ciscoskills.net&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2018-01-09 21:05:28&#34;&gt;Jan 9, 2018&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Glad I could help Andy! Ryan&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Configuring EIGRP - Named Mode</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/05/configuring-eigrp-named-mode/</link>
      <pubDate>Thu, 25 May 2017 12:30:53 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/05/configuring-eigrp-named-mode/</guid>
      <description>
        
          &lt;p&gt;From its older brother IGRP which was developed in 1980s to overcome the limitations of RIP, EIGRP was an &amp;quot;Enhanced&amp;quot; IGRP protocol. The main purpose of EIGRP was to  overcome the limitations of classful networks and make EIGRP a classless routing protocol. During designing of this protocol a different convergence algorithm was used making EIGRP that &amp;quot;hybrid&amp;quot; between distance-vector and link-state routing protocols. In this post we&#39;ll go over a basic design and setup for EIGRP, however instead of using the &amp;quot;classic way&amp;quot; let&#39;s look at configuring EIGRP using named mode which is available in Cisco IOS starting in version 15.2&lt;/p&gt;
&lt;p&gt;This topology is pretty simple, I have three routers and each them is connected to the other two routers.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/05/eigrp-named1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;All routers have been setup with their local addresses and can ping any network that is locally attached to them. There are two ways to configure EIGRP we could configure it the &amp;quot;classic way&amp;quot; or use named mode. Nothing has changed with EIGRP itself so you could have one router use classic and another router use named mode and the protocol would exchange routing information between the two. The change is to simplify the configuration into one spot, which is under the router EIGRP process instead of having some EIGRP configuration under each interface. Let&#39;s get started.&lt;/p&gt;
&lt;p&gt;Create a named EIGRP process on all routers:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;R1(config)#router eigrp CISCOSKILLS
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;R2(config)#router eigrp CISCOSKILLS
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;R3(config)#router eigrp CISCOSKILLS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;Note: The named EIGRP process does not have match on all routers to exchange routes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Create an autonomous system for all routers:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;R1(config-router)# address-family ipv4 unicast autonomous-system 1
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;R2(config-router)# address-family ipv4 unicast autonomous-system 1
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;R3(config-router)# address-family ipv4 unicast autonomous-system 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;Note: This has to match on all routers if you want EIGRP to exchange routes with.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We&#39;ll want to configure a passive interface on the LAN side of each router so we don&#39;t send EIGRP neighbor adjacencies into LAN side of the network.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;R1(config-router-af)#af-interface GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;R1(config-router-af-interface)#passive-interface
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;R1(config-router-af-interface)#exit-af-interface
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;R2(config-router-af)#af-interface GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;R2(config-router-af-interface)#passive-interface
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;R2(config-router-af-interface)#exit-af-interface
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;R3(config-router-af)#af-interface GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;R3(config-router-af-interface)#passive-interface
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;R3(config-router-af-interface)#exit-af-interface
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Next we need to configure what networks we want EIGRP to advertise as well as the router-id this configuration will depend on each router:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;R1(config-router-af)#network 10.0.1.2 0.0.0.0
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;R1(config-router-af)#network 10.0.1.10 0.0.0.0
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;R1(config-router-af)#network 10.1.1.1 0.0.0.0
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;R1(config-router-af)#eigrp router-id 10.1.1.1
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;R1(config-router-af)#exit-address-family
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;R2(config-router-af)#network 10.0.1.6 0.0.0.0
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;R2(config-router-af)#network 10.0.1.9 0.0.0.0
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;R2(config-router-af)#network 10.2.1.1 0.0.0.0
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;R2(config-router-af)#eigrp router-id 10.2.1.1
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;R2(config-router-af)#exit-address-family
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;R3(config-router-af)#network 10.0.1.1 0.0.0.0
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;R3(config-router-af)#network 10.0.1.5 0.0.0.0
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;R3(config-router-af)#network 10.3.1.1 0.0.0.0
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;R3(config-router-af)#eigrp router-id 10.3.1.1
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;R3(config-router-af)#exit-address-family
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If everything went to plan we should have some log messages notifying us that adjacencies have been made on each router and we should be able ping/connect to each PC in this network. Using the command show ip route confirms this on all three routers:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;R1#show ip route
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;       E1 - OSPF external type 1, E2 - OSPF external type 2
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;       i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;       ia - IS-IS inter area, * - candidate default, U - per-user static route
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;       o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;       a - application route
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;       + - replicated route, % - next hop override, p - overrides from PfR
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;Gateway of last resort is not set
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;      10.0.0.0/8 is variably subnetted, 9 subnets, 3 masks
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;C        10.0.1.0/30 is directly connected, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;L        10.0.1.2/32 is directly connected, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;D        10.0.1.4/30 [90/15360] via 10.0.1.9, 01:08:45, GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;                     [90/15360] via 10.0.1.1, 01:08:45, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;C        10.0.1.8/30 is directly connected, GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;L        10.0.1.10/32 is directly connected, GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;C        10.1.1.0/24 is directly connected, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;L        10.1.1.1/32 is directly connected, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;D        10.2.1.0/24 [90/15360] via 10.0.1.9, 01:08:45, GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;D        10.3.1.0/24 [90/15360] via 10.0.1.1, 01:08:45, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;R1#
&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;R2#show ip route
&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;       E1 - OSPF external type 1, E2 - OSPF external type 2
&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;       i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;       ia - IS-IS inter area, * - candidate default, U - per-user static route
&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt;       o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;       a - application route
&lt;span class=&#34;ln&#34;&gt;36&lt;/span&gt;       + - replicated route, % - next hop override, p - overrides from PfR
&lt;span class=&#34;ln&#34;&gt;37&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;38&lt;/span&gt;Gateway of last resort is not set
&lt;span class=&#34;ln&#34;&gt;39&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;40&lt;/span&gt;      10.0.0.0/8 is variably subnetted, 9 subnets, 3 masks
&lt;span class=&#34;ln&#34;&gt;41&lt;/span&gt;D        10.0.1.0/30 [90/15360] via 10.0.1.10, 01:08:35, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;42&lt;/span&gt;                     [90/15360] via 10.0.1.5, 01:08:35, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;43&lt;/span&gt;C        10.0.1.4/30 is directly connected, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;44&lt;/span&gt;L        10.0.1.6/32 is directly connected, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;45&lt;/span&gt;C        10.0.1.8/30 is directly connected, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;46&lt;/span&gt;L        10.0.1.9/32 is directly connected, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;47&lt;/span&gt;D        10.1.1.0/24 [90/15360] via 10.0.1.10, 01:08:35, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;48&lt;/span&gt;C        10.2.1.0/24 is directly connected, GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;49&lt;/span&gt;L        10.2.1.1/32 is directly connected, GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;50&lt;/span&gt;D        10.3.1.0/24 [90/15360] via 10.0.1.5, 01:08:35, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;51&lt;/span&gt;R2#
&lt;span class=&#34;ln&#34;&gt;52&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;53&lt;/span&gt;R3#show ip route
&lt;span class=&#34;ln&#34;&gt;54&lt;/span&gt;Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
&lt;span class=&#34;ln&#34;&gt;55&lt;/span&gt;       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
&lt;span class=&#34;ln&#34;&gt;56&lt;/span&gt;       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
&lt;span class=&#34;ln&#34;&gt;57&lt;/span&gt;       E1 - OSPF external type 1, E2 - OSPF external type 2
&lt;span class=&#34;ln&#34;&gt;58&lt;/span&gt;       i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
&lt;span class=&#34;ln&#34;&gt;59&lt;/span&gt;       ia - IS-IS inter area, * - candidate default, U - per-user static route
&lt;span class=&#34;ln&#34;&gt;60&lt;/span&gt;       o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
&lt;span class=&#34;ln&#34;&gt;61&lt;/span&gt;       a - application route
&lt;span class=&#34;ln&#34;&gt;62&lt;/span&gt;       + - replicated route, % - next hop override, p - overrides from PfR
&lt;span class=&#34;ln&#34;&gt;63&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;64&lt;/span&gt;Gateway of last resort is not set
&lt;span class=&#34;ln&#34;&gt;65&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;66&lt;/span&gt;      10.0.0.0/8 is variably subnetted, 9 subnets, 3 masks
&lt;span class=&#34;ln&#34;&gt;67&lt;/span&gt;C        10.0.1.0/30 is directly connected, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;68&lt;/span&gt;L        10.0.1.1/32 is directly connected, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;69&lt;/span&gt;C        10.0.1.4/30 is directly connected, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;70&lt;/span&gt;L        10.0.1.5/32 is directly connected, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;71&lt;/span&gt;D        10.0.1.8/30 [90/15360] via 10.0.1.6, 01:08:14, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;72&lt;/span&gt;                     [90/15360] via 10.0.1.2, 01:08:14, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;73&lt;/span&gt;D        10.1.1.0/24 [90/15360] via 10.0.1.2, 01:08:14, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;74&lt;/span&gt;D        10.2.1.0/24 [90/15360] via 10.0.1.6, 01:08:14, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;75&lt;/span&gt;C        10.3.1.0/24 is directly connected, GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;76&lt;/span&gt;L        10.3.1.1/32 is directly connected, GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;77&lt;/span&gt;R3#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can see by default in the routing table that EIGRP has already calculated the best route to each LAN and has only put in one route to reach them. If we show the EIGRP topology we notice that EIGRP has these routes ready in case if the primary route to reach these LANs fail.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;R1#show ip eigrp topology all-links
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;EIGRP-IPv4 VR(CISCOSKILLS) Topology Table for AS(1)/ID(10.1.1.1)
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;Codes: P - Passive, A - Active, U - Update, Q - Query, R - Reply,
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;      r - reply Status, s - sia Status 
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;P 10.0.1.0/30, 1 successors, FD is 1310720, serno 1
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;       via Connected, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;P 10.0.1.4/30, 2 successors, FD is 1966080, serno 6
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;       via 10.0.1.1 (1966080/1310720), GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;       via 10.0.1.9 (1966080/1310720), GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;P 10.0.1.8/30, 1 successors, FD is 1310720, serno 5
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;       via Connected, GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;P 10.2.1.0/24, 1 successors, FD is 1966080, serno 7
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;       via 10.0.1.9 (1966080/1310720), GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;       via 10.0.1.1 (2621440/1966080), GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;P 10.1.1.0/24, 1 successors, FD is 1310720, serno 8
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;       via Connected, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;P 10.3.1.0/24, 1 successors, FD is 1966080, serno 3
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;       via 10.0.1.1 (1966080/1310720), GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;       via 10.0.1.9 (2621440/1966080), GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;R2#show ip eigrp topology all-links
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;EIGRP-IPv4 VR(CISCOSKILLS) Topology Table for AS(1)/ID(10.2.1.1)
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;Codes: P - Passive, A - Active, U - Update, Q - Query, R - Reply,
&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;      r - reply Status, s - sia Status 
&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;P 10.0.1.0/30, 2 successors, FD is 1966080, serno 16
&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;       via 10.0.1.5 (1966080/1310720), GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;       via 10.0.1.10 (1966080/1310720), GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;P 10.0.1.4/30, 1 successors, FD is 1310720, serno 1
&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;       via Connected, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;P 10.0.1.8/30, 1 successors, FD is 1310720, serno 2
&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;       via Connected, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt;P 10.2.1.0/24, 1 successors, FD is 1310720, serno 3
&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;       via Connected, GigabitEthernet0/3
&lt;span class=&#34;ln&#34;&gt;36&lt;/span&gt;P 10.1.1.0/24, 1 successors, FD is 1966080, serno 17
&lt;span class=&#34;ln&#34;&gt;37&lt;/span&gt;       via 10.0.1.10 (1966080/1310720), GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;38&lt;/span&gt;       via 10.0.1.5 (2621440/1966080), GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;39&lt;/span&gt;P 10.3.1.0/24, 1 successors, FD is 1966080, serno 7
&lt;span class=&#34;ln&#34;&gt;40&lt;/span&gt;       via 10.0.1.5 (1966080/1310720), GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;41&lt;/span&gt;       via 10.0.1.10 (2621440/1966080), GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;42&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;43&lt;/span&gt;R3#show ip eigrp topology all-links
&lt;span class=&#34;ln&#34;&gt;44&lt;/span&gt;EIGRP-IPv4 VR(CISCOSKILLS) Topology Table for AS(1)/ID(10.3.1.1)
&lt;span class=&#34;ln&#34;&gt;45&lt;/span&gt;Codes: P - Passive, A - Active, U - Update, Q - Query, R - Reply,
&lt;span class=&#34;ln&#34;&gt;46&lt;/span&gt;      r - reply Status, s - sia Status 
&lt;span class=&#34;ln&#34;&gt;47&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;48&lt;/span&gt;P 10.0.1.0/30, 1 successors, FD is 1310720, serno 1
&lt;span class=&#34;ln&#34;&gt;49&lt;/span&gt;       via Connected, GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;50&lt;/span&gt;P 10.0.1.4/30, 1 successors, FD is 1310720, serno 2
&lt;span class=&#34;ln&#34;&gt;51&lt;/span&gt;       via Connected, GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;52&lt;/span&gt;P 10.0.1.8/30, 2 successors, FD is 1966080, serno 17
&lt;span class=&#34;ln&#34;&gt;53&lt;/span&gt;       via 10.0.1.2 (1966080/1310720), GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;54&lt;/span&gt;       via 10.0.1.6 (1966080/1310720), GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;55&lt;/span&gt;P 10.2.1.0/24, 1 successors, FD is 1966080, serno 8
&lt;span class=&#34;ln&#34;&gt;56&lt;/span&gt;       via 10.0.1.6 (1966080/1310720), GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;57&lt;/span&gt;       via 10.0.1.2 (2621440/1966080), GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;58&lt;/span&gt;P 10.1.1.0/24, 1 successors, FD is 1966080, serno 18
&lt;span class=&#34;ln&#34;&gt;59&lt;/span&gt;       via 10.0.1.2 (1966080/1310720), GigabitEthernet0/1
&lt;span class=&#34;ln&#34;&gt;60&lt;/span&gt;       via 10.0.1.6 (2621440/1966080), GigabitEthernet0/2
&lt;span class=&#34;ln&#34;&gt;61&lt;/span&gt;P 10.3.1.0/24, 1 successors, FD is 1310720, serno 3
&lt;span class=&#34;ln&#34;&gt;62&lt;/span&gt;       via Connected, GigabitEthernet0/3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That&#39;s all I got for now for a basic configuration of EIGRP name mode and I hope this helpful. If you are using Cisco VIRL you can find the project I was referencing using this &lt;a href=&#34;https://github.com/lewiryan/VIRL/blob/master/Completed/EIGRP-Basic-Named-Mode.virl&#34;&gt;link Github&lt;/a&gt;. There is a subtype that is added in this configuration which was the Windows XP image I was working with. You can find more information about import Windows VMs and other 3rd Party systems into VIRL by checking out a previous post: &lt;a href=&#34;https://ciscoskills.net/2017/01/07/cisco-virl-and-windows-vms/&#34;&gt;Cisco VIRL and Windows VMs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;What about if you are already running the classic mode of EIGRP and want to migrate over to EIGRP name mode? First check your IOS release and if its 15.4 or higher you likely have a command available that will do the migration for you, instead of removing the classic configuration manaully. Go into your existing EIGRP configuration and type eigrp upgrade-cli followed by the name you want. Voila!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;R3(config)#router eigrp 30
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;R3(config-router)#eigrp upgrade-cli ?
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;  WORD  EIGRP Virtual-Instance Name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;comments&#34;&gt;Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://ciscoskills.net/2017/08/17/glbp-load-balancing/&#34; title=&#34;&#34;&gt;GLBP Load Balancing – Cisco Skills&lt;/a&gt; - &lt;time datetime=&#34;2017-08-17 08:15:44&#34;&gt;Aug 4, 2017&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;[…] with three routers in each LAN. I also have a routing protocol running  between the routers (Named EIGRP) to better handle the multiple paths as well as recover from failed […]&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>ASA Site to Site VPN (DHCP)</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/04/asa-site-to-site-vpn-dhcp/</link>
      <pubDate>Wed, 19 Apr 2017 12:00:46 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/04/asa-site-to-site-vpn-dhcp/</guid>
      <description>
        
          &lt;p&gt;If you don’t already know, site to site VPNs can be a cost-effective way for remote sites to connect to HQ resources instead of a lease line like using MPLS or Metro-E circuits. We can instead use a standard internet connection with a static IP, this is usually cheaper than a dedicated circuit. Our next steps are purchasing a firewall for the remote site (assuming you already have one at HQ) and setup a site to site VPN connection to make the connection. In this guide, I’ll demo a site to site VPN with a pair of ASAs as well as some additional commands to allow DHCP across the tunnel so that your HQ DHCP server can hand out addresses instead of configuring a local DHCP server at the remote site.&lt;/p&gt;
&lt;p&gt;The table below goes over the agreed settings and what networks are protected. Also note that the “public” IP addresses listed in this example are from RFC 5737 and are not publicly available. Since this is a VPN connection we must agree on some common settings before traffic is allowed across it. We will be tunneling the entire address range for both sites and no need to NAT anything because its Acme’s network. Reference the table below:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Acme Corp&lt;/th&gt;
&lt;th&gt;Acme Branch&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Peer IP Address: 192.0.2.10&lt;/td&gt;
&lt;td&gt;Peer IP Address: 203.0.113.10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phase 1: AES 256 SHA (Group 2)&lt;/td&gt;
&lt;td&gt;Phase 1: AES 256 SHA (Group 2)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phase 2: AES 128 SHA&lt;/td&gt;
&lt;td&gt;Phase 2: AES 128 SHA&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PFS: No&lt;/td&gt;
&lt;td&gt;PFS: No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Protected Networks: 10.1.1.0/24&lt;/td&gt;
&lt;td&gt;Protected Networks: 10.1.2.0/24&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Preshared Key: cisco&lt;/td&gt;
&lt;td&gt;Preshared Key: cisco&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Here is the topology below for reference:
&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/04/site-site-vpn-dhcp.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Let&#39;s start building the tunnel on the Acme Corp side first by creating object groups:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;object network VPN-REMOTE-ACME-BRANCH-NET-1
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt; subnet 10.1.2.0 255.255.255.0
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;object network VPN-REMOTE-ACME-BRANCH-NET-2
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt; subnet 10.1.3.0 255.255.255.0
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;object network ACME-CORP-NET
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt; subnet 10.1.1.0 255.255.255.0
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;object network VPN-REMOTE-ACORP-BRANCH-NET-1
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt; subnet 10.1.2.0 255.255.255.0
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;object network VPN-REMOTE-ACORP-BRANCH-NET-2
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt; subnet 10.1.3.0 255.255.255.0
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;object-group network VPN-LOCAL-ACMECORP-NET
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt; network-object object ACME-CORP-NET
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;object-group network VPN-LOCAL-ACORP
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt; network-object object ACME-CORP-NET
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;object-group network VPN-REMOTE-ACORP-BRANCH
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt; network-object object VPN-REMOTE-ACORP-BRANCH-NET-1
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt; network-object object VPN-REMOTE-ACORP-BRANCH-NET-2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Next we need to create an access control list to match the traffic we want protected over the tunnel.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;access-list ACL-VPN-ACORP-ACORP-BRANCH extended permit ip object-group VPN-LOCAL-ACORP object-group VPN-REMOTE-ACORP-BRANCH
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We have to create some NAT exemption rules as we don&#39;t want to NAT these networks when we are crossing over the VPN. On line one (1) I’m creating a single static NAT entry to reference Acme&#39;s Branch networks going to Acme&#39;s local networks.In line two (2) just reversing so that Acme&#39;s local network can reach Acme&#39;s Branch.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Notice:&lt;/strong&gt; I&#39;m not changing the source or destination address for these NAT rules.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;nat (Outside,Inside) source static VPN-REMOTE-ACORP-BRANCH VPN-REMOTE-ACORP-BRANCH destination static VPN-LOCAL-ACORP VPN-LOCAL-ACORP no-proxy-arp
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;nat (Inside,Outside) source static VPN-LOCAL-ACMECORP-NET VPN-LOCAL-ACMECORP-NET destination static VPN-REMOTE-ACORP-BRANCH VPN-REMOTE-ACORP-BRANCH no-proxy-arp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create a VPN Group Policy for Acme and Acme&#39;s Branch VPN connection&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;group-policy GP-VPN-ACORP-ACORP-BRANCH internal
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;group-policy GP-VPN-ACORP-ACORP-BRANCH attributes
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; vpn-tunnel-protocol ikev1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create the tunnel&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;tunnel-group 203.0.113.10 type ipsec-l2l
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;tunnel-group 203.0.113.10 general-attributes
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; default-group-policy GP-VPN-ACORP-ACORP-BRANCH
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;tunnel-group 203.0.113.10 ipsec-attributes
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt; ikev1 pre-shared-key cisco
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt; isakmp keepalive disable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Build the cryptomap:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;crypto map CM-ACORP-ACORP-BRANCH 1 match address ACL-VPN-ACORP-ACORP-BRANCH
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;crypto map CM-ACORP-ACORP-BRANCH 1 set peer 203.0.113.10
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;crypto map CM-ACORP-ACORP-BRANCH 1 set ikev1 transform-set ESP-AES-128-SHA
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;crypto map CM-ACORP-ACORP-BRANCH interface Outside
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Let&#39;s jump to Acme&#39;s Branch ASA and configure it to get this tunnel up. Let&#39;s create some object-groups.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;object network ACME-BRANCH-NET-1
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt; subnet 10.1.2.0 255.255.255.0
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;object network ACME-BRANCH-NET-2
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt; subnet 10.1.3.0 255.255.255.0
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;object network VPN-REMOTE-ACME
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt; subnet 10.1.1.0 255.255.255.0
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;object-group network VPN-LOCAL-ACME-BRANCH
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt; network-object object ACME-BRANCH-NET-1
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt; network-object object ACME-BRANCH-NET-2
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;object-group network VPN-REMOTE-ACORP
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt; network-object object VPN-REMOTE-ACME
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create the access control list to match the traffic we want protected on Acme&#39;s branch.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;access-list ACL-VPN-ACORP-BRANCH-ACORP extended permit ip object-group VPN-LOCAL-ACME-BRANCH object-group VPN-REMOTE-ACORP
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Just like before we have to create some NAT exemption rules, Acme&#39;s Branch has two networks that need to go over the tunnel so we&#39;ll add them here. Line one (1) and two (2) is one network of Acme&#39;s Branch. Line three (3) and four (4) is another network that Acme&#39;s Branch has and with these two networks we are allowing both an inbound and outbound connection from the VPN.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;nat (Inside,Outside) source static ACME-BRANCH-NET-1 ACME-BRANCH-NET-1 destination static VPN-REMOTE-ACORP VPN-REMOTE-ACORP no-proxy-arp
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;nat (Outside,Inside) source static VPN-REMOTE-ACORP VPN-REMOTE-ACORP destination static ACME-BRANCH-NET-1 ACME-BRANCH-NET-1 no-proxy-arp
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;nat (Outside,Inside-2) source static VPN-REMOTE-ACORP VPN-REMOTE-ACORP destination static ACME-BRANCH-NET-2 ACME-BRANCH-NET-2 no-proxy-arp
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;nat (Inside-2,Outside) source static ACME-BRANCH-NET-2 ACME-BRANCH-NET-2 destination static VPN-REMOTE-ACORP VPN-REMOTE-ACORP no-proxy-arp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create a VPN Group Policy for Acme&#39;s Branch and Acme Corp VPN connection:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;group-policy GP-VPN-ACORP-BRANCH-ACORP internal
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;group-policy GP-VPN-ACORP-BRANCH-ACORP attributes
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; vpn-tunnel-protocol ikev1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create the tunnel:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;tunnel-group 192.0.2.10 type ipsec-l2l
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;tunnel-group 192.0.2.10 general-attributes
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt; default-group-policy GP-VPN-ACORP-BRANCH-ACORP
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;tunnel-group 192.0.2.10 ipsec-attributes
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt; ikev1 pre-shared-key cisco
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt; isakmp keepalive disable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Build the cryptomap:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;crypto map CM-ACORP-BRANCH-ACORP 1 match address ACL-VPN-ACORP-BRANCH-ACORP
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;crypto map CM-ACORP-BRANCH-ACORP 1 set peer 192.0.2.10
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;crypto map CM-ACORP-BRANCH-ACORP 1 set ikev1 transform-set ESP-AES-128-SHA
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;crypto map CM-ACORP-BRANCH-ACORP interface Outside
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We now have configured everything for the tunnel to come up but we are missing DHCP, in this example since I don&#39;t have Windows DHCP server available I have configured an IOS router to do DHCP, which is on the Acme Corp network (10.1.1.20). To make DHCP available over the tunnel we only have to focus on Acme&#39;s Branch ASA and add in the following configuration:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;dhcprelay server 10.1.1.20 Outside
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;dhcprelay enable Inside
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;dhcprelay enable Inside-2
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;dhcprelay timeout 60
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We should be able to get an IP adderess from Acme&#39;s DHCP server, if I jump over to one of the Windows hosts on the Acme Branch and issue &lt;em&gt;ipconfig /all&lt;/em&gt; we can see that this windows host was able to reach the DHCP server 10.1.1.20 which is over the VPN:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;C:\Documents and Settings\VIRL&amp;gt;ipconfig /all
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;Windows IP Configuration
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;        Host Name . . . . . . . . . . . . : VIRL-D3D4EE00AA
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;        Primary Dns Suffix  . . . . . . . :
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;        Node Type . . . . . . . . . . . . : Unknown
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;        IP Routing Enabled. . . . . . . . : No
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;        WINS Proxy Enabled. . . . . . . . : No
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;Ethernet adapter Local Area Connection:
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;        Connection-specific DNS Suffix  . :
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;        Description . . . . . . . . . . . : Red Hat VirtIO Ethernet Adapter
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;        Physical Address. . . . . . . . . : FA-16-3E-59-67-A3
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;        Dhcp Enabled. . . . . . . . . . . : Yes
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;        Autoconfiguration Enabled . . . . : Yes
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;        IP Address. . . . . . . . . . . . : 10.1.2.61
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;        Subnet Mask . . . . . . . . . . . : 255.255.255.0
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;        Default Gateway . . . . . . . . . : 10.1.2.1
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;        DHCP Server . . . . . . . . . . . : 10.1.1.20
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;        Lease Obtained. . . . . . . . . . : Sunday, April 09, 2017 5:29:25 PM
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;        Lease Expires . . . . . . . . . . : Monday, April 10, 2017 5:29:25 PM
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;C:\Documents and Settings\VIRL&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you want to try this out I have attached the running-configs of both firewalls at the end of this post. If you are using Cisco VIRL here is a &lt;a href=&#34;https://github.com/lewiryan/VIRL/blob/master/Completed/ASA-Site-To-Site-DHCP.virl&#34;&gt;link on GitHub&lt;/a&gt; to the file I was working with.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; When working with this file I noticed sometimes that the network switches on both sides don&#39;t always hold a MAC address table when we first start them. The workaround I found is you just copy the configuration delete the switch and add it back and plug everything back in order.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There is a subtype that is added in this configuration which was the Windows XP image I was working with. You can find more information about import Windows VMs and other 3rd Party systems into VIRL by checking out a previous post: &lt;a href=&#34;http://ciscoskills.net/2017/01/07/cisco-virl-and-windows-vms/&#34;&gt;Cisco VIRL and Windows VMs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/files/2017/04/running-config-firewalls.docx&#34; title=&#34;Running-Config-Firewalls&#34;&gt;Running-Config-Firewalls&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;As always I hope this is helpful! :)&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>ASA Site to Site VPN (PATed)</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/03/asa-site-to-site-vpn-pated/</link>
      <pubDate>Wed, 08 Mar 2017 14:30:00 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/03/asa-site-to-site-vpn-pated/</guid>
      <description>
        
          &lt;p&gt;If you ever needed to hide multiple systems behind a single IP address you would use PAT. (Port Address Translation) besides using this to connect to the internet when using an RFC 1918 address, you can configure PAT for VPN connections. The benefit is the same, hide multiple systems behind a single IP address with the advantage being you can have many systems on one side of the VPN tunnel all using that single IP.&lt;/p&gt;
&lt;p&gt;In this example, we have a site to site VPN connection one side using a PATed public IP address. We originally have two systems that will be sending data over to Contoso  who is the remote peer in this example. We are planning on adding additional systems in the future which is why Acme Corp is using a PATed address outbound. Contoso is expected to send data back to Acme Corp which will also be reflected in this example. Also note that the &amp;quot;public&amp;quot; IP addresses listed in this example are from RFC 5737 and are not publicly available. We have a need to setup a VPN to a partner and have agreed using a public IP address over the VPN connection. We are going to have multiple systems on the local side sending information over to this partner and because of that we&#39;re going to be using a single public PATed address instead of assigning multiple static NATed IPs to each system. The table below goes over the agreed settings and what networks are protected.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Acme Corp&lt;/th&gt;
&lt;th&gt;Contoso Ltd.&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Peer IP Address: 192.0.2.10&lt;/td&gt;
&lt;td&gt;Peer IP Address: 203.0.113.10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phase 1: AES 256 SHA (Group 2)&lt;/td&gt;
&lt;td&gt;Phase 1: AES 256 SHA (Group 2)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phase 2: AES 128 SHA&lt;/td&gt;
&lt;td&gt;Phase 2: AES 128 SHA&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PFS: No&lt;/td&gt;
&lt;td&gt;PFS: No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Protected Networks: 192.0.2.100/32 - &lt;sub&gt;&lt;sup&gt;PATed IP Address. 192.0.2.50/32 - IP Address Contoso will use when sending data to Acme.&lt;/sub&gt;&lt;/sup&gt;&lt;/td&gt;
&lt;td&gt;Protected Networks: 203.0.113.30/32 - &lt;sub&gt;&lt;sup&gt;IP Address Acme will use when sending data to Contoso 203.0.113.50/32 - Contoso&#39;s source address when sending data back to Acme.&lt;/sub&gt;&lt;/sup&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Preshared Key: cisco&lt;/td&gt;
&lt;td&gt;Preshared Key: cisco&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Here is the topology for reference: &lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/03/site-site-vpn-example.png&#34; alt=&#34;Site To Site VPN Example&#34;&gt;&lt;/p&gt;
&lt;p&gt;Let&#39;s start building the tunnel for Acme by creating some object groups:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;object network ACCORP-DMZ-SERVER-1
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt; host 10.254.254.10
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;object network Public-IP-192.0.2.100
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt; host 192.0.2.100
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;object network VPN-CONTOSO-CLIENT-1
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt; host 203.0.113.30
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;object network ACCORP-DMZ-SERVER-2
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt; host 10.254.254.20
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;object network ACCORP-DMZ-LB-1
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt; host 10.254.254.30
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;object network Public-IP-192.0.2.50
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt; host 192.0.2.50
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;object network VPN-CONTOSO-CLIENT-2
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt; host 203.0.113.50
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;object-group network ACCORP-DMZ-SERVERS
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt; network-object object ACCORP-DMZ-SERVER-2
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt; network-object object ACCORP-DMZ-SERVER-1
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;object-group network VPN-REMOTE-ACCORP-CONTOSO
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt; network-object object VPN-CONTOSO-CLIENT-1
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt; network-object object VPN-CONTOSO-CLIENT-2
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;object-group network VPN-LOCAL-ACCORP-CONTOSO
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt; network-object object Public-IP-192.0.2.100
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt; network-object object Public-IP-192.0.2.50
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create an access control list to match the traffic we want protected, these IP addresses would be the NAT address, so we referencing the object-groups.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;access-list ACL-VPN-ACCORP-CONTOSO extended permit ip object-group VPN-LOCAL-ACCORP-CONTOSO
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We have to create some NAT rules for Acme. On line one I&#39;m creating a single PAT entry to hide the multiple DMZ servers under one IP address when traffic is going to Contoso. Line two is static entry for traffic inbound from Contoso.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;nat (DMZ,Outside) source dynamic ACCORP-DMZ-SERVERS Public-IP-192.0.2.100 destination static VPN-CONTOSO-CLIENT-1 VPN-CONTOSO-CLIENT-1
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;nat (Outside,DMZ) source static VPN-CONTOSO-CLIENT-2 VPN-CONTOSO-CLIENT-2 destination static Public-IP-192.0.2.50 ACCORP-DMZ-LB-1 no-proxy-arp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create a VPN Group Policy for Acme and Contoso VPN connection:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;group-policy GP-VPN-ACCORP-CONTOSO internal group-policy GP-VPN-ACCORP-CONTOSO attributes vpn-tunnel-protocol ikev1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create the tunnel group:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;tunnel-group 203.0.113.10 type ipsec-l2l tunnel-group 203.0.113.10 general-attributes default-group-policy GP-VPN-ACCORP-CONTOSO
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;tunnel-group 203.0.113.10 ipsec-attributes ikev1 pre-shared-key cisco isakmp keepalive disable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Build the cryptomap:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;crypto map CM-ACCORP-CONTOSO 1 match address ACL-VPN-ACCORP-CONTOSO
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;crypto map CM-ACCORP-CONTOSO 1 set peer 203.0.113.10
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;crypto map CM-ACCORP-CONTOSO 1 set ikev1 transform-set ESP-AES-128-SHA
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;crypto map CM-ACCORP-CONTOSO 1 set nat-t-disable
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;crypto map CM-ACCORP-CONTOSO interface Outside
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That&#39;s all you need from the Acme side to turn up this tunnel, let&#39;s jump to Contoso&#39;s side and configure the tunnel on that side. Jumping on to the Contoso ASA, create some object groups.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;object network CONTOSO-DMZ-SERVER-1
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt; host 172.31.255.10
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;object network PUBLIC-203.0.113.30
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt; host 203.0.113.30
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;object network VPN-ACME-CLIENT-1
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt; host 192.0.2.100
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;object network VPN-ACME-CLIENT-2
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt; host 192.0.2.50
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;object network PUBLIC-203.0.113.50
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt; host 203.0.113.50
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;object-group network VPN-LOCAL-CONTOSO-ACME
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt; network-object object PUBLIC-203.0.113.30
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt; network-object object PUBLIC-203.0.113.50
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;object-group network VPN-REMOTE-CONTOSO-ACME
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt; network-object object VPN-ACME-CLIENT-1
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt; network-object object VPN-ACME-CLIENT-2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Just like on the other side we have to create an access control list to match the traffic we want protected for Contoso.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;access-list ACL-VPN-CONTOSO-ACME extended permit ip object-group VPN-LOCAL-CONTOSO-ACME object-group VPN-REMOTE-CONTOSO-ACME
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create some NAT rules, these are going to static NATs on this side.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;nat (Outside,DMZ) source static VPN-ACME-CLIENT-1 VPN-ACME-CLIENT-1 destination static PUBLIC-203.0.113.30 CONTOSO-DMZ-SERVER-1 no-proxy-arp
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;nat (DMZ,Outside) source static CONTOSO-DMZ-SERVER-1 PUBLIC-203.0.113.50 destination static VPN-ACME-CLIENT-2 VPN-ACME-CLIENT-2 no-proxy-arp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create a VPN group policy for Contoso:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;group-policy GP-VPN-ACME-CONTOSO internal group-policy GP-VPN-ACME-CONTOSO attributes vpn-tunnel-protocol ikev1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create the tunnel group for Contoso:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;tunnel-group 192.0.2.10 type ipsec-l2l tunnel-group 192.0.2.10 general-attributes default-group-policy GP-VPN-ACME-CONTOSO
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;tunnel-group 192.0.2.10 ipsec-attributes ikev1 pre-shared-key cisco isakmp keepalive disable\
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Finally build the crypto map:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;crypto map CM-CONTOSO-ACME 1 match address ACL-VPN-CONTOSO-ACME
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;crypto map CM-CONTOSO-ACME 1 set peer 192.0.2.10
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;crypto map CM-CONTOSO-ACME 1 set ikev1 transform-set ESP-AES-128-SHA
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;crypto map CM-CONTOSO-ACME 1 set nat-t-disable
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;crypto map CM-CONTOSO-ACME interface Outside
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can do a some verification tests, If I jump on 10.254.254.20 which is one of the servers in Acme Corp. I&#39;ll try to do a ping test over to Contoso and see if I get any replies back.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;cisco@ACCORP-DMZ-Server-2:~$ ping 203.0.113.30
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;PING 203.0.113.30 (203.0.113.30) 56(84) bytes of data.
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;64 bytes from 203.0.113.30: icmp_seq=2 ttl=64 time=3.08 ms
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;64 bytes from 203.0.113.30: icmp_seq=3 ttl=64 time=1.52 ms
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;64 bytes from 203.0.113.30: icmp_seq=4 ttl=64 time=2.39 ms
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;64 bytes from 203.0.113.30: icmp_seq=5 ttl=64 time=1.94 ms
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;64 bytes from 203.0.113.30: icmp_seq=6 ttl=64 time=2.08 ms
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;64 bytes from 203.0.113.30: icmp_seq=7 ttl=64 time=3.38 ms
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;64 bytes from 203.0.113.30: icmp_seq=8 ttl=64 time=2.78 ms
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;64 bytes from 203.0.113.30: icmp_seq=9 ttl=64 time=3.16 ms
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;64 bytes from 203.0.113.30: icmp_seq=10 ttl=64 time=1.81 ms
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;^C
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;--- 203.0.113.30 ping statistics ---
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;10 packets transmitted, 9 received, 10% packet loss, time 9018ms
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;rtt min/avg/max/mdev = 1.525/2.465/3.389/0.627 ms
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;cisco@ACCORP-DMZ-Server-2:~$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Looking at the output, I lost one ping packet but that&#39;s likely because the tunnel was not up yet when that first ping packet transmitted over. I&#39;ll jump on the Contoso system and see if I can hit the Acme load server.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;cisco@CONTOSO-DMZ-Server-1:~$ ping 192.0.2.50
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;PING 192.0.2.50 (192.0.2.50) 56(84) bytes of data.
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;64 bytes from 192.0.2.50: icmp_seq=2 ttl=64 time=1.82 ms
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;64 bytes from 192.0.2.50: icmp_seq=3 ttl=64 time=1.82 ms
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;64 bytes from 192.0.2.50: icmp_seq=4 ttl=64 time=1.84 ms
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;64 bytes from 192.0.2.50: icmp_seq=5 ttl=64 time=1.69 ms
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;64 bytes from 192.0.2.50: icmp_seq=6 ttl=64 time=1.72 ms
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;64 bytes from 192.0.2.50: icmp_seq=7 ttl=64 time=1.74 ms
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;64 bytes from 192.0.2.50: icmp_seq=8 ttl=64 time=2.16 ms
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;64 bytes from 192.0.2.50: icmp_seq=9 ttl=64 time=3.86 ms
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;64 bytes from 192.0.2.50: icmp_seq=10 ttl=64 time=1.70 ms
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;64 bytes from 192.0.2.50: icmp_seq=11 ttl=64 time=2.82 ms
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;^C
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;--- 192.0.2.50 ping statistics ---
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;11 packets transmitted, 10 received, 9% packet loss, time 10025ms
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;rtt min/avg/max/mdev = 1.697/2.121/3.863/0.667 ms
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;cisco@R-DMZ-Server-2:~$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;It looks like I can hit the Acme load server! We can also finally check both firewalls to verify a VPN is indeed established. On Acme Firewall:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;ASA-1# show crypto isakmp sa
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;IKEv1 SAs:
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;   Active SA: 1
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;    Rekey SA: 0 (A tunnel will report 1 Active and 1 Rekey SA during rekey)
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;Total IKE SA: 1
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;1   IKE Peer: 203.0.113.10
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;    Type    : L2L             Role    : initiator
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;    Rekey   : no              State   : MM_ACTIVE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;On Contoso Firewall:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;ASA-2# show crypto isakmp sa
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;IKEv1 SAs:
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;   Active SA: 1
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;    Rekey SA: 0 (A tunnel will report 1 Active and 1 Rekey SA during rekey)
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;Total IKE SA: 1
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;1   IKE Peer: 192.0.2.10
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;    Type    : L2L             Role    : responder
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;    Rekey   : no              State   : MM_ACTIVE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That&#39;s all I got, I hope this information is helpful. If you want to try this out I have attached the running-configs of both firewalls. If you are using Cisco VIRL here is a &lt;a href=&#34;https://github.com/lewiryan/VIRL/blob/master/Completed/ASA-Site-To-Site.virl&#34;&gt;link on GitHub&lt;/a&gt; to the file I was working with, enjoy! &lt;a href=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/files/2017/03/running-config-firewalls.pdf&#34;&gt;Running-Config-Firewalls&lt;/a&gt;&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Cisco VIRL and Windows VMs</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/01/cisco-virl-and-windows-vms/</link>
      <pubDate>Sun, 08 Jan 2017 01:53:55 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2017/01/cisco-virl-and-windows-vms/</guid>
      <description>
        
          &lt;p&gt;One of the neat features of Cisco VIRL is it runs on an open platform, with OpenStack as the orchestration program running on top of an Ubuntu operating system. This gives VIRL additional flexibly by being able to run third-party VMs with KVM begin the hypervisor. In this guide I’ll walk through some of the steps I took to get Windows XP up and running in VIRL. :) If you have a more recent version of Windows that&#39;s in the current decade following this guide is pretty much the same just adjust the disk space and RAM to fit the requirements. I picked Windows XP is because its light weight, and with an average RAM usage under 100MB it makes easy to add multiple instances if you needed all without wasting too much resources on VIRL host. To get started:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You’ll need to have a copy of Windows XP.&lt;/li&gt;
&lt;li&gt;I also found an unofficial service pack for Windows XP &lt;a href=&#34;https://ryanvm.net/forum/viewtopic.php?f=5&amp;amp;t=10321&#34;&gt;SP4 (unofficial)&lt;/a&gt; - Optional&lt;/li&gt;
&lt;li&gt;Copy of the &lt;a href=&#34;http://fedoraproject.org/wiki/Windows_Virtio_Drivers&#34;&gt;Windows Virtio Drivers from Fedora&lt;/a&gt;. (VFD Floppy image when installing Windows XP on KVM)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I’m running Cisco VIRL 1.2.83 on bare metal for this example, but this would also work if VIRL is virtualized. Let’s first edit the nova.conf file in VIRL, we need change a value in the nova configuration file which helps us control the mouse better when we use VNC to view the virtual machine in VIRL.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;nano /etc/nova/nova.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Find &lt;strong&gt;use_usb_tablet = False&lt;/strong&gt; and change it to &lt;strong&gt;use_usb_tablet = True&lt;/strong&gt; save the changes, and restart VIRL.&lt;/p&gt;
&lt;p&gt;Once VIRL comes back up we now need to create folder under the home/virl directory to store our Windows XP installation, drivers and the virtual machine, I’m calling it VMs in this example. Once the folder is created move into that folder using terminal and type the following:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;sudo qemu-img create -f qcow2 wsxp-SP3.qcow2 15G
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will create a virtual disk in qcow2 format and the size will be 15G, this next command will create all the necessary settings needed to start the installation of Windows.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;sudo virt-install --connect qemu:///system --name wsxp-SP3 --ram 512 --vcpus 1 --network network=default,model=virtio --disk path=/home/virl/VMs/wsxp-SP3.qcow2,format=qcow2,device=disk,bus=virtio --cdrom /home/virl/VMs/xp.iso --disk path=/home/virl/VMs/virtio-win.vfd,device=floppy --vnc --os-type windows --os-variant winxp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Please make sure to verify the paths are correct per your system. I’m mounting the XP installation ISO as well as the floppy disk so that I can install the drivers needed for Windows to recognize the hard drive. Open virt-manager to see your Windows XP virtual machine it should already be on so you will want to walk through the steps to complete the installation.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;During the installation and when installing drivers, you will get a couple of warnings about how the software drivers have not passed logo testing ignore this and continue to install it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/01/virl-winxp.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Once you have Windows installed you can mount your virtio drivers that you downloaded and install the remaining drivers needed for Windows XP as well as any programs you would like to have available when you spin up this VM. &lt;a href=&#34;https://www.wireshark.org/download/win32/all-versions/Wireshark-win32-1.10.14.exe&#34;&gt;Wireshark (Version 1.10.14)&lt;/a&gt;, and &lt;a href=&#34;http://www.firewall.cx/downloads/16-1-3cdaemon-server-a-client.html&#34;&gt;3cdaemon&lt;/a&gt; are just a couple of examples for software you could use.&lt;/p&gt;
&lt;p&gt;Once you have all the programs you want to go ahead and prepare a sysprep image using your XP installation ISO file. Open the deploy.cab file which is under the SUPPORT\TOOLS folder, copy it into a new directory called SYSPREP on the C drive and extract the cabinet file. Once these files have been copied, turn off the VM and clone it. That way if you need to make any changes to the VM you can use your original VM. Once the machine turns off after the sysprep you now have an image you can import into VIRL. For reference on how to Sysprep Windows XP I followed this guide: &lt;a href=&#34;http://www.petenetlive.com/KB/Article/0000599&#34;&gt;http://www.petenetlive.com/KB/Article/0000599&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You’ll want to use that cloned image when you import this into VIRL because it will be a “new” machine every time it is launched from VIRL including the hostname if you configured the sysprep.Inf file correctly. The finished product should be something like what I have below, you shouldn’t have to do anything but wait a couple of minutes for an XP VM and if you configured DHCP on your routers in VIRL your machine will get an IP address automatically.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/images/2017/01/winxpvirl.gif&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;To import this VM into VIRL go into the User Workspace Management within in VIRL. We are going to create copy of a subtype. Under Node Resources-&amp;gt;Subtypes, find the generic subtype and click on the &amp;quot;stethoscope&amp;quot; icon also called specialize and fill in the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Subtype - Windows&lt;/li&gt;
&lt;li&gt;Desciption of plugin - VM of Windows&lt;/li&gt;
&lt;li&gt;Pattern for data interface names - eth{0}&lt;/li&gt;
&lt;li&gt;First data interface number - 0&lt;/li&gt;
&lt;li&gt;Max count of data interfaces - 5&lt;/li&gt;
&lt;li&gt;Number of interface per LC - 0&lt;/li&gt;
&lt;li&gt;Number of serial interfaces - 0&lt;/li&gt;
&lt;li&gt;Protocol for network CLI - none&lt;/li&gt;
&lt;li&gt;Make VNC access available - (Checked)&lt;/li&gt;
&lt;li&gt;Name of icon for GUI - unknow&lt;/li&gt;
&lt;li&gt;Show subtype on GUI palette (unchecked)&lt;/li&gt;
&lt;li&gt;Configuration disk type - disk&lt;/li&gt;
&lt;li&gt;ISO 9660 level in cdrom disk - 2&lt;/li&gt;
&lt;li&gt;Virtual interface model - virtio&lt;/li&gt;
&lt;li&gt;Main disk bus model - ide&lt;/li&gt;
&lt;li&gt;RAM (MB) allocter per node - 512&lt;/li&gt;
&lt;li&gt;Number of CPUs allocated per node - 1&lt;/li&gt;
&lt;li&gt;Name of default image - Windows-XPSP3&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Create the subtype. Once the subtype is created go to Node Resources-&amp;gt;Images-&amp;gt;Add:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Find and select the Windows Subtype&lt;/li&gt;
&lt;li&gt;Release - 5.1 (I just picked the Windows NT version)&lt;/li&gt;
&lt;li&gt;Source - File on server&lt;/li&gt;
&lt;li&gt;Image path - /home/virl/VMs/&lt;em&gt;image of xp clone&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Create the image. Once the image has been created you now have imported Windows XP within VIRL and should be able to launch it within VM Maestro. You can take similar steps and import additional VMs like Juniper, Palo Alto, and Fortinet are just some examples more information how to import those and other are on &lt;a href=&#34;https://learningnetwork.cisco.com/docs/DOC-30476&#34;&gt;3rd Party VMs in VIRL page&lt;/a&gt; on the Cisco Learning Network. I hope this information is helpful, Ryan.&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;static-comments&#34;&gt;Static Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://ciscoskills.net/2017/05/25/configuring-eigrp-named-mode/&#34; title=&#34;&#34;&gt;Configuring EIGRP – Named Mode – Cisco Skills&lt;/a&gt; - &lt;time datetime=&#34;2017-05-25 06:31:29&#34;&gt;May 4, 2017&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;[…] That’s all I got for now for a basic configuration of EIGRP name mode and I hope this helpful. If you are using Cisco VIRL you can find the project I was referencing using this link Github. There is a subtype that is added in this configuration which was the Windows XP image I was working with. You can find more information about import Windows VMs and other 3rd Party systems into VIRL by checking out a previous post: Cisco VIRL and Windows VMs […]&lt;/p&gt;
&lt;hr /&gt;
&lt;h4 id=&#34;heading-1&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://ciscoskills.net/2017/04/19/asa-site-to-site-vpn-dhcp/&#34; title=&#34;&#34;&gt;ASA Site to Site VPN (DHCP) – Cisco Skills&lt;/a&gt; - &lt;time datetime=&#34;2017-04-19 06:01:13&#34;&gt;Apr 3, 2017&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;[…] There is a subtype that is added in this configuration which was the Windows XP image I was working with. You can find more information about import Windows VMs and other 3rd Party systems into VIRL by checking out a previous post: Cisco VIRL and Windows VMs […]&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Don&#39;t get stuck with &#34;speed-groups&#34;</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2016/12/dont-get-stuck-with-speed-groups/</link>
      <pubDate>Wed, 21 Dec 2016 03:29:44 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2016/12/dont-get-stuck-with-speed-groups/</guid>
      <description>
        
          &lt;p&gt;I was working with a Cisco 9372TX switch, and on it I had two 40Gbps uplinks that we where using out of the available four. Talking with our VAR because we where planning on connecting in additional equipment that only supported SFP+ interfaces. So the solution was to connect to this switch  with QSFP to SFP+ adapters.&lt;/p&gt;
&lt;p&gt;Thinking this would be a simple change because we are just plugging in additional adapters on the QSFP ports we planned our maintenance window and rollback plans but I wasn&#39;t expecting a rollback for this one :)   The interfaces were configured in a shutdown status before we plugged in the adapters and cables so didn&#39;t see anything out of the ordinary, when it was time to do the maintenance let&#39;s bring up the interfaces with the command of no shutdown and we should be up...&lt;/p&gt;
&lt;p&gt;Well not exactly, I first thought it was the other end so I checked that and its reporting the link is down but it was not in a shutdown status. Looking at the Nexus switch interface I see the words &amp;quot;check speed-group config&amp;quot; under the interface and its in a err-disable status and I&#39;ll be honest I haven&#39;t worked with interfaces that are speed-grouped together so I didn&#39;t know that it was even a thing. A quick search to see if I could &amp;quot;break&amp;quot; the speed-group and configure interfaces individually on their own speed turned up nothing.&lt;/p&gt;
&lt;p&gt;We ended up doing a rollback which looked pretty ridiculous because these where just interfaces we couldn&#39;t bring online. It become apparent that I was stuck because with the equipment we had I couldn&#39;t use that 40Gbps uplink, the hardware only supported one speed for all six ports, hence the name &amp;quot;speed-group&amp;quot;. &lt;/p&gt;
&lt;p&gt;We would have to downgrade the link 10Gbps and then we would be able to connect in our additional gear. It&#39;s this kind of stuff where planning out for growth and understanding your hardware limits becomes very important, I didn&#39;t catch it because I have never heard of such thing and our VAR didn&#39;t catch it either. In this case we weren&#39;t maxing out that 40Gbps link and we could afford a downgrade in speed in the meantime. Others may not be so lucky and this could be a problem if you really needed that 40Gbps link or only had 40Gbps on your upstream switches. In the end don&#39;t get stuck with speed-groups! :)&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>TFTP &amp; FTP Server on Centos 7</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2016/09/tftp-ftp-server-on-centos-7/</link>
      <pubDate>Fri, 16 Sep 2016 12:30:00 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2016/09/tftp-ftp-server-on-centos-7/</guid>
      <description>
        
          &lt;p&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2016/09/centos_logo.png&#34; alt=&#34;centos_logo&#34;&gt;If you ever needed a TFTP or an anonymous FTP server to transfer files, logs, or crash debugs to and from your network devices it can be a little tricky if you don&#39;t have anything setup. There are some free quick programs out there if you are in a pinch for one-time transfers but if you ever wanted to have something in infrastructure that is ready to go for this kind of stuff just follow this tutorial below. I&#39;m using the latest version of Centos 7 minimal, we need to add some house keeping items first so let&#39;s get started! Install NANO: [code light=&amp;quot;true&amp;quot;]yum install nano[/code] Install Firewalld (Seems like Centos 7 1511 does not include it at least the minimal version) [code light=&amp;quot;true&amp;quot;]yum install firewalld[/code] Enable firewalld to startup automatically when Centos boots up: [code light=&amp;quot;true&amp;quot;]systemctl enable firewalld[/code] Start the firewalld: [code light=&amp;quot;true&amp;quot;]systemctl start firewalld[/code] This first part of this tutorial will go over installing TFTP followed by installing the FTP. If you want to skip TFTP installation, i.e you only need FTP, select the link: &lt;a href=&#34;#Install-FTP-Server-Centos&#34;&gt;Install FTP Server on Centos&lt;/a&gt; Add the TFTP rule to the Centos Firewall and reload it: [code light=&amp;quot;true&amp;quot;]firewall-cmd --permanent --zone=public --add-service=tftp[/code] [code light=&amp;quot;true&amp;quot;]firewall-cmd --reload[/code] Install the TFTP server as well as the TFTP client just in case we want to test TFTP locally: [code light=&amp;quot;true&amp;quot;]yum install xinetd tftp-server tftp[/code] Enable the TFTP program to startup automatically: [code light=&amp;quot;true&amp;quot;]systemctl enable xinetd tftp[/code] Start the TFTP program now: [code light=&amp;quot;true&amp;quot;]systemctl start xinetd tftp[/code] Since we have started the TFTP service let&#39;s focus on the configuration file and settings for it.We don&#39;t want this TFTP service to run has root, so let&#39;s create a system account for TFTP. [code light=&amp;quot;true&amp;quot;]useradd -s /bin/false -r tftp[/code] This command basically creates a system account which cannot be used to access a shell a.k.a &amp;quot;login&amp;quot;. Depending on how this system was installed your path may be different if you are expecting to store a lot of files. In this tutorial I&#39;m going to be hosting these files under the /var folder. My full path is /var/FileServerRoot/TFTP The folder FileServerRoot is not created by default so I&#39;ll create the folder and put the correct permissions on this folder so that the TFTP system account can get access to it. Create the FileServerRoot Folder as well as a sub folder under it called TFTP: [code light=&amp;quot;true&amp;quot;]mkdir /var/FileServerRoot[/code] [code light=&amp;quot;true&amp;quot;]mkdir /var/FileServerRoot/TFTP[/code] Apply ownership for the TFTP system account: [code light=&amp;quot;true&amp;quot;]chown tftp:tftp /var/FileServerRoot/TFTP/[/code] Permissions should already be rwxr-xr-x for this directory. Next open up the configuration file for the TFTP server located at /etc/xinetd.d/tftp and following the example configuration file below: [code light=&amp;quot;true&amp;quot;]nano /etc/xinetd.d/tftp[/code] [code]# default: off # description: The tftp server serves files using the trivial file transfer \ # protocol. The tftp protocol is often used to boot diskless \ # workstations, download configuration files to network-aware printers, \ # and to start the installation process for some operating systems. service tftp { socket_type = dgram protocol = udp wait = yes user = root server = /usr/sbin/in.tftpd server_args = -c -s /var/FileServerRoot/TFTP -v -v -v -u tftp -p disable = no per_source = 11 cps = 100 2 flags = IPv4 } [/code] If you are curious of what each server argument means you can take a look &lt;a href=&#34;http://linux.die.net/man/8/tftpd&#34;&gt;here&lt;/a&gt; at the man page for TFTP server. Restart both services for the TFTP server: [code light=&amp;quot;true&amp;quot;]systemctl restart xinetd tftp[/code] So after that we have to run more command for SELinux to be happy and the best part is we DON&#39;T turn it off! Right now we are able to download files from the TFTP server but we get a permission denied when we try to upload files. To fix that run this command: [code light=&amp;quot;true&amp;quot;]chcon -t tftpdir_rw_t /var/FileServerRoot/TFTP[/code] We now have a functioning TFTP server, all files permissions in this folder should be no more than 664. Although it would work with full permissions TFTP isn&#39;t that secure to begin with, now onto installing the FTP server :).&lt;/p&gt;
&lt;h2 id=&#34;install-ftp-server-on-centos-7&#34;&gt;Install FTP Server on Centos 7&lt;/h2&gt;
&lt;p&gt;Alight let&#39;s install the FTP server on Centos and include the FTP client just in case we want to test locally: [code light=&amp;quot;true&amp;quot;]yum install vsftpd ftp[/code] Now let&#39;s start looking at the firewall settings, and configuration settings to make this FTP anonymous for both uploads and downloads. Add an FTP rule to firewall and reload it: [code light=&amp;quot;true&amp;quot;]firewall-cmd --permanent --zone=public --add-service=ftp[/code] [code light=&amp;quot;true&amp;quot;]firewall-cmd --reload[/code] Enable the vsftpd to startup apon boot: [code light=&amp;quot;true&amp;quot;]systemctl enable vsftpd[/code] Let&#39;s create the FTP folder and in this example its going to be under the FileServerRoot we created earlier with TFTP or if you skiped the TFTP installation just create a Root directory first followed by creating the FTP folder. [code light=&amp;quot;true&amp;quot;]mkdir /var/FileServerRoot/[/code] [code light=&amp;quot;true&amp;quot;]mkdir /var/FileServerRoot/FTP[/code] We have to change permissions on the FTP folder to the following: [code light=&amp;quot;true&amp;quot;]chmod 555 /var/FileServerRoot/FTP[/code] We are also going to make two more folders under the FTP folder called upload and download to keep things organized: [code light=&amp;quot;true&amp;quot;]mkdir /var/FileServerRoot/FTP/upload[/code] [code light=&amp;quot;true&amp;quot;]mkdir /var/FileServerRoot/FTP/download[/code] Change ownership of these folder to the FTP account which is built in: [code light=&amp;quot;true&amp;quot;]chown ftp:ftp /var/FileServerRoot/FTP/upload[/code] [code light=&amp;quot;true&amp;quot;]chown ftp:ftp /var/FileServerRoot/FTP/download[/code] Let&#39;s make a backup of the configuration file that runs FTP (Just in case) [code light=&amp;quot;true&amp;quot;]cp /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd.conf.orig[/code] Open up the configuration file with nano at /etc/vsftpq/vsftpd.conf and make the following edits towards the top of the file: [code]# Allow anonymous FTP? (Beware - allowed by default if you comment this out). anonymous_enable=YES # # Uncomment this to allow local users to log in. # When SELinux is enforcing check for SE bool ftp_home_dir local_enable=NO # # Uncomment this to enable any form of FTP write command. write_enable=YES # # Default umask for local users is 077. You may wish to change this to 022, # if your users expect that (022 is used by most other ftpd&#39;s) local_umask=022 # # Uncomment this to allow the anonymous FTP user to upload files. This only # has an effect if the above global write enable is activated. Also, you will # obviously need to create a directory writable by the FTP user. # When SELinux is enforcing check for SE bool allow_ftpd_anon_write, allow_ftpd_full_access anon_upload_enable=YES # [/code] At the end of file put the following: [code]# Point users at the Public directory anon_root=/var/FileServerRoot/FTP/ # # Stop prompting for a password on the command line. no_anon_password=YES # # Show the user and group as ftp:ftp, regardless of the owner. hide_ids=YES # # Limit the range of ports that can be used for passive FTP pasv_min_port=40000 pasv_max_port=50000[/code] We are almost done we have to make some changes to SELinux before we are good to go. We have to install Policy Core Utils: [code light=&amp;quot;true&amp;quot;]yum install policycoreutils-python[/code] We are now making changes to SELinux to allow anonymous downloads: [code light=&amp;quot;true&amp;quot;]semanage fcontext -a -t public_content_t &amp;quot;/var/FileServerRoot/FTP(/.*)?&amp;quot;[/code] Next command to run: [code light=&amp;quot;true&amp;quot;]restorecon -R -v /var/FileServerRoot/FTP[/code] - Output - [code]restorecon reset /var/FileServerRoot/FTP context unconfined_u:object_r:var_t:s0-&amp;gt;unconfined_u:object_r:public_content_t:s0 restorecon reset /var/FileServerRoot/FTP/upload context unconfined_u:object_r:var_t:s0-&amp;gt;unconfined_u:object_r:public_content_t:s0 restorecon reset /var/FileServerRoot/FTP/download context unconfined_u:object_r:var_t:s0-&amp;gt;unconfined_u:object_r:public_content_t:s0[/code] Now let&#39;s make changes to SELinux to allow anonymous uploads: [code light=&amp;quot;true&amp;quot;]semanage fcontext -a -t public_content_rw_t &amp;quot;/var/FileServerRoot/FTP/upload(/.*)?&amp;quot;[/code] Next command to run: [code light=&amp;quot;true&amp;quot;]restorecon -R -v /var/FileServerRoot/FTP/upload[/code] -Output - [code light=&amp;quot;true&amp;quot;]restorecon reset /var/FileServerRoot/FTP/upload context unconfined_u:object_r:public_content_t:s0-&amp;gt;unconfined_u:object_r:public_content_rw_t:s0[/code] One more command to run: [code light=&amp;quot;true&amp;quot;]semanage boolean -m --on allow_ftpd_anon_write[/code] That should be it! Let&#39;s restart the server to make sure everything comes back online including the TFTP part that we finished earlier. [code light=&amp;quot;true&amp;quot;]shutdown -r now[/code] If you have a TFTP and FTP client go ahead and test it out when the server reboots. If you run into some issues some troubleshooting tips are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Check SELinux, if you are getting file permissions errors when uploading or downloading and permissions look this is likely SELinuix. It it can be a little picky which is why you&#39;ll read a lot of people just disable it. You can disable SELinux Temporarily (Turns back on when you reboot) to check if TFTP or FTP works by running:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[code light=&amp;quot;true&amp;quot;]setenforce 0[/code]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If you are having problems with anonymous FTP, like downloading or uploading check security context by running:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[code light=&amp;quot;true&amp;quot;]ls -Z[/code]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For FTP to work the context output should like something below:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[code][root@localhost ~]# ls -Z /var/FileServerRoot/FTP/ drwxr-xr-x. ftp ftp unconfined_u:object_r:public_content_t:s0 download drwxr-xr-x. ftp ftp unconfined_u:object_r:public_content_rw_t:s0 upload [root@localhost ~]# [/code] Keep in mind we just created a system that is open to any TFTP and FTP connection. Reads and writes are anonymous so if there is a need to control what/who can access your server over your network/internet its recommended to in put ACLs in place to block unwanted connections. Otherwise you might be on list like &lt;a href=&#34;https://github.com/massivedynamic/openftp4&#34;&gt;this one&lt;/a&gt;, in which the entire IPv4 address space was scanned to find what responds anonymously on TCP port 21. That&#39;s all I got for now, as always I hope this information helpful!&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>iPerf Throughput Testing</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2016/02/iperf-throughput-testing/</link>
      <pubDate>Fri, 12 Feb 2016 19:00:34 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2016/02/iperf-throughput-testing/</guid>
      <description>
        
          &lt;p&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2016/02/speed.png&#34; alt=&#34;speed&#34;&gt;Testing a network’s throughput is a good move, if you are testing a new service you stood up or making sure you getting what you paid for. iPerf is good free open source tool when there isn’t really a need to use commercial more expensive tools. In this short tutorial I’ll go over how to configure iPerf which is a CLI tool so let’s get started. iPerf needs client and server on each end of the connection in order to test the throughput. There is also a list of available iPerf servers that are over the internet if you wanted to test internet speed and that information is also where you would download the latest version of iPerf at: &lt;a href=&#34;https://iperf.fr/&#34;&gt;https://iperf.fr/&lt;/a&gt; If you are in Windows you have to download the compressed folder from the website and extract it somewhere on your machine. Open command prompt at where the uncompressed files are located: Run from Command Prompt (You&#39;ll get a list of the available CLI switches)  : [code]D:\ryan\iperf\iperf-3.0.11-win64&amp;gt;iperf3.exe[/code] In Linux you can do the following to install: (&lt;strong&gt;NOTE:&lt;/strong&gt; At the time of writing version 3.0.11 is the latest) [code]wget &lt;a href=&#34;https://iperf.fr/download/iperf&#34;&gt;https://iperf.fr/download/iperf&lt;/a&gt;_3.0/libiperf0_3.0.11-1_amd64.deb wget &lt;a href=&#34;https://iperf.fr/download/iperf&#34;&gt;https://iperf.fr/download/iperf&lt;/a&gt;_3.0/iperf3_3.0.11-1_amd64.deb sudo dpkg -i libiperf0_3.0.11-1_amd64.deb iperf3_3.0.11-1_amd64.deb rm libiperf0_3.0.11-1_amd64.deb iperf3_3.0.11-1_amd64.deb[/code] Run from terminal (You&#39;ll get a list of the available CLI switches): [code]iperf3[/code] Everything else in the command switches for the most part is the same when it comes to Windows and Linux. There are some commands that run in Linux that don&#39;t on Windows but this doesn&#39;t apply here. :) So in this example on one machine will be the server. [code]iperf3.exe -s ----------------------------------------------------------- Server listening on 5201 -----------------------------------------------------------[/code] On the another will be the client who is connecting to the server. You will want the IP address of the server and by default you can just use: [code]iperf3.exe -c 10.9.8.7 Connecting to host 10.9.8.7, port 5201 [  4] local 10.1.2.3 port 57979 connected to 10.9.8.7 port 5201 [ ID] Interval           Transfer     Bandwidth [  4]   0.00-1.00   sec   512 KBytes  4.19 Mbits/sec [  4]   1.00-2.00   sec  1.00 MBytes  8.39 Mbits/sec [  4]   2.00-3.00   sec  1.25 MBytes  10.5 Mbits/sec [  4]   3.00-4.00   sec  2.25 MBytes  18.9 Mbits/sec [  4]   4.00-5.00   sec   640 KBytes  5.24 Mbits/sec [  4]   5.00-6.00   sec   384 KBytes  3.15 Mbits/sec [  4]   6.00-7.00   sec  2.00 MBytes  16.8 Mbits/sec [  4]   7.00-8.00   sec  1.38 MBytes  11.5 Mbits/sec [  4]   8.00-9.00   sec  1.38 MBytes  11.5 Mbits/sec [  4]   9.00-10.00  sec  1.38 MBytes  11.5 Mbits/sec - - - - - - - - - - - - - - - - - - - - - - - - - [ ID] Interval           Transfer     Bandwidth [  4]   0.00-10.00  sec  12.1 MBytes  10.2 Mbits/sec                  sender [  4]   0.00-10.00  sec  11.9 MBytes  10.0 Mbits/sec                  receiver iperf Done.[/code] So in this example in 10 seconds we transferred about 12 MBytes of data and bandwidth was between 3.15 and 18.9Mbps. Pretty good data to have if you are troubleshooting or verifying anything. In the above example we used TCP but if we switch to UDP notice the difference? [code]iperf3.exe -u -b 0 -c 10.9.8.7 Connecting to host 10.9.8.7, port 5201 [ 4] local 10.1.2.3 port 59361 connected to 10.9.8.7 port 5201 [ ID] Interval Transfer Bandwidth Total Datagrams [ 4] 0.00-1.00 sec 11.6 MBytes 97.3 Mbits/sec 1490 [ 4] 1.00-2.00 sec 11.4 MBytes 95.6 Mbits/sec 1460 [ 4] 2.00-3.00 sec 11.4 MBytes 95.6 Mbits/sec 1460 [ 4] 3.00-4.01 sec 11.4 MBytes 95.6 Mbits/sec 1460 [ 4] 4.01-5.01 sec 11.4 MBytes 95.6 Mbits/sec 1460 [ 4] 5.01-6.00 sec 11.3 MBytes 95.6 Mbits/sec 1450 [ 4] 6.00-7.00 sec 11.4 MBytes 95.6 Mbits/sec 1460 [ 4] 7.00-8.00 sec 11.4 MBytes 95.6 Mbits/sec 1460 [ 4] 8.00-9.00 sec 11.4 MBytes 95.6 Mbits/sec 1460 [ 4] 9.00-10.00 sec 11.4 MBytes 95.6 Mbits/sec 1460 - - - - - - - - - - - - - - - - - - - - - - - - - [ ID] Interval Transfer Bandwidth Jitter Lost/Total Datagrams [ 4] 0.00-10.00 sec 114 MBytes 95.8 Mbits/sec 1.160 ms 3212/14619 (22%) [ 4] Sent 14619 datagrams iperf Done.[/code] We transferred 114 MBytes in 10 seconds, but lost 22 percent of that data thanks to UDP which is good example of the difference between TCP and UDP. ;) That&#39;s all I got so I hope this helpful,its a pretty easy install if you are on Windows or Linux. More information about the types of command switches supported are at &lt;a href=&#34;https://iperf.fr/iperf-doc.php&#34;&gt;https://iperf.fr/iperf-doc.php&lt;/a&gt;&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Cisco VIRL – Update</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2015/11/cisco-virl-update/</link>
      <pubDate>Wed, 18 Nov 2015 13:15:24 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2015/11/cisco-virl-update/</guid>
      <description>
        
          &lt;p&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2015/11/virl-logo-e.png&#34; alt=&#34;VIRL-logo-e&#34;&gt;Cisco released VIRL almost a year ago and it’s not at the 1.0 version yet but it’s getting close as they have done some good work towards the product since it first lunched. Cisco VIRL is like GNS3 which is simulation platform that runs Cisco’s current operating systems so instead of buying used Cisco hardware you can run this program on your computer. This software is geared towards proof-of-concept designs, for personal and training on Cisco Certifications. Let’s talk about it!    Here are the links: &lt;a href=&#34;http://virl.cisco.com/&#34;&gt;http://virl.cisco.com/&lt;/a&gt; - Main Website &lt;a href=&#34;http://community.dev-innovate.com/c/virl&#34;&gt;http://community.dev-innovate.com/c/virl&lt;/a&gt; - Community Form &lt;a href=&#34;http://virl-dev-innovate.cisco.com/&#34;&gt;http://virl-dev-innovate.cisco.com/&lt;/a&gt; - Documentation So in my opinion Cisco has done a good job if you decided purchase this product at documentation, product upgrades, and new features. You need to look at the requirements before you buy as this is not your grandma’s packet tracer program. This can be a little overwhelming when you first get it but you’ll get used it when you use it more and as a bonus you get familiar with Ubuntu and Linux commands if you don’t have that under your hat already. :)  &lt;strong&gt;How Does it work?&lt;/strong&gt; The VIRL system can run on a hypervisor like VMware Workstation/Fusion/Player or bare-metal if you have it available. You would download a OVA template if you are using VMware product line, if you go bare-metal you’ll use an ISO format. The system is Ubuntu 14.04 LTS as of right now and uses some open source products like KVM/QEMU which is another hypervisor under Ubuntu. This hypervisor is able run IOS XRv, NX-OSv, CSR100v, IOSv, ASAv and even 3rd party VMs like Windows, Ubuntu, Tinycore! VIRL is also using Openstack and AutoNetKit. Openstack helps to create, link and delete compute and network resources with APIs and AutoNetKit is used to help build initial configurations on devices so you don’t have to do it manually. In the end there is some very cool open source projects in this VIRL system and it’s kind of weird because I’m actually getting more familiar with these open source projects because of this VIRL software and might have to look at them separately. This product is a subscription based product and cost $200 a year and can handle 20 Cisco nodes at once. (Used to be 15 nodes but they bumped that up to 20) Cisco also offers some other pricing models if you want 30 nodes or if you affiliated with an academic institution. You can find all that out on the main VIRL page. So in my experience with this product so far I have found it very easy to use once you get everything worked out. It really is amazing to continue where I left off on network topology or if I’m just playing around with OSPF on a Friday night, who doesn’t right? :)&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Converting Hexadecimal to Decimal and Binary</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2015/04/converting-hexadecimal-to-decimal-and-binary/</link>
      <pubDate>Wed, 22 Apr 2015 02:22:45 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2015/04/converting-hexadecimal-to-decimal-and-binary/</guid>
      <description>
        
          &lt;p&gt;The purpose of this post is to reference the CCNA Data Center (640-911) exam. This exam starts the conversation of IPv6 and since IPv6 is hexadecimal this post starts the talk about how we look at a hexadecimal values and learn how to convert them to binary and decimal. If you know subnetting skills then this won’t be that difficult. If you are new then check out &lt;a href=&#34;http://ciscoskills.net/2011/02/15/the-wonders-of-binary/&#34; title=&#34;The Wonders of Binary&#34;&gt;The Wonders of Binary&lt;/a&gt; post as well as &lt;a href=&#34;http://ciscoskills.net/2012/04/01/part-1-the-joys-of-subnetting/&#34; title=&#34;Part 1 – The Joys of Subnetting!&#34;&gt;Part 1&lt;/a&gt; and &lt;a href=&#34;http://ciscoskills.net/2012/04/23/part-2-the-joys-of-subnetttting-vlsm/&#34; title=&#34;Part 2 – The Joys of Subnetttting – VLSM!&#34;&gt;Part 2&lt;/a&gt; of subnetting. Let’s get started! Jumping right into it if we look at this hexadecimal value 0x56A we know it’s hexadecimal because the “0x” is the prefix for a hexadecimal number so we really don’t need to do anything with the “0x”. Let’s focus on the 56A value. So where do we start? Remember that 0-9 are normal decimal values so &amp;quot;5&amp;quot; actually means &amp;quot;5&amp;quot;. We want to convert these values into binary. Followed by converting them into a decimal value. So what does the value 5 look like in binary? We then move  to the next digit &amp;quot;6&amp;quot; what does that look like in binary? Then the last value is &amp;quot;A&amp;quot;, what does that look like in binary? &lt;em&gt;Hint: A-F would be 10-15 in decimal.&lt;/em&gt; Reference chart below.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HEXADECIMAL&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DECIMAL&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;BINARY&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;0&lt;/p&gt;
&lt;p&gt;0&lt;/p&gt;
&lt;p&gt;0000&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;0001&lt;/p&gt;
&lt;p&gt;2&lt;/p&gt;
&lt;p&gt;2&lt;/p&gt;
&lt;p&gt;0010&lt;/p&gt;
&lt;p&gt;3&lt;/p&gt;
&lt;p&gt;3&lt;/p&gt;
&lt;p&gt;0011&lt;/p&gt;
&lt;p&gt;4&lt;/p&gt;
&lt;p&gt;4&lt;/p&gt;
&lt;p&gt;0100&lt;/p&gt;
&lt;p&gt;5&lt;/p&gt;
&lt;p&gt;5&lt;/p&gt;
&lt;p&gt;0101&lt;/p&gt;
&lt;p&gt;6&lt;/p&gt;
&lt;p&gt;6&lt;/p&gt;
&lt;p&gt;0110&lt;/p&gt;
&lt;p&gt;7&lt;/p&gt;
&lt;p&gt;7&lt;/p&gt;
&lt;p&gt;0111&lt;/p&gt;
&lt;p&gt;8&lt;/p&gt;
&lt;p&gt;8&lt;/p&gt;
&lt;p&gt;1000&lt;/p&gt;
&lt;p&gt;9&lt;/p&gt;
&lt;p&gt;9&lt;/p&gt;
&lt;p&gt;1001&lt;/p&gt;
&lt;p&gt;A&lt;/p&gt;
&lt;p&gt;10&lt;/p&gt;
&lt;p&gt;1010&lt;/p&gt;
&lt;p&gt;B&lt;/p&gt;
&lt;p&gt;11&lt;/p&gt;
&lt;p&gt;1011&lt;/p&gt;
&lt;p&gt;C&lt;/p&gt;
&lt;p&gt;12&lt;/p&gt;
&lt;p&gt;1100&lt;/p&gt;
&lt;p&gt;D&lt;/p&gt;
&lt;p&gt;13&lt;/p&gt;
&lt;p&gt;1101&lt;/p&gt;
&lt;p&gt;E&lt;/p&gt;
&lt;p&gt;14&lt;/p&gt;
&lt;p&gt;1110&lt;/p&gt;
&lt;p&gt;F&lt;/p&gt;
&lt;p&gt;15&lt;/p&gt;
&lt;p&gt;1111&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Looking at the value 56A we would want to combine all the single values into one binary string. (Example 5 in binary is: &lt;strong&gt;0101&lt;/strong&gt;, 6 in binary is: &lt;strong&gt;0110&lt;/strong&gt;, A in binary is: &lt;strong&gt;1010&lt;/strong&gt;) Combine these together and the the answer would be: &lt;strong&gt;01010110101&lt;/strong&gt; (You can drop leading zeros) &lt;strong&gt;1010110101&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;What does that value look like in decimal? Write it out and remember the power of 2s and always start with &amp;quot;1&amp;quot;. The answer comes out as: &lt;strong&gt;1,386.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[caption id=&amp;quot;attachment_3223&amp;quot; align=&amp;quot;aligncenter&amp;quot; width=&amp;quot;600&amp;quot;]&lt;a href=&#34;https://systemstechblog.files.wordpress.com/2015/04/binarye.png&#34;&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2015/04/binarye.png?w=600&#34; alt=&#34;Add up the 1s&#34;&gt;&lt;/a&gt; Add up the 1s[/caption] Of course you can reverse engineer this if you were given a decimal value and needed to convert it into hexadecimal.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For example convert the following decimal 187 into hexadecimal. Write out 187 into binary so that answer looks like: &lt;strong&gt;10111011.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://systemstechblog.files.wordpress.com/2015/04/dec-binary2.png&#34;&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2015/04/dec-binary2.png?w=600&#34; alt=&#34;Decimal To Binary&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You also want to split the binary string into equal parts, so the answer would be: &lt;strong&gt;1011:1011&lt;/strong&gt; comparing the chart or doing this yourself convert this binary into hexadecimal. Since binary strings are the same our hexadecimal is: &lt;strong&gt;BB.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;decimal-to-hexadecimalhttpssystemstechblogfileswordpresscom201504dec-to-hex2pngw600httpssystemstechblogfileswordpresscom201504dec-to-hex2png-thats-it-understanding-how-to-convert-hex-to-decimal-and-back-starts-to-get-important-when-ipv6-shows-up-at-the-door-although-this-is-a-fundamental-level-topic-thats-exactly-why-its-important-to-understand-it-just-like-subnetting-i-would-use-a-calculator-if-you-ever-find-yourself-converting-these-values-its-always-a-good-idea-to-double-check-your-work-however-on-the-exam-you-dont-have-that-pleasure-so-learning-it-the-manual-way-is-this-only-way-&#34;&gt;&lt;a href=&#34;https://systemstechblog.files.wordpress.com/2015/04/dec-to-hex2.png&#34;&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2015/04/dec-to-hex2.png?w=600&#34; alt=&#34;Decimal To Hexadecimal&#34;&gt;&lt;/a&gt; That&#39;s it! Understanding how to convert hex to decimal and back starts to get important when IPv6 shows up at the door. Although this is a fundamental level topic that&#39;s exactly why its important to understand it. Just like subnetting, I would use a calculator if you ever find yourself converting these values. It&#39;s always a good idea to double-check your work. However on the exam you don&#39;t have that pleasure so learning it the manual way is this only way. :)&lt;/h2&gt;
&lt;h3 id=&#34;comments&#34;&gt;Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;%22pwgy.lhynds1@gmail.com%22&#34;&gt;larry hynds&lt;/a&gt; - &lt;time datetime=&#34;2015-04-21 20:39:34&#34;&gt;Apr 2, 2015&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;this is fantastic information and i truly thank you for this. i am planning to take my eame this summer. if you have any more suggestion dor the exm i would apprechiate it. regards, storm&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-04-21 20:40:57&#34;&gt;Apr 2, 2015&lt;/time&gt;
&lt;p&gt;I&#39;m glad this is going to help, Good Luck on the exam :)&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Configuring Rancid</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2015/02/configuring-rancid/</link>
      <pubDate>Fri, 27 Feb 2015 22:30:00 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2015/02/configuring-rancid/</guid>
      <description>
        
          &lt;h2 id=&#34;in-my-last-post-i-talked-about-installing-rancid-on-centos-7httpciscoskillsnet20150103install-rancid-and-viewvc-on-centos-7-install-rancid-and-viewvc-on-centos-7-so-be-sure-to-check-that-out-in-this-post-we-now-want-to-actually-use-rancid-so-ill-walk-through-on-how-to-setup-rancid-to-login-into-network-equipment-and-get-configurations-to-recap-rancid-is-a-great-tool-to-help-monitor-a-device-configuration-for-any-changes-it-also-keeps-track-of-them-by-using-cvs-concurrent-version-system-for-backups-so-you-can-go-back-and-compare-versions-or-revert-to-a-previous-configuration-rancid-supports-multiple-hardware-from-cisco-hp-dell-juniper-and-more-this-is-all-open-source-so-you-can-create-custom-scripts-or-add-commands-to-really-make-this-a-personal-repository-that-fits-your-company-rancid-has-a-couple-of-areas-that-need-to-be-edited-before-we-can-let-it-run-the-first-area-is-the-routerdb-file-this-file-is-in-each-group-or-folder-that-rancid-stores-in-our-example-we-have-two-groups-routers-and-switches-this-file-has-all-the-devices-you-want-rancid-to-keep-track-of-we-must-edit-this-file-with-either-the-dns-name-of-the-device-or-ip-address-to-do-that-go-to-the-following-login-into-rancid-with-the-root-account-followed-by-su--rancid-_type-of-device_-is-the-group-you-configured-the-list-of-groups-under-the-rancidconf-file-during-the-installation-codenano-usrlocalrancidvartype-of-devicerouterdbcode-at-first-this-is-a-blank-file-so-nothing-will-be-in-the-file-below-is-an-example-of-what-i-have-done-in-the-past-code-this-is-an-example-of-a-routerdb-fle-in-rancid--location-of-file-usrlocalrancidvarroutersrouterdb--type-the-router-name-or-ip-followed-by-the-type-of-device-rancid-supports-more-than-just-cisco--personally-i-think-it-looks-better-with-dns-names-router01examplecomciscoup--you-can-also-mark-a-device-as-down-this-will-cause-rancid-to-skip-it-router02examplecomciscodown-router03examplecomciscoup--of-course-you-can-also-comments-throughout-this-file-or-alongside-devices-for-notes--edge-switches-for-computers-at-hq-switch-hq-edge14examplecomciscoup-location-server-rack-a-switch-hq-edge07examplecomciscoup-location-room-101-switch-hq-edge21examplecomciscodown-location-building-a-under-construction-code-once-you-add-the-all-the-devices-in-each-routerdb-we-now-need-to-look-at-the-clogin-file-which-is-located-_homerancidcloginrc_-this-file-will-store-the-usernames-and-passwords-for-each-device-this-file-supports-wildcards-so-if-you-have-a-good-naming-scheme-use-it-i-have-had-luck-with-commenting-out-everything-in-that-file-and-just-starting-at-the-bottom-of-the-file-with-my-custom-configuration-such-as-code-custom-configuration-at-the-bottom-of-cloginrc--no-enable-prompts-add-noenable-swich-e-edge05examplecom-1--connect-to-all-cores-notice-the-wildcard-remember-you-still-need-to-add-the-full-name-to-the-routerdb-file-add-user-s-core0examplecom-username-goes-here-add-password-s-core0examplecom-password-goes-here-add-method-s-core0examplecom-ssh-add-noenable-s-core0examplecom-1--connect-to-all-campus-5-edge-switches-add-user-switch-c5-edgeexamplecom-username-goes-here-add-password-switch-c5-edgeexamplecom-password-goes-here-enable-password-here-add-method-switch-c5-edgeexamplecom-ssh-code-so-we-now-have-everything-ready-to-test-run-rancid-we-can-test-our-luck-by-just-running-it-once-and-to-do-that-run-the-following-command-below-when-the-commands-completes-you-should-be-able-to-browse-via-the-webpage-see-the-devices-you-added-with-their-configurations-and-get-an-email-if-youve-followed-by-earlier-post-codeusrlocalrancidbinrancid-runcode-for-reference-rancid-keeps-a-log-each-time-it-runs-and-each-different-of-group-or-device-to-view-the-log-use-my-favorite-linux-test-editor-nano--codenano-usrlocalrancidvarlogstype-of-devicegroupcode-in-this-example-log-file-everything-went-well-rancid-is-pretty-good-at-telling-you-what-the-issue-is-if-there-is-one-code-starting-sun-feb-15-180156-mst-2015-trying-to-get-all-of-the-configs-all-routers-sucessfully-completed-cvs-diff-diffing--cvs-diff-diffing-configs-cvs-commit-examining--cvs-commit-examining-configs-ending-sun-feb-15-180245-mst-2015-code-once-you-capture-devices-you-can-view-their-configuration-on-the-browser-by-going-to-httpsrancid-servicer-ipviewvcrancid-servicer-ipviewvc-in-this-example-i-just-have-one-device-with-two-revisions-on-it-im-using-router03examplecom-what-do-you-think-caption-idattachment_3194-alignaligncenter-width660screenshot-of-rancid-in-viewvc-using-router03-as-an-examplehttpssystemstechblogfileswordpresscom201502rancid-2pnghttpssystemstechblogfileswordpresscom201502rancid-2png-screenshot-of-rancid-in-viewvc-using-router03-as-an-examplecaption-caption-idattachment_3196-alignaligncenter-width660diff-between-revisions-on-router03httpssystemstechblogfileswordpresscom201502rancid-1pnghttpssystemstechblogfileswordpresscom201502rancid-1png-diff-between-revisions-on-router03caption-caption-idattachment_3198-alignaligncenter-width660screenshot-of-part-of-the-config-on-router03httpssystemstechblogfileswordpresscom201502rancid-3pnghttpssystemstechblogfileswordpresscom201502rancid-3png-screenshot-of-part-of-the-config-on-router03caption-one-of-the-last-things-to-do-is-to-setup-a-cron-job-to-run-rancid-it-depends-on-your-environment-but-in-this-example-im-running-the-rancid-job-every-hour-on-the-hour-im-also-clearing-the-log-files-every-five-days-but-running-the-job-every-day-day-at-1150pm-below-is-my-example-of-the-cron-job-make-sure-you-in-the-rancid-account-_su---rancid_-and-then-type-_crontab--e_-note-you-will-be-using-vi-so-here-is-a-crash-course-once-you-in-the-file-type-_i_-for-insert-mode-type-out-the-configuration-once-you-are-done-type-_escape-key_-followed-by-_wq_-which-will-write-save-and-quit-the-vi-program-code--rancid-user-crontab-file---begin-hourly-router-dump-1-----usrlocalrancidbinrancid-run--begin-cleanup-of-differ-logs-every-5-days-50-23----usrbinfind-usrlocalrancidvarlogs--type-f--mtime-5--exec-rm--rf--code-we-now-have-a-system-that-will-log-in-and-grab-configurations-of-our-network-equipment-on-a-scheduled-basis-rancid-does-way-more-than-just-cisco-devices-although-its-in-the-name--rancid-has-made-it-pretty-easy-to-even-add-you-own-custom-scripts-or-add-on-to-what-you-want-to-see-when-rancid-pulls-a-configuration-so-like-before-check-out-shrubbery-at-httpwwwshrubberynetrancidhttpwwwshrubberynetrancid-and-the-threads-from-rancid-discussions-at-httpwwwgossamer-threadscomlistsrancidhttpwwwgossamer-threadscomlistsrancid-for-details-ill-stop-it-here-i-hope-this-information-is-helpful-and-as-always-let-me-know-if-you-have-any-questions&#34;&gt;In my last post I talked about &lt;a href=&#34;http://ciscoskills.net/2015/01/03/install-rancid-and-viewvc-on-centos-7/&#34; title=&#34;Install Rancid and ViewVC on Centos 7&#34;&gt;installing Rancid on Centos 7&lt;/a&gt; so be sure to check that out. In this post we now want to actually use Rancid so I’ll walk through on how to setup Rancid to login into network equipment and get configurations. &lt;strong&gt;To recap&lt;/strong&gt;: Rancid is a great tool to help monitor a device configuration for any changes. It also keeps track of them by using CVS (Concurrent Version System) for backups, so you can go back and compare versions or revert to a previous configuration. Rancid supports multiple hardware from Cisco, HP, Dell, Juniper and more. This is all open-source so you can create custom scripts or add commands to really make this a personal repository that fits your company. Rancid has a couple of areas that need to be edited before we can let it run. The first area is the router.db file. This file is in each “group” or folder that rancid stores. In our example we have two groups’ routers and switches. This file has all the devices you want rancid to keep track of. We must edit this file with either the DNS name of the device or IP address. To do that go to the following: Login into Rancid with the Root account followed by su – rancid (&lt;em&gt;Type of Device&lt;/em&gt; is the “group” you configured the List of Groups under the rancid.conf file during the installation) [code]nano /usr/local/rancid/var/{Type of Device}/router.db[/code] At first this is a blank file so nothing will be in the file, below is an example of what I have done in the past [code]# This is an example of a router.db fle in Rancid. # Location of File /usr/local/rancid/var/Routers/router.db # Type the Router name or IP followed by the type of device. (Rancid supports more than just Cisco) # Personally I think it looks better with DNS names. Router01.example.com;cisco;up; # You can also mark a device as down. This will cause Rancid to skip it. Router02.example.com;cisco;down; Router03.example.com;cisco;up; # Of course you can also comments throughout this file or alongside devices for notes. # Edge Switches for Computers at HQ Switch-HQ-Edge14.example.com;cisco;up; LOCATION: Server Rack A Switch-HQ-Edge07.example.com;cisco;up; LOCATION: Room 101 Switch-HQ-Edge21.example.com;cisco;down; LOCATION: Building A (Under Construction) [/code] Once you add the all the devices in each Router.db we now need to look at the .clogin file which is located (&lt;em&gt;/home/rancid/.cloginrc&lt;/em&gt;) this file will store the usernames and passwords for each device,  this file supports wildcards so if you have a good naming scheme use it! I have had luck with commenting out everything in that file and just starting at the bottom of the file with my custom configuration, such as: [code]# Custom Configuration at the bottom of .cloginrc # No Enable Prompts add noenable Swich-E-Edge05.example.com 1 # Connect to All CORES (Notice the wildcard, remember you still need to add the full name to the router.db file.) add user S-core0*.example.com username-goes-here add password S-core0*.example.com password-goes-here add method S-core0*.example.com ssh add noenable S-core0*.example.com 1 # Connect To All Campus-5-Edge Switches add user Switch-C5-Edge*.example.com username-goes-here add password Switch-C5-Edge*.example.com password-goes-here enable-password-here add method Switch-C5-Edge*.example.com ssh [/code] So we now have everything ready to test run rancid, we can test our luck by just running it once and to do that run the following command below. When the commands completes you should be able to browse via the webpage, see the devices you added with their configurations, and get an email if you’ve followed by earlier post. [code]/usr/local/rancid/bin/rancid-run[/code] For reference rancid keeps a log each time it runs and each different of group or device. To view the log use my favorite Linux test editor nano. :) [code]nano /usr/local/rancid/var/logs/{Type of Device/Group}[/code] In this example log file everything went well, rancid is pretty good at telling you what the issue is if there is one. [code] starting: Sun Feb 15 18:01:56 MST 2015 Trying to get all of the configs. All routers sucessfully completed. cvs diff: Diffing . cvs diff: Diffing configs cvs commit: Examining . cvs commit: Examining configs ending: Sun Feb 15 18:02:45 MST 2015 [/code] Once you capture devices you can view their configuration on the browser by going to &lt;a href=&#34;//rancid-servicer-ip/viewvc&#34;&gt;http(s)://rancid-servicer-ip/viewvc&lt;/a&gt;. In this example I just have one device with two revisions on it, I&#39;m using router03.example.com. What do you think? [caption id=&amp;quot;attachment_3194&amp;quot; align=&amp;quot;aligncenter&amp;quot; width=&amp;quot;660&amp;quot;]&lt;a href=&#34;https://systemstechblog.files.wordpress.com/2015/02/rancid-2.png&#34;&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2015/02/rancid-2.png&#34; alt=&#34;Screenshot of Rancid in ViewVC Using Router03 as an example.&#34;&gt;&lt;/a&gt; Screenshot of Rancid in ViewVC, using Router03 as an example.[/caption] [caption id=&amp;quot;attachment_3196&amp;quot; align=&amp;quot;aligncenter&amp;quot; width=&amp;quot;660&amp;quot;]&lt;a href=&#34;https://systemstechblog.files.wordpress.com/2015/02/rancid-1.png&#34;&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2015/02/rancid-1.png&#34; alt=&#34;Diff between revisions on Router03.&#34;&gt;&lt;/a&gt; Diff between revisions on Router03.[/caption] [caption id=&amp;quot;attachment_3198&amp;quot; align=&amp;quot;aligncenter&amp;quot; width=&amp;quot;660&amp;quot;]&lt;a href=&#34;https://systemstechblog.files.wordpress.com/2015/02/rancid-3.png&#34;&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2015/02/rancid-3.png&#34; alt=&#34;Screenshot of part of the config on Router03&#34;&gt;&lt;/a&gt; Screenshot of part of the config on Router03[/caption] One of the last things to do is to setup a cron job to run rancid, it depends on your environment but in this example I&#39;m running the rancid job every hour on the hour. I&#39;m also clearing the log files every five days but running the job every day day at 11:50pm. Below is my example of the cron job. Make sure you in the rancid account (&lt;em&gt;su - rancid&lt;/em&gt;) and then type &lt;em&gt;crontab -e&lt;/em&gt;. Note you will be using vi so here is a crash course once you in the file type &amp;quot;&lt;em&gt;i&lt;/em&gt;&amp;quot; for INSERT MODE type out the configuration once you are done type &lt;em&gt;Escape key&lt;/em&gt; followed by &amp;quot;&lt;em&gt;:wq&lt;/em&gt;&amp;quot; which will write (save) and quit the vi program. [code]# # Rancid User Crontab File # # Begin Hourly Router Dump 1 * * * * /usr/local/rancid/bin/rancid-run # Begin Cleanup of Differ Logs Every 5 Days 50 23 * * * /usr/bin/find /usr/local/rancid/var/logs -type f -mtime +5 -exec rm -rf {} \;[/code] We now have a system that will log in and grab configurations of our network equipment on a scheduled basis. Rancid does way more than just Cisco devices although its in the name :). Rancid has made it pretty easy to even add you own custom scripts or add-on to what you want to see when rancid pulls a configuration so like before check out Shrubbery at &lt;a href=&#34;http://www.shrubbery.net/rancid/&#34;&gt;http://www.shrubbery.net/rancid/&lt;/a&gt; and the threads from Rancid Discussions at &lt;a href=&#34;http://www.gossamer-threads.com/lists/rancid/&#34;&gt;http://www.gossamer-threads.com/lists/rancid/&lt;/a&gt; for details. I&#39;ll stop it here I hope this information is helpful and as always let me know if you have any questions.&lt;/h2&gt;
&lt;h3 id=&#34;comments&#34;&gt;Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;%22sunnymanya@yahoo.com%22&#34;&gt;sunny&lt;/a&gt; - &lt;time datetime=&#34;2015-08-22 02:49:15&#34;&gt;Aug 6, 2015&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;great write-up, thanks. Do you have an article listing the steps to setup &#39;cisco-sb&#39; type devices to be congured with Rancid-3.1 or 3.2. I did every possible config/changes but could not get it to work. Finally had to downgrade rancid to 2.3.8 and then i was able for rancid to pull the config of cisco-sb devices. thanks sunny&lt;/p&gt;
&lt;hr /&gt;
#### 
[Elliot]( &#34;elliot.maitre@gmail.com&#34;) - &lt;time datetime=&#34;2016-02-09 08:00:04&#34;&gt;Feb 2, 2016&lt;/time&gt;
&lt;p&gt;Hello. Thank you for this guide, it is really helpful. I followed your two guides but I have a problem when I run RANCID. When I run /usr/local/rancid/bin/rancid-run, it takes a few seconds, I have only one switch at the moment so I think it&#39;s working. But when I go to viewvc, I just have rev. 1.1, with nothing in, and I don&#39;t have a new one (like 1.2 ...) when I run it again. In my file router.db I just have this : { my IP xx.xx.xx.xx };cisco;up In my file .cloginrc I just added : add user xx.xx.xx.xx Test (it works when i connect with this user by ssh) ad password xx.xx.xx.xx password password (the password works for connection and enable) ad method xx.xx.xx.xx ssh Are my files ok? I&#39;m sorry, I don&#39;t speak english very well, I hope you will understand ! Thank you. Elliot&lt;/p&gt;
&lt;hr /&gt;
#### 
[Elliot]( &#34;elliot.maitre@gmail.com&#34;) - &lt;time datetime=&#34;2016-02-12 07:30:09&#34;&gt;Feb 5, 2016&lt;/time&gt;
&lt;p&gt;Hello. Yes I put HP instead of cisco but it doesn&#39;t work ^^ I think this type of HP switch isn&#39;t supported by RANCID ! I&#39;m not an expert too, so I will try to use anything else ^^ Thank you again for your answers and your tutorial ! Elliot&lt;/p&gt;
&lt;hr /&gt;
#### 
[blakestock]( &#34;blakestock@gmail.com&#34;) - &lt;time datetime=&#34;2015-09-23 14:59:31&#34;&gt;Sep 3, 2015&lt;/time&gt;
&lt;p&gt;Thanks for the guide! I’ve got RANCID up and running but it doesn’t seem to actually be polling the devices and getting their configs. When I run /usr/local/rancid/bin/rancid-run it takes about 1 second to finish but I’ve got 9 different devices it should be logging into. When I check the ViewVC page the devices are not showing up individually but it does show the router.db file The logs for running RANCID manually just show: starting: Wed Sep 23 16:40:15 EDT 2015 ending: Wed Sep 23 16:40:15 EDT 2015 I can ssh to each device with the username I’ve made for RANCID from the server fine. Any ideas on what I’m missing? Thanks! Blake&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-09-23 19:02:42&#34;&gt;Sep 3, 2015&lt;/time&gt;
&lt;p&gt;Hey Blake, Did you follow another post I did about Installing Rancid? &lt;a href=&#34;http://ciscoskills.net/2015/01/03/install-rancid-and-viewvc-on-centos-7/&#34;&gt;http://ciscoskills.net/2015/01/03/install-rancid-and-viewvc-on-centos-7/&lt;/a&gt; Go over that and see if you are missing anything, you should see some cvs information and any errors/successes about devices in your router.db file. If you seeing blank logs it is likely rancid is not understanding the router.db file. &lt;code&gt;# This is an example of a router.db fle in Rancid. #Location of File /usr/local/rancid/var/Routers/router.db #Type the Router name or IP followed by the type of device. (Rancid supports more than just Cisco) #Personally I think it looks better with DNS names. Router01.example.com;cisco;up; #You can also mark a device as down. This will cause Rancid to skip it. Router02.example.com;cisco;down; Router03.example.com;cisco;up; #Of course you can also comments throughout this file or alongside devices for notes. #Edge Switches for Computers at HQ Switch-HQ-Edge14.example.com;cisco;up; LOCATION: Server Rack A Switch-HQ-Edge07.example.com;cisco;up; LOCATION: Room 101 Switch-HQ-Edge21.example.com;cisco;down; LOCATION: Building A (Under Construction)&lt;/code&gt; Hope that Helps, Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[blakestock]( &#34;blakestock@gmail.com&#34;) - &lt;time datetime=&#34;2015-09-24 07:22:27&#34;&gt;Sep 4, 2015&lt;/time&gt;
&lt;p&gt;Thanks for the response, I see what I did in the router.db file. I had an older version of RANCID running and in that the router.db file used colons instead of semi-colons. I had copied the old router.db file to the new server running current version and that&#39;s why it didn&#39;t read the routers or log into any of them. Thanks for your help and this great guide!!&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-02-09 19:25:09&#34;&gt;Feb 2, 2016&lt;/time&gt;
&lt;p&gt;Hey Elliot, Check the logs by going to &lt;code&gt;nano /usr/local/rancid/var/logs/&lt;/code&gt; and scroll through it and see what it says. You can also test logins by using clogin since you are using Cisco equipment. On CLI login into rancid, &lt;code&gt;su - rancid&lt;/code&gt; then run this command to connect to one of your devices &lt;code&gt;/usr/local/rancid/bin/clogin (IP address/Name of device)&lt;/code&gt; hit enter. If it all works you should be connected to your equipment, if not it should give you an error and from there you could troubleshoot more. Hope that Helps. Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Elliot]( &#34;elliot.maitre@gmail.com&#34;) - &lt;time datetime=&#34;2016-02-10 01:22:21&#34;&gt;Feb 3, 2016&lt;/time&gt;
&lt;p&gt;Hi, thank you for the answer /usr/local/rancid/var/logs/ is empty .... I think it&#39;s a problem :) When i use /usr/local/rancid/bin/clogin, I don&#39;t have enough time to enter my password, and even if I&#39;m fast enough and I enter the right password, I have an erroer : Authentication failed. I have probably made something wrong ! It&#39;s maybe a problem with the switch? Thank you Elliot&lt;/p&gt;
&lt;hr /&gt;
#### 
[Elliot]( &#34;elliot.maitre@gmail.com&#34;) - &lt;time datetime=&#34;2016-02-10 07:36:34&#34;&gt;Feb 3, 2016&lt;/time&gt;
&lt;p&gt;I checked my log file, obviously it&#39;s a password problem. I don&#39;t know why but it looks like it doesn&#39;t use the password that I give.... Because when I use /usr/local/rancid/bin/clogin I&#39;m connected but when i use ssh I have this error : spawn ssh -c 3des -x -l rancid xx.xx.xx.xx Password: Password: Password: &lt;a href=&#34;mailto:rancid@10.1.249.123&#34;&gt;rancid@10.1.249.123&lt;/a&gt;&#39;s password: Connection closed by xx.xx.xx.xx When I use telnet : spawn telnet xx.xx.xx.xx Trying xx.xx.xx.xx... Connected to xx.xx.xx.xx. Escape character is &#39;^]&#39;. User Access Verification Password: % Authentication failed Password: Error: Check your passwd for xx.xx.xx.xx But i give the right password ... When I use the command : /usr/local/rancid/bin/clogin -u rancid -p password ( the same) xx.xx.xx.xx It works ! I&#39;m connected to my switch, I have just an error for enable but it&#39;s because I don&#39;t give him the password. Thank you&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-02-10 19:13:45&#34;&gt;Feb 3, 2016&lt;/time&gt;
&lt;p&gt;Hey Elliot, Check your /home/rancid/.cloginrc file. If clogin is not working than there is something wrong with your .cloginrc file. Comment out everything in that file and just start at the bottom of the file with you own configuration. Hope that Helps. Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Elliot]( &#34;elliot.maitre@gmail.com&#34;) - &lt;time datetime=&#34;2016-02-11 01:05:34&#34;&gt;Feb 4, 2016&lt;/time&gt;
&lt;p&gt;I commented evrything except what I added... And now it works ! I looked for it one entire day, just for a problem of comment ^^ Thank you from France. :) Elliot&lt;/p&gt;
&lt;hr /&gt;
#### 
[Elliot]( &#34;elliot.maitre@gmail.com&#34;) - &lt;time datetime=&#34;2016-02-11 03:43:41&#34;&gt;Feb 4, 2016&lt;/time&gt;
&lt;p&gt;Hello it&#39;s me again! Now, it&#39;s working with a cisco switch, but not with HP switch :) I can connect to the switch without problem, but with hp switch the command to have access to the configuration is not &amp;quot;enable&amp;quot; but &amp;quot;_cmdline-mode&amp;quot; So when i use &amp;quot;/usr/local/rancid/bin/clogin I have this : Username:xxx Password: enable ^ % Unrecognized command found at &#39;^&#39; position. So i would like to modify something to make rancid uses &amp;quot;_cmdline-mode&amp;quot; and not enable, but I don&#39;t know how to do this :s I tried to use &amp;quot;add enableprompt&amp;quot; but I don&#39;t know if it&#39;s what this command do Thanks a lot. Elliot&lt;/p&gt;
&lt;hr /&gt;
#### 
[Elliot]( &#34;elliot.maitre@gmail.com&#34;) - &lt;time datetime=&#34;2016-02-11 06:23:56&#34;&gt;Feb 4, 2016&lt;/time&gt;
&lt;p&gt;Sorry for triple post but I can&#39;t edit my post ... In /usr/local/rancid/var/logs/ i have this : starting: jeu. fÃ©vr. 11 11:10:58 CET 2016 hourly config diffs failed: /tmp/.Switchs.run.lock exists -rw-r-----. 1 rancid netadm 0 11 fÃ©vr. 10:26 /tmp/.Switchs.run.lock ending: jeu. fÃ©vr. 11 11:10:58 CET 2016 For my hp switch I have this in /.cloginrc: add user 10.1.249.59 {admin} add autoenable 10.1.249.59 1 add password 10.1.249.59 {admin} {password} add method 10.1.249.59 {telnet} I said in my last post that I need to use the command &amp;quot;_cmdline-mode&amp;quot; but I&#39;m not sure that I have to use it to have access to the configuration of the switch. gG Anyway, Rancid doesn&#39;t work with my HP switch ! It&#39;s an HP 1920-8G Thank you&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-02-11 08:01:45&#34;&gt;Feb 4, 2016&lt;/time&gt;
&lt;p&gt;Hey Elliot, I know Rancid does support some HP hardware but I&#39;m not entirely sure if your HP hardware is supported. In the router.db you put HP as the device instead of Cisco right? If that doesn&#39;t work its probably something you would have to modify in rancid and that is something I&#39;m not an expert in. You could check out &lt;a href=&#34;http://www.gossamer-threads.com/lists/rancid/announce/&#34;&gt;http://www.gossamer-threads.com/lists/rancid/announce/&lt;/a&gt; and post/search for your question over there. Good Luck, I&#39;m glad you at least got it working for your Cisco gear :) Ryan&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Install Rancid and ViewVC on Centos 7</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2015/01/install-rancid-and-viewvc-on-centos-7/</link>
      <pubDate>Sat, 03 Jan 2015 19:00:00 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2015/01/install-rancid-and-viewvc-on-centos-7/</guid>
      <description>
        
          &lt;h2 id=&#34;in-this-post-i-want-to-walk-though-the-steps-to-install-rancid-on-centos-7-minimal-rancid-is-a-great-tool-to-help-monitor-a-device-configuration-for-any-changes-it-also-keeps-track-of-them-by-using-cvs-concurrent-version-system-for-backups-so-you-can-go-back-and-compare-versions-or-revert-to-a-previous-configuration-rancid-supports-multiple-hardware-from-cisco-hp-dell-juniper-and-more-this-is-all-open-source-so-you-can-create-custom-scripts-or-add-commands-to-really-make-this-a-personal-repository-that-fits-your-company-during-this-install-guide-several-things-are-required-when-we-install-rancid-i-have-tired-to-make-this-as-simple-as-possible-but-its-not-just-a-type-and-watch-it-install-you-have-to-customize-some-of-the-scripts-to-make-rancid-work-like-it-should-read-it-though-and-follow-along-so-im-already-assuming-that-you-have-centos-7-minimal-installed-with-connection-to-the-internet-and-have-just-the-root-account-with-a-password-you-can-pick-up-the-latest-centos-at-httpwwwcentosorg-login-as-the-root-account-and-lets-update-this-thing-and-accept-any-updates-before-we-do-anything-else-codeyum-updatecode-we-now-need-to-install-all-the-prerequisites-needed-for-rancid-and-some-other-tools-well-need-for-troubleshooting-if-needed-codeyum-install-nano-wget-ftp-telnet-mariadb-server-mariadb-perl-tcl-expect-gcc-cvs-rcs-httpd-autoconf-php-common-php-gd-php-pear-php-pecl-memcache-php-mysql-php-xml-mod_ssl-mysql-pythoncode-since-we-installed-apache-we-will-want-to-change-the-firewall-rules-on-our-system-to-allow-http-and-https-if-we-want-it-allow-http-codefirewall-cmd---permanent---zonepublic---add-servicehttpcode-allow-https-codefirewall-cmd---permanent---zonepublic---add-servicehttpscode-reload-the-firewall-to-save-changes-codefirewall-cmd---reloadcode-enable-the-apache-service-to-start-on-bootup-and-lets-start-it-up-for-the-first-time-codesystemctl-enable-httpdservice-systemctl-start-httpdservicecode-after-you-enable-apache-you-should-see-a-sample-webpage-from-apache-when-you-browse-to-your-servers-ip-address-with-a-browser-we-now-need-to-add-a-group-for-the-rancid-user-codegroupadd-netadmcode-next-we-will-create-a-user-called-rancid-and-put-this-user-under-the-group-we-just-created-which-is-netadm-we-will-also-put-in-the-home-directory-for-this-rancid-user-codeuseradd--g-netadm--c-networking-backups--d-homerancid-rancidcode-lets-be-a-little-organized-and-create-a-directory-to-put-all-of-our-installation-files-once-created-lets-change-directories-to-that-tar-folder-we-just-created-codemkdir-homerancidtarcode-move-to-the-tar-folder-codecd-homerancidtarcode-we-will-download-the-latest-version-of-rancid-which-at-the-time-of-this-writing-is-31-3-1-16-update-current-version-is-341-i-updated-the-download-paths-below--codewget-ftpftpshrubberynetpubrancidrancid-341targzcode-extract-the-tar-ball-we-just-downloaded-codetar--zxvf-rancid-341targzcode-move-into-the-rancid-31-folder-codecd-rancid-341code-runtype-in-the-following-followed-by-enter-this-gets-rancid-ready-for-install-codeconfigure---prefixusrlocalrancidcode-after-all-of-the-output-clears-run-the-install-codemake-installcode-now-lets-copy-and-modify-some-permissions-codecp-cloginrcsample-homerancidcloginrc-chmod-0640-homerancidcloginrc-chown--r-rancidnetadm-homerancidcloginrc-chown--r-rancidnetadm-usrlocalrancid-chmod-775-usrlocalrancidcode-we-have-to-edit-the-rancid-configuration-file-and-put-our-devices-in-groups-find-list-of-rancid-groups-and-uncomment-it-type-in-the-groups-you-would-like-for-example-routers-switches-codenano-usrlocalrancidetcrancidconf---list-of-rancid-groups-list_of_groupsrouters-switches--more-groups-list_of_groupslist_of_groups-noc-billybobisp---code-switch-to-the-rancid-user-account-codesu--rancidcode-run-the-following-this-creates-a-cvs-repository-with-the-groups-you-just-entered-in-the-list-of-groups-codeusrlocalrancidbinrancid-cvs-no-conflicts-created-by-this-import-cvs-checkout-updating-routers-directory-usrlocalrancidvarcvsroutersconfigs-added-to-the-repository-cvs-commit-examining-configs-cvs-add-scheduling-file-routerdb-for-addition-cvs-add-use-cvs-commit-to-add-this-file-permanently-rcs-file-usrlocalrancidvarcvsroutersrouterdbv-done-checking-in-routerdb-usrlocalrancidvarcvsroutersrouterdbv----routerdb-initial-revision-11-done-no-conflicts-created-by-this-import-cvs-checkout-updating-switches-directory-usrlocalrancidvarcvsswitchesconfigs-added-to-the-repository-cvs-commit-examining-configs-cvs-add-scheduling-file-routerdb-for-addition-cvs-add-use-cvs-commit-to-add-this-file-permanently-rcs-file-usrlocalrancidvarcvsswitchesrouterdbv-done-checking-in-routerdb-usrlocalrancidvarcvsswitchesrouterdbv----routerdb-initial-revision-11-done-rancidrancid-code-after-the-command-runs-logout-of-rancid-user-and-go-back-to-root-move-back-to-tar-folder-codecd-homerancidtarcode-next-we-will-want-to-download-viewvc-and-as-of-this-writing-the-latest-the-version-is-1123-3-1-16-update-current-version-of-viewvc-is-1124-i-updated-the-paths-below--codewget-httpviewvctigrisorgfilesdocuments333049471viewvc-1124targzcode-extract-the-tarball-codetar--zxvf-viewvc-1124targzcode-move-to-the-viewvc-folder-and-run-the-installer-accept-the-defaults-codecd-viewvc-1124-viewvc-installcode-we-now-need-to-modify-the-viewvc-configuration-file-basically-telling-viewvc-where-the-cvs-repo-is-codenano-usrlocalviewvc-1124viewvcconfcode-find-the-following-and-edit-as-shown-below-code--example--cvs_roots--cvsroot-optcvsrepos1--anotherroot-usrlocalcvsrepos2--cvs_roots--cvs--svn_roots-specifies-each-of-the-subversion-roots-repositories-on--your-system-and-assigns-names-to-them-each-root-should-be-given-by---example--root_parents--optsvn-svn--optcvs-cvs--root_parents--usrlocalrancidvarcvs--cvs--default_root-this-is-the-name-of-the-default-root-valid-names---example--rcs_dir--usrbin--rcs_dir--usrlocalbin--cvsnt-location-of-cvsnt-program-viewvc-can-use-cvsnt-wwwcvsntorg---use_rcsparse-use-the-rcsparse-python-module-to-retrieve-cvs--repository-information-instead-of-invoking-rcs-utilities-experimental--use_rcsparse--1-code-we-need-to-copy-some-files-and-change-permissions-for-viewvc-codecp-usrlocalviewvc-1124bincgicgi-varwwwcgi-bin-chmod-x-varwwwcgi-bincgi-chown-apacheapache-varwwwcgi-bincgicode-for-this-example-we-will-use-http-for-viewvc-although-you-could-use-https-just-have-to-modify-the-apache-httpd-file-codenano-etchttpdconfhttpdconfcode-i-put-the-following-at-the-bottom-of-the-httpd-file-code-custom-rancid-config-virtualhost-80-documentroot-varwww-scriptalias-cgi-bin-varwwwcgi-bin-scriptalias-viewvc-varwwwcgi-binviewvccgi-scriptalias-query-varwwwcgi-binquerycgi-directory-varwwwcgi-bin-allowoverride-none-options-none-order-allowdeny-allow-from-all-directory-virtualhost-code-we-are-almost-done-we-now-need-to-turn-on-mariadb-which-viewvc-uses-and-start-up-the-secure-installation-accept-all-defaults-and-type-in-a-root-password-for-mariadb-codesystemctl-enable-mariadb-systemctl-start-mariadb-sudo-mysql_secure_installationcode-go-back-into-mariadb-and-create-a-viewvc-user-and-use-the-password-you-just-created-codemysql--u-root--pcode-enter-the-following-replace-yourpassowrdhere-with-something-else-codecreate-user-viewvclocalhost-identified-by-yourpasswordhere-grant-all-privileges-on--to-viewvclocalhost-with-grant-option-flush-privileges-quit-code-make-the-viewvc-database-with-the-username-and-password-you-just-created-accept-the-defaults-codeusrlocalviewvc-1124binmake-database-mysql-hostname-leave-blank-for-default-mysql-port-leave-blank-for-default-mysql-user-viewvc-mysql-password-yourpasswordhere-viewvc-database-name-default-viewvc-database-created-successfully-dont-forget-to-configure-the-cvsdb-section-of-your-viewvcconf-filecode-go-back-to-mariadb-mysql-with-the-root-password-codemysql--u-root--pcode-create-a-read-only-account-for-viewvc-on-the-mysql-database-replace-yourropassowrdhere-with-something-else-codecreate-user-viewvcrolocalhost-identified-by-yourropasswordhere-grant-select-on-viewvc-to-viewvcrolocalhost-with-grant-option-flush-privileges-quit-code-we-now-need-to-configure-the-viewvc-configuration-file-with-the-user-names-and-passwords-to-that-we-created-in-mysql-codenano-usrlocalviewvc-1124viewvcconfcode-find-cvsdb-and-change-it-to-something-like-this-code----------------------------------------------------------------------------cvsdb--enabled-enable-database-integration-feature--enabled--1--host-database-hostname-leave-unset-to-use-a-local-unix-socket--connection--host--localhost--post-database-listening-port--port--3306--database_name-viewvc-database-name--database_name--viewvc--user-username-of-user-with-readwrite-privileges-to-the-database--specified-by-the-database_name-configuration-option--user--viewvc--passwd-password-of-user-with-readwrite-privileges-to-the-database--specified-by-the-database_name-configuration-option--passwd--yourpasswordhere--readonly_user-username-of-user-with-read-privileges-to-the-database--specified-by-the-database_name-configuration-option--readonly_user--viewvcro--readonly_passwd-password-of-user-with-read-privileges-to-the-database--specified-by-the-database_name-configuration-option--readonly_passwd--yourropasswordhere-code-run-the-following-command-to-build-the-database-codeusrlocalviewvc-1124bincvsdbadmin-rebuild-usrlocalrancidvarcvscvsrootcode-reboot-the-server-once-online-you-should-be-able-view-the-repository-at-httprancid-servicer-ipviewvc-caption-idattachment_3180-alignaligncenter-width659screenshot-of-viewvc-using-rancidhttpssystemstechblogfileswordpresscom201501rancid-viewvcpnghttpssystemstechblogfileswordpresscom201501rancid-viewvcpng-screenshot-of-viewvc-using-rancidcaption-if-you-see-the-groups-that-we-created-we-looking-good-so-far-to-finish-this-installation-off-we-need-to-setup-rancid-to-send-emails-usually-you-have-to-add-the-rancid-to-the-allowed-senders-list-on-your-email-infrastructure-rancid-uses-aliases-to-send-emails-we-need-to-edit-the-aliases-file-codenano-etcaliasescode-depending-on-your-infrastructure-you-might-have-different-teams-of-people-for-different-equipment-that-rancid-is-monitoring-or-you-are-running-one-man-shop-either-way-you-can-specify-in-this-example-im-using-only-one-email-address-and-created-a-new-aliases-called-rancid-all-of-this-is-at-the-bottom-of-the-aliases-file-code-custom-rancid-configuration-put-an-email-here-rancid-emailaddressgoesherecom--custom-rancid-configuration-rancid-admin-routers-rancid-rancid-routers-rancid-rancid-admin-switches-rancid-rancid-switches-rancid-code-depending-on-what-you-created-in-your-list-of-groups-in-the-rancid-configuration-file-you-might-have-more-or-less-in-this-example-we-just-created-routers-and-switches-we-must-specify-these-in-the-aliases-file-otherwise-rancid-wont-send-emails-for-these-groups-once-we-are-done-editing-you-want-to-let-our-rancid-box-know-about-the-new-aliases-we-just-created-type-in-the-following-command-to-update-codenewaliasescode-in-this-example-postfix-is-already-installed-so-we-just-need-to-edit-the-postfix-configuration-file-codenano-etcpostfixmaincfcode-find-and-uncomment-relayhost-and-type-either-the-domain-name-if-you-have-mx-records-the-fqdn-or-ip-address-of-your-email-system-coderelayhost--mycompanydomaincom-relayhost--emailmycompanydomaincom-relayhost--mailserverisptld-relayhost--uucphost-relayhost--anipaddress-code-start-up-posfix-and-enable-it-on-boot-codesystemctl-start-postfix-systemctl-enable-postfixcode-finished-we-have-just-installed-rancid-along-with-made-some-helpful-tweaks-like-getting-an-upfront-web-page-to-view-the-configurations-instead-of-cli-as-well-as-setting-up-rancid-to-email-us-if-anything-changes-or-if-there-are-issues-with-connecting-to-any-equipment-ill-put-the-brakes-here-and-in-the-next-post-we-will-go-over-how-to-customize-rancid-to-log-into-devices-and-grab-configurations-i-hope-this-install-guide-is-helpful-and-let-me-know-if-you-have-any-questions-enjoy-new-year--if-you-cant-wait-for-me-then-you-can-check-shrubbery-at-httpwwwshrubberynetrancid-read-the-readme-file-once-you-download-rancid-you-can-also-check-threads-from-rancid-discussions-at-wwwgossamer-threadscomlistsrancid&#34;&gt;In this post I want to walk though the steps to install Rancid on CentOS 7 minimal. Rancid is a great tool to help monitor a device configuration for any changes. It also keeps track of them by using CVS (Concurrent Version System) for backups, so you can go back and compare versions or revert to a previous configuration. Rancid supports multiple hardware from Cisco, HP, Dell, Juniper and more. This is all open-source so you can create custom scripts or add commands to really make this a personal repository that fits your company.  During this install guide several things are required when we install Rancid, I have tired to make this as simple as possible but its not just a type and watch it install. You have to customize some of the scripts to make Rancid work like it should. Read it though and follow along. So I&#39;m already assuming that you have CentOS 7 minimal installed, with connection to the internet, and have just the root account with a password. You can pick up the latest CentOS at &lt;a href=&#34;http://www.centos.org/&#34;&gt;http://www.centos.org/&lt;/a&gt; Login as the root account and let&#39;s update this thing and accept any updates before we do anything else. [code]yum update[/code] We now need to install all the prerequisites needed for Rancid and some other tools we&#39;ll need for troubleshooting (if needed) [code]yum install nano wget ftp telnet mariadb-server mariadb perl tcl expect gcc cvs rcs httpd autoconf php-common php-gd php-pear php-pecl-memcache php-mysql php-xml mod_ssl MySQL-python[/code] Since we installed Apache we will want to change the firewall rules on our system to allow HTTP and (HTTPS if we want it) Allow HTTP: [code]firewall-cmd --permanent --zone=public --add-service=http[/code] Allow HTTPS: [code]firewall-cmd --permanent --zone=public --add-service=https[/code] Reload the Firewall to save changes [code]firewall-cmd --reload[/code] Enable the Apache service to start on bootup and let&#39;s start it up for the first time. [code]systemctl enable httpd.service systemctl start httpd.service[/code] After you enable Apache you should see a sample webpage from Apache when you browse to your server&#39;s IP address with a browser. We now need to add a group for the rancid user. [code]groupadd netadm[/code] Next we will create a user called rancid and put this user under the group we just created which is netadm. We will also put in the home directory for this rancid user. [code]useradd -g netadm -c &amp;quot;Networking Backups&amp;quot; -d /home/rancid rancid[/code] Let&#39;s be a little organized and create a directory to put all of our installation files. Once created let&#39;s change directories to that tar folder we just created. [code]mkdir /home/rancid/tar[/code] Move to the tar folder [code]cd /home/rancid/tar/[/code] We will download the latest version of Rancid which at the time of this writing is 3.1 (3-1-16) UPDATE: Current version is 3.4.1 I updated the download paths below, :) [code]wget &lt;a href=&#34;ftp://ftp.shrubbery.net/pub/rancid/rancid-3.4.1.tar.gz&#34;&gt;ftp://ftp.shrubbery.net/pub/rancid/rancid-3.4.1.tar.gz&lt;/a&gt;[/code] Extract the tar ball we just downloaded: [code]tar -zxvf rancid-3.4.1.tar.gz[/code] Move into the rancid-3.1 folder: [code]cd rancid-3.4.1[/code] Run/type in the following followed by enter. This get&#39;s Rancid ready for install. [code]./configure --prefix=/usr/local/rancid[/code] After all of the output clears run the install. [code]make install[/code] Now let&#39;s copy and modify some permissions [code]cp cloginrc.sample /home/rancid/.cloginrc chmod 0640 /home/rancid/.cloginrc chown -R rancid:netadm /home/rancid/.cloginrc chown -R rancid:netadm /usr/local/rancid/ chmod 775 /usr/local/rancid/[/code] We have to edit the rancid configuration file and put our devices in groups. Find &amp;quot;list of rancid groups&amp;quot; and uncomment it. Type in the groups you would like, for example (Routers Switches) [code]nano /usr/local/rancid/etc/rancid.conf ... # list of rancid groups LIST_OF_GROUPS=&amp;quot;Routers Switches&amp;quot; # more groups... #LIST_OF_GROUPS=&amp;quot;$LIST_OF_GROUPS noc billybobisp&amp;quot; # ... [/code] Switch to the Rancid user account [code]su -rancid[/code] Run the following, this creates a CVS Repository with the groups you just entered in the List of Groups. [code]/usr/local/rancid/bin/rancid-cvs No conflicts created by this import cvs checkout: Updating Routers Directory /usr/local/rancid/var/CVS/Routers/configs added to the repository cvs commit: Examining configs cvs add: scheduling file `router.db&#39; for addition cvs add: use &#39;cvs commit&#39; to add this file permanently RCS file: /usr/local/rancid/var/CVS/Routers/router.db,v done Checking in router.db; /usr/local/rancid/var/CVS/Routers/router.db,v -- router.db initial revision: 1.1 done No conflicts created by this import cvs checkout: Updating Switches Directory /usr/local/rancid/var/CVS/Switches/configs added to the repository cvs commit: Examining configs cvs add: scheduling file `router.db&#39; for addition cvs add: use &#39;cvs commit&#39; to add this file permanently RCS file: /usr/local/rancid/var/CVS/Switches/router.db,v done Checking in router.db; /usr/local/rancid/var/CVS/Switches/router.db,v -- router.db initial revision: 1.1 done [rancid@rancid ~]$[/code] After the command runs logout of Rancid user and go back to root. Move back to TAR folder. [code]cd /home/rancid/tar/[/code] Next we will want to download ViewVC and as of this writing the latest the version is 1.1.23. (3-1-16) UPDATE: Current Version of ViewVC is 1.1.24, I updated the paths below, :) [code]wget &lt;a href=&#34;http://viewvc.tigris.org/files/documents/3330/49471/viewvc-1.1.24.tar.gz&#34;&gt;http://viewvc.tigris.org/files/documents/3330/49471/viewvc-1.1.24.tar.gz&lt;/a&gt;[/code] Extract the tarball [code]tar -zxvf viewvc-1.1.24.tar.gz[/code] Move to the ViewVC folder and run the installer, accept the defaults. [code]cd viewvc-1.1.24 ./viewvc-install[/code] We now need to modify the ViewVC configuration file, basically telling ViewVC where the CVS repo is. [code]nano /usr/local/viewvc-1.1.24/viewvc.conf[/code] Find the following and edit as shown below: [code]... ## Example: ## cvs_roots = cvsroot: /opt/cvs/repos1, ## anotherroot: /usr/local/cvs/repos2 ## #cvs_roots = cvs: ## svn_roots: Specifies each of the Subversion roots (repositories) on ## your system and assigns names to them. Each root should be given by ... ## Example: ## root_parents = /opt/svn: svn, ## /opt/cvs: cvs ## root_parents = /usr/local/rancid/var/CVS : cvs ## default_root: This is the name of the default root. Valid names ... ## Example: ## rcs_dir = /usr/bin/ ## rcs_dir = /usr/local/bin ## cvsnt: Location of cvsnt program. ViewVC can use CVSNT (&lt;a href=&#34;http://www.cvsnt.org&#34;&gt;www.cvsnt.org&lt;/a&gt;) ... ## use_rcsparse: Use the rcsparse Python module to retrieve CVS ## repository information instead of invoking rcs utilities [EXPERIMENTAL] ## use_rcsparse = 1 ...[/code] We need to copy some files and change permissions for ViewVC. [code]cp /usr/local/viewvc-1.1.24/bin/cgi/*.cgi /var/www/cgi-bin chmod +x /var/www/cgi-bin/*.cgi chown apache:apache /var/www/cgi-bin/*.cgi[/code] For this example we will use HTTP for ViewVC, although you could use HTTPS just have to modify the Apache (HTTPD file) [code]nano /etc/httpd/conf/httpd.conf[/code] I put the following at the bottom of the HTTPD file [code]# Custom Rancid Config &amp;lt;VirtualHost *:80&amp;gt; DocumentRoot /var/www ScriptAlias /cgi-bin/ &amp;quot;/var/www/cgi-bin&amp;quot; ScriptAlias /viewvc /var/www/cgi-bin/viewvc.cgi ScriptAlias /query /var/www/cgi-bin/query.cgi &amp;lt;Directory &amp;quot;/var/www/cgi-bin&amp;quot;&amp;gt; AllowOverride None Options None Order allow,deny Allow from all &lt;/Directory&gt; &lt;/VirtualHost&gt; [/code] We are almost done, we now need to turn on Mariadb which ViewVC uses, and start up the secure installation. (Accept all defaults and type in a root password for MariaDB. [code]systemctl enable mariadb systemctl start mariadb sudo mysql_secure_installation[/code] Go back into MariaDB and create a ViewVC user and use the password you just created. [code]mysql -u root -p[/code] Enter the following: (Replace YourPassowrdHere with something else) [code]CREATE USER &#39;VIEWVC&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;YourPasswordHere&#39;; GRANT ALL PRIVILEGES ON *.* TO &#39;VIEWVC&#39;@&#39;localhost&#39; WITH GRANT OPTION; FLUSH PRIVILEGES; quit [/code] Make the ViewVC Database with the username and password you just created. (Accept the defaults) [code]/usr/local/viewvc-1.1.24/bin/make-database MySQL Hostname (leave blank for default): MySQL Port (leave blank for default): MySQL User: VIEWVC MySQL Password: YourPasswordHere ViewVC Database Name [default: ViewVC]: Database created successfully. Don&#39;t forget to configure the [cvsdb] section of your viewvc.conf file.[/code] Go back to MariaDB (MySQL) with the root password [code]mysql -u root -p[/code] Create a Read-Only account for ViewVC on the MySQL database. (Replace YourROPassowrdHere with something else) [code]CREATE USER &#39;VIEWVCRO&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;YourROPasswordHere&#39;; GRANT SELECT ON ViewVC.* TO &#39;VIEWVCRO&#39;@&#39;localhost&#39; WITH GRANT OPTION; FLUSH PRIVILEGES; quit [/code] We now need to configure the ViewVC configuration file with the user names and passwords to that we created in MySQL. [code]nano /usr/local/viewvc-1.1.24/viewvc.conf[/code] Find cvsdb and change it to something like this: [code]##--------------------------------------------------------------------------- [cvsdb] ## enabled: Enable database integration feature. ## enabled = 1 ## host: Database hostname. Leave unset to use a local Unix socket ## connection. ## host = localhost ## post: Database listening port. ## port = 3306 ## database_name: ViewVC database name. ## database_name = ViewVC ## user: Username of user with read/write privileges to the database ## specified by the &#39;database_name&#39; configuration option. ## user = VIEWVC ## passwd: Password of user with read/write privileges to the database ## specified by the &#39;database_name&#39; configuration option. ## passwd = YourPasswordHere ## readonly_user: Username of user with read privileges to the database ## specified by the &#39;database_name&#39; configuration option. ## readonly_user = VIEWVCRO ## readonly_passwd: Password of user with read privileges to the database ## specified by the &#39;database_name&#39; configuration option. ## readonly_passwd = YourROPasswordHere [/code] Run the following command to build the Database. [code]/usr/local/viewvc-1.1.24/bin/cvsdbadmin rebuild /usr/local/rancid/var/CVS/CVSROOT/[/code] Reboot the server once online you should be able view the Repository at http://rancid-servicer-ip/viewvc [caption id=&amp;quot;attachment_3180&amp;quot; align=&amp;quot;aligncenter&amp;quot; width=&amp;quot;659&amp;quot;]&lt;a href=&#34;https://systemstechblog.files.wordpress.com/2015/01/rancid-viewvc.png&#34;&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2015/01/rancid-viewvc.png&#34; alt=&#34;Screenshot of ViewVC using Rancid&#34;&gt;&lt;/a&gt; Screenshot of ViewVC using Rancid[/caption] If you see the groups that we created we looking good so far. To finish this installation off we need to setup Rancid to send emails. Usually you have to add the Rancid to the allowed senders list on your email infrastructure. Rancid uses aliases to send emails we need to edit the aliases file. [code]nano /etc/aliases[/code] Depending on your infrastructure you might have different teams of people for different equipment that rancid is monitoring. Or you are running one-man-shop either way you can specify. In this example I&#39;m using only one email address and created a new aliases called Rancid all of this is at the bottom of the aliases file. [code]# Custom Rancid Configuration (Put an Email Here) rancid: &lt;a href=&#34;mailto:emailaddress@goeshere.com&#34;&gt;emailaddress@goeshere.com&lt;/a&gt; # Custom Rancid Configuration rancid-admin-Routers: rancid rancid-Routers: rancid rancid-admin-Switches: rancid rancid-Switches: rancid [/code] Depending on what you created in your List of Groups in the rancid configuration file you might have more or less. (In this example we just created Routers and Switches) We must specify these in the aliases file otherwise Rancid wont send emails for these groups. Once we are done editing you want to let our Rancid box know about the new aliases we just created. Type in the following command to update. [code]newaliases[/code] In this example postfix is already installed so we just need to edit the postfix configuration file. [code]nano /etc/postfix/main.cf[/code] Find and uncomment &amp;quot;relayhost&amp;quot; and type either the domain name (if you have MX records) the FQDN or IP address of your email system. [code]relayhost = mycompanydomain.com relayhost = email.mycompanydomain.com #relayhost = [mailserver.isp.tld] #relayhost = uucphost #relayhost = [an.ip.add.ress] [/code] Start up posfix and enable it on boot [code]systemctl start postfix systemctl enable postfix[/code] Finished! We have just installed Rancid along with made some helpful tweaks like getting an upfront web page to view the configurations instead of CLI as well as setting up Rancid to email us if anything changes or if there are issues with connecting to any equipment. I&#39;ll put the brakes here and in the next post we will go over how to customize rancid to log into devices and grab configurations. I hope this install guide is helpful and let me know if you have any questions. Enjoy New Year! :) If you can&#39;t wait for me then you can check Shrubbery at &lt;a href=&#34;http://www.shrubbery.net/rancid/&#34;&gt;http://www.shrubbery.net/rancid/&lt;/a&gt; Read the README file once you download Rancid. You can also check threads from Rancid Discussions at &lt;a href=&#34;http://www.gossamer-threads.com/lists/rancid/&#34;&gt;www.gossamer-threads.com/lists/rancid/&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;comments&#34;&gt;Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;%22bszweda@gmail.com%22&#34;&gt;Brad S&lt;/a&gt; - &lt;time datetime=&#34;2015-07-29 08:08:39&#34;&gt;Jul 3, 2015&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;This was a great how to and saved me a lot of time! Thank you&lt;/p&gt;
&lt;hr /&gt;
#### 
[night-fury]( &#34;sunnymanya@yahoo.com&#34;) - &lt;time datetime=&#34;2016-01-23 07:27:40&#34;&gt;Jan 6, 2016&lt;/time&gt;
&lt;p&gt;hey Ryan, thanks for getting back on this. I do have similar logs: [root@host-192-168-10-161 log]# tail -n 9 maillog Jan 22 14:18:54 localhost postfix/postfix-script[1690]: starting the Postfix mail system Jan 22 14:18:54 localhost postfix/master[1716]: daemon started -- version 2.10.1, configuration /etc/postfix Jan 23 10:33:17 localhost postfix/postfix-script[1787]: starting the Postfix mail system Jan 23 10:33:17 localhost postfix/master[1811]: daemon started -- version 2.10.1, configuration /etc/postfix Jan 23 17:33:17 localhost postfix/pickup[21220]: DEC68243416E: uid=0 from= Jan 23 17:33:17 localhost postfix/cleanup[22244]: DEC68243416E: message-id=&lt;a href=&#34;mailto:20160123120317.DEC68243416E@host-192-168-10-161.localdomain&#34;&gt;20160123120317.DEC68243416E@host-192-168-10-161.localdomain&lt;/a&gt; Jan 23 17:33:17 localhost postfix/qmgr[1821]: DEC68243416E: from=&lt;a href=&#34;mailto:root@host-192-168-10-161.localdomain&#34;&gt;root@host-192-168-10-161.localdomain&lt;/a&gt;, size=47328, nrcpt=1 (queue active) Jan 23 17:33:18 localhost postfix/smtp[22246]: DEC68243416E: to=&lt;a href=&#34;mailto:my.email@my.domain.com&#34;&gt;my.email@my.domain.com&lt;/a&gt;, relay=10.20.30.40[10.20.30.40]:25, delay=0.95, delays=0.06/0.14/0.01/0.74, dsn=2.6.0, status=sent (250 2.6.0 &lt;a href=&#34;mailto:20160123120317.DEC68243416E@host-192-168-10-161.localdomain&#34;&gt;20160123120317.DEC68243416E@host-192-168-10-161.localdomain&lt;/a&gt; [InternalId=53596896886795, Hostname=MAIL.SERVER.FQDN] Queued mail for delivery) Jan 23 17:33:18 localhost postfix/qmgr[1821]: DEC68243416E: removed that means my mail server is messing with the emails. any pointer on what is to be changes in mail system? My mail logs, however, do not show anywhere that the mail is being sent to &lt;a href=&#34;mailto:rancid-Switches@rancid.example.com&#34;&gt;rancid-Switches@rancid.example.com&lt;/a&gt; etc. You think its a problem? -thanks night-fury&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-05-28 20:13:15&#34;&gt;May 4, 2015&lt;/time&gt;
&lt;p&gt;No Problem :)&lt;/p&gt;
&lt;hr /&gt;
#### 
[erheqrheqhq]( &#34;sddgdfgbd@wgferg.nl&#34;) - &lt;time datetime=&#34;2015-03-06 06:04:21&#34;&gt;Mar 5, 2015&lt;/time&gt;
&lt;p&gt;Question, does it work for you without the Expect patch? You have no hangs like mentioned in &lt;a href=&#34;http://www.shrubbery.net/rancid/EXPECTBUG&#34;&gt;http://www.shrubbery.net/rancid/EXPECTBUG&lt;/a&gt; ?&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ben](http://chronicgeekage.blogspot.com/ &#34;bhart@unifiedbrands.net&#34;) - &lt;time datetime=&#34;2015-05-06 14:21:58&#34;&gt;May 3, 2015&lt;/time&gt;
&lt;p&gt;First off thanks so much for the detail you put into these instructions. I am hoping though, you might be able to help with an error I&#39;m getting. I went through your list without incident until the first reboot and attempting to browse to rancid-ip/viewvc which returns a traceback error. &lt;code&gt;Python Traceback Traceback (most recent call last): File &amp;quot;/usr/local/viewvc-1.1.23/lib/viewvc.py&amp;quot;, line 4848, in main request.run_viewvc() File &amp;quot;/usr/local/viewvc-1.1.23/lib/viewvc.py&amp;quot;, line 402, in run_viewvc self.view_func(self) File &amp;quot;/usr/local/viewvc-1.1.23/lib/viewvc.py&amp;quot;, line 2202, in view_roots allroots = list_roots(request) File &amp;quot;/usr/local/viewvc-1.1.23/lib/viewvc.py&amp;quot;, line 4698, in list_roots cfg.utilities, cfg.options.use_rcsparse) File &amp;quot;/usr/local/viewvc-1.1.23/lib/vclib/ccvs/**init**.py&amp;quot;, line 56, in CVSRepository rootpath = canonicalize_rootpath(rootpath) File &amp;quot;/usr/local/viewvc-1.1.23/lib/vclib/ccvs/**init**.py&amp;quot;, line 17, in canonicalize_rootpath assert os.path.isabs(rootpath) AssertionError&lt;/code&gt; I&#39;ve tried googling and found only one forum poster with an identical error.. he says that he resolved his by modifying &#39;rcs_dir = /usr/local/bin&#39; to &#39;rcs_dir = /usr/bin&#39; Which I did after LS&#39;ing and finding out that /usr/local/bin was empty. However after another reboot the error persists. Any ideas would be awesome.. this is my second attempt at a successful config and I&#39;m getting frustrated. Thanks!&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ben](http://chronicgeekage.blogspot.com/ &#34;bhart@unifiedbrands.net&#34;) - &lt;time datetime=&#34;2015-05-07 06:14:56&#34;&gt;May 4, 2015&lt;/time&gt;
&lt;p&gt;Thanks Ryan.. Actually what I wound up doing was deleting the vhd and starting over from scratch with your page. I actually have it all working save one thing.. Rancid actually creating the config files. My boss is pushing DR and I won;t have a whole lot of time left in the near future to work on this so thats why I decided to start all over. But yeah I can run clogin x.x.x.x and end up with a responsive ssh prompt to that switch. But rancid-run generates nothing at all, even an empty log file.&lt;/p&gt;
&lt;hr /&gt;
#### 
[mlf]( &#34;melafo@gmail.com&#34;) - &lt;time datetime=&#34;2015-05-26 08:01:20&#34;&gt;May 2, 2015&lt;/time&gt;
&lt;p&gt;It just worked with RHEL 6.5. After many attempts with other guides this one was just amazing. Thanks Ryan.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Adam]( &#34;abrigham@hmsg.co.uk&#34;) - &lt;time datetime=&#34;2016-02-02 09:23:14&#34;&gt;Feb 2, 2016&lt;/time&gt;
&lt;p&gt;This is my error below. root@hmsgrancid viewvc-1.1.23]# /usr/local/viewvc-1.1.23/bin/cvsdbadmin rebuild /usr/local/rancid/var/CVS/CVSROOT/ Using repository root `/usr/local/rancid/var/CVS&#39; Traceback (most recent call last): File &amp;quot;/usr/local/viewvc-1.1.23/bin/cvsdbadmin&amp;quot;, line 175, in db = cvsdb.ConnectDatabase(cfg) File &amp;quot;/usr/local/viewvc-1.1.23/lib/cvsdb.py&amp;quot;, line 904, in ConnectDatabase db.Connect() File &amp;quot;/usr/local/viewvc-1.1.23/lib/cvsdb.py&amp;quot;, line 59, in Connect table_list = self.GetTableList() File &amp;quot;/usr/local/viewvc-1.1.23/lib/cvsdb.py&amp;quot;, line 177, in GetTableList cursor.execute(sql) File &amp;quot;/usr/lib64/python2.7/site-packages/MySQLdb/cursors.py&amp;quot;, line 174, in execute self.errorhandler(self, exc, value) File &amp;quot;/usr/lib64/python2.7/site-packages/MySQLdb/connections.py&amp;quot;, line 36, in defaulterrorhandler raise errorclass, errorvalue _mysql_exceptions.OperationalError: (1046, &#39;No database selected&#39;) This is the viewvc.config file ##--------------------------------------------------------------------------- ## Configuration file for ViewVC ## Information on ViewVC is located at the following web site: &lt;a href=&#34;http://viewvc.org/&#34;&gt;http://viewvc.org/&lt;/a&gt; ## ##--------------------------------------------------------------------------- THE FORMAT OF THIS CONFIGURATION FILE ## This file is delineated by sections, specified in [brackets]. Within each section, are a number of configuration settings. These settings take the form of: name = value. Values may be continued on the following line by indenting the continued line. ## WARNING: Indentation &lt;em&gt;always&lt;/em&gt; means continuation. Name=value lines should always start in column zero. ## Comments should always start in column zero, and are identified with &amp;quot;#&amp;quot;. By default each of the configuration items is commented out, with the default value of the option shown. You&#39;ll need to remove the &#39;#&#39; that precedes configuration options whose values you wish to modify. ## Certain configuration settings may have multiple values. These should be separated by a comma. The settings where this is allowed are noted below. Any other setting that requires special syntax is noted at that setting. ## SOME TERMINOLOGY USED HEREIN ## &amp;quot;root&amp;quot; - This is a CVS or Subversion repository. For Subversion, the meaning is pretty clear, as the virtual, versioned directory tree stored inside a Subversion repository looks nothing like the actual tree visible with shell utilities that holds the repository. For CVS, this is more confusing, because CVS&#39;s repository layout mimics (actually, defines) the layout of the stuff housed in the repository. But a CVS repository can be identified by the presence of a CVSROOT subdirectory in its root directory. ## &amp;quot;module&amp;quot; - A module is a top-level subdirectory of a root, usually associated with the concept of a single &amp;quot;project&amp;quot; among many housed within a single repository. ## ## BASIC VIEWVC CONFIGURATION HINTS ## While ViewVC has quite a few configuration options, you generally only need to change a small subset of them to get your ViewVC installation working properly. Here are some options that we recommend you pay attention to. Of course, don&#39;t try to change the options here -- do so in the relevant section of the configuration file below. For correct operation, you will probably need to change the following configuration variables: cvs_roots (for CVS) svn_roots (for Subversion) root_parents (for CVS or Subversion) default_root root_as_url_component rcs_dir mime_types_files the many options in the [utilities] section It is usually desirable to change the following variables: address forbidden To optimize delivery of ViewVC static files: docroot To customize the display of ViewVC for your site: template_dir the [templates] override section ## ##--------------------------------------------------------------------------- [general] cvs_roots: Specifies each of the CVS roots on your system and assigns names to them. Each root should be given by a &amp;quot;name: path&amp;quot; value (where the path is an absolute filesystem path). Multiple roots should be separated by commas and can be placed on separate lines. ## Example: cvs_roots = cvsroot: /opt/cvs/repos1, anotherroot: /usr/local/cvs/repos2 ## #cvs_roots = cvs: svn_roots: Specifies each of the Subversion roots (repositories) on your system and assigns names to them. Each root should be given by a &amp;quot;name: path&amp;quot; value (where the path is an absolute filesystem path). Multiple roots should be separated by commas and can be placed on separate lines. ## NOTE: ViewVC offers &lt;em&gt;experimental&lt;/em&gt; support for displaying remote Subversion repositories. Simply use the repository&#39;s URL instead of a local filesystem path when defining the root. ## Example: svn_roots = svnrepos: /opt/svn/, anotherrepos: /usr/local/svn/repos2 ## #svn_roots = root_parents: Specifies a list of directories under which any number of repositories may reside. You can specify multiple root parents separated by commas or new lines, each of which is of the form &amp;quot;path: type&amp;quot; (where the type is either &amp;quot;cvs&amp;quot; or &amp;quot;svn&amp;quot;, and the path is an absolute filesystem path). ## Rather than force you to add a new entry to &#39;cvs_roots&#39; or &#39;svn_roots&#39; each time you create a new repository, ViewVC rewards you for organizing all your repositories under a few parent directories by allowing you to simply tell it about those parent directories. ViewVC will then notice each repository of the specified type in that directory as a root whose name is the subdirectory in which that repository lives. ## For example, if you have three Subversion repositories located at /opt/svn/projects, /opt/svn/websites, and /opt/svn/devstuff, you could list them individually in svn_roots like so: ## svn_roots = projects: /opt/svn/projects, websites: /opt/svn/websites, devstuff: /opt/svn/devstuff ## or you could instead use the root_parents configuration option: ## root_parents = /opt/svn: svn ## The benefit of this latter approach is that, as you add new repositories to your /opt/svn directory, they automatically become available for display in ViewVC without additional configuration. ## WARNING: the root names derived for repositories configured via the root_parents option can, of course, clash with names you have defined in your cvs_roots or svn_roots configuration items. If this occurs, you can either rename the offending repository on disk, or grant new names to the clashing item in cvs_roots or svn_roots. Each parent path is processed sequentially, so the names of repositories under later parent paths may override earlier ones. ## Example: root_parents = /opt/svn: svn, /opt/cvs: cvs ## #root_parents = /usr/local/rancid/var/CVS : cvs default_root: This is the name of the default root. Valid names include those explicitly listed in the cvs_roots and svn_roots configuration options, as well as those implicitly indicated by virtue of being the basenames of repositories found in the root_parents option locations. ## NOTE: This setting is ignored when root_as_url_component is enabled. ## Example: default_root = cvsroot ## #default_root = mime_types_files: This is a list of pathnames to a set of MIME type mapping files to help ViewVC guess the correct MIME type of a versioned file. The pathnames listed here are specified in order of authoritativeness either as absolute paths or relative to this configuration file. ## As a convenience, ViewVC provides a MIME type mapping file (mimetypes.conf) which is, by default, the preferred provider of MIME type mapping answers, but which is also empty. If you find that ViewVC is unable to accurately guess MIME types based on the extensions of some of your versioned files, you can add records of your preferred mappings to the provided mimetypes.conf file (or to your system&#39;s mapping files, if you wish). ## You might, for example, wish to have ViewVC also consult the mapping files provided by your operating system and Apache. ## Example: mime_types_files = mimetypes.conf, /etc/mime.types, /usr/local/apache2/conf/mime.types ## #mime_types_files = mimetypes.conf address: The address of the local repository maintainer. (This option is provided only as a convenience for ViewVC installations which are using the default template set, where the value of this option will be displayed in the footer of every ViewVC page.) ## Example: address = &lt;a href=&#34;mailto:admin@server.com&#34;&gt;admin@server.com&lt;/a&gt; ## #address = kv_files: Provides a mechanism for custom key/value pairs to be available to templates. These are stored in key/value (KV) files. ## The paths of the KV files are listed here, specified either as absolute paths or relative to this configuration file. The files use the same format as this configuration file, containing one or more user-defined sections, and user-defined options in those sections. ViewVC makes these options available to template authors as: ## kv.SECTION.OPTION ## Note that an option name can be dotted. For example: ## [my_images] logos.small = /images/small-logo.png logos.big = /images/big-logo.png ## Templates can use these with a directive like: [kv.my_images.logos.small] ## Note that section names which are common to multiple KV files will be merged. If two files have a [my_images] section, then the options in those two like-named sections will be merged together. If two files have the same option name in a section, then one will overwrite the other (and which one &amp;quot;wins&amp;quot; is unspecified). ## To further categorize the KV files, and how the values are provided to the templates, a KV file name may be annotated with an additional level of dotted naming. For example: ## kv_files = [asf]kv/images.conf ## Assuming the same section as above, the template would refer to an image using [kv.asf.my_images.logos.small] ## Lastly, it is possible to use %lang% in the filenames to specify a substitution of the selected language-tag. ## Example: kv_files = kv/file1.conf, kv/file2.conf, [i18n]kv/%lang%_data.conf ## #kv_files = This option is a comma-separated list of language-tag values available to ViewVC. The first language-tag listed is the default language, and will be used if an Accept-Language header is not present in the request, or none of the user&#39;s requested languages are available. If there are ties on the selection of a language, then the first to appear in the list is chosen. ## Example: languages = en-us, en-gb, de ## #languages = en-us ##--------------------------------------------------------------------------- [utilities] ViewVC uses (sometimes optionally) various third-party programs to do some of the heavy lifting. Generally, it will attempt to execute those utility programs in such a way that if they are found in ViewVC&#39;s executable search path ($PATH, %PATH%, etc.) all is well. But sometimes these tools aren&#39;t installed in the executable search path, so here&#39;s where you can tell ViewVC where to find them. ## NOTE: Options with a &amp;quot;_dir&amp;quot; suffix are for configuring the directories in which certain programs live. Note that this might not be the same directory into which the program&#39;s installer dumped the whole program package -- we want the deepest directory in which the executable program itself resides (&amp;quot;C:\rcstools\bin\win32&amp;quot; rather than just &amp;quot;C:\rcstools&amp;quot;, for example). The values of options whose names lack the &amp;quot;_dir&amp;quot; suffix should point to the actual program itself (such as &amp;quot;C:\Program Files\cvsnt\cvs.exe&amp;quot;). rcs_dir: Directory in which the RCS utilities are installed, used for viewing CVS repositories. ## Example: rcs_dir = /usr/bin/ ## #rcs_dir = /usr/local/bin cvsnt: Location of cvsnt program. ViewVC can use CVSNT (&lt;a href=&#34;http://www.cvsnt.org&#34;&gt;www.cvsnt.org&lt;/a&gt;) instead of the RCS utilities to retrieve information from CVS repositories. To enable use of CVSNT, set the &amp;quot;cvsnt&amp;quot; value to the path of the CVSNT executable. (If CVSNT is on the standard path, you can also set it to the name of the CVSNT executable). By default &amp;quot;cvsnt&amp;quot; is set to &amp;quot;cvs&amp;quot; on Windows and is not set on other platforms. ## Examples: cvsnt = K:\Program Files\cvsnt\cvs.exe cvsnt = /usr/bin/cvs cvsnt = cvs ## #cvsnt = svn: Location of the Subversion command-line client, used for viewing Subversion repositories. ## Example: svn = /usr/bin/svn ## #svn = diff: Location of the GNU diff program, used for showing file version differences. ## Example: diff = /usr/bin/diff ## #diff = cvsgraph: Location of the CvsGraph program, a graphical CVS version graph generator (see options.use_cvsgraph). ## Example: cvsgraph = /usr/local/bin/cvsgraph ## #cvsgraph = ##--------------------------------------------------------------------------- [options] root_as_url_component: Interpret the first path component in the URL after the script location as the root to use. This is an alternative to using the &amp;quot;root=&amp;quot; query key. If ViewVC is configured with multiple repositories, this results in more natural looking ViewVC URLs. ## NOTE: Enabling this option will break backwards compatibility with any old ViewCVS URL which doesn&#39;t have an explicit &amp;quot;root&amp;quot; parameter. ## #root_as_url_component = 1 checkout_magic: Use checkout links with magic /&lt;em&gt;checkout&lt;/em&gt;/ prefixes so checked out HTML pages can have working links to other repository files ## NOTE: This option is DEPRECATED and should not be used in new ViewVC installations. Setting &amp;quot;default_file_view = co&amp;quot; achieves the same effect ## #checkout_magic = 0 allowed_views: List the ViewVC views which are enabled. Views not in this comma-delited list will not be served (or, will return an error on attempted access). ## Valid items for this list include: &amp;quot;annotate&amp;quot;, &amp;quot;co&amp;quot;, &amp;quot;diff&amp;quot;, &amp;quot;markup&amp;quot;, &amp;quot;roots&amp;quot;, &amp;quot;tar&amp;quot;. ## ----------+--------------------------------------------------------- VIEW | DESCRIPTION ----------+--------------------------------------------------------- annotate | The &#39;annotate&#39; view shows the contents of a single | revision of a versioned file in exactly the same way as | the markup view, but with additional line-by-line | change attribution (the revision number, author, etc. | the most recent edit to that line of text as of the | displayed version). ----------+--------------------------------------------------------- co | The &#39;co&#39; (aka &amp;quot;checkout&amp;quot; or &amp;quot;download&amp;quot;) view isn&#39;t | really a branded view at all, but allows for direct | downloading of the contents of a single revision of a | versioned file. ----------+--------------------------------------------------------- diff | The &#39;diff&#39; view displays line-based differences between | two revisions of a versioned file in a variety of | different user-selectable formats. ----------+--------------------------------------------------------- markup | The &#39;markup&#39; view shows the contents of a single | revision of a versioned file, with syntax highlighting | where possible and enabled. It can also optionally | show change log information for that revision of the | file. ----------+--------------------------------------------------------- roots | The &#39;roots&#39; view is a simple listing of the various | repositories which ViewVC has been configured to serve | to users. ----------+--------------------------------------------------------- tar | The &#39;tar&#39; view isn&#39;t a branded view, but generates | a GNU Tar archive file containing a single versioned | directory and its contents (recursively). ----------+--------------------------------------------------------- ## #allowed_views = annotate, diff, markup, roots Comma-delimited list of MIME content types (with support for fnmatch- style glob characters) which are considered not-human-readable and for which ViewVC will neither generate links to, nor support the direct display of, non-checkout views which carry the file&#39;s content (the &#39;markup&#39;, &#39;annotate&#39;, &#39;diff&#39;, and &#39;patch&#39; views). ## NOTE: Handling of this option is given priority over ViewVC&#39;s longstanding support for showing web-friendly file formats -- even binary ones such as &amp;quot;image/jpeg&amp;quot; and &amp;quot;image/gif&amp;quot; -- in the &#39;markup&#39; view. Thus, if you add &amp;quot;image/*&amp;quot; to this list, &#39;markup&#39;-view display of JPEG, GIF, and PNG images will be disabled. ## Example: binary_mime_types = application/octet-stream, image/*, application/pdf, application/vnd*, application/msword, audio/* # #binary_mime_types = authorizer: The name of the ViewVC authorizer plugin to use when authorizing access to repository contents. This value must be the name of a Python module addressable as vcauth.MODULENAME (most easily accomplished by placing it in ViewVC&#39;s lib/vcauth/ directory) and which implements a ViewVCAuthorizer class (as a subclass of vcauth.GenericViewVCAuthorizer). You can provide custom parameters to the authorizer module by defining configuration sections named authz-MODULENAME and adding the parameter keys and values there. ## ViewVC provides the following modules: svnauthz - based on Subversion authz files forbidden - simple path glob matches against top-level root directories forbiddenre - root and path matches against regular expressions ## NOTE: Only one authorizer may be in use for a given ViewVC request. It doesn&#39;t matter if you configure the parameters of multiple authorizer plugins -- only the authorizer whose name is configured here (or effectively configured here via per-vhost or per-root configuration) will be activated. ## #authorizer = hide_cvsroot: Don&#39;t show the CVSROOT directory 1 Hide CVSROOT directory 0 Show CVSROOT directory ## NOTE: Someday this option may be removed in favor of letting individual authorizer plugin hide the CVSROOT. ## #hide_cvsroot = 1 mangle_email_addresses: Mangle email addresses in marked-up output. There are various levels of mangling available: 0 - No mangling; markup un-mangled email addresses as hyperlinks 1 - Obfuscation (using entity encoding); no hyperlinking 2 - Data-dropping address truncation; no hyperlinking ## NOTE: this will not effect the display of versioned file contents, only addresses that appear in version control metadata (e.g. log messages). ## #mangle_email_addresses = 0 custom_log_formatting: Specifies mappings of regular expressions to substitution format strings used to URL-ize strings found in revision log messages. Multiple mappings (specified as REGEXP:FORMATSTRING) may be defined, separated by commas. ## NOTE: Due to a limitation of the configuration format, commas may not be used in the regular expression portion of each mapping. Commas &amp;quot;in the raw&amp;quot; may not be used in the format string portion, either, but you can probably use the URI-encoded form of the comma (&amp;quot;%2C&amp;quot;) instead with no ill side-effects. If you must specify a colon character in either the regular expression or the format string, escape it with a preceding backslash (&amp;quot;:&amp;quot;). ## Example: custom_log_formatting = artf[0-9]+ : &lt;a href=&#34;http://example.com/tracker?id=&#34;&gt;http://example.com/tracker?id=&lt;/a&gt;\0, issue ([0-9]+) : &lt;a href=&#34;http://example.com/bug?id=&#34;&gt;http://example.com/bug?id=&lt;/a&gt;\1&amp;amp;opts=full%2csortby=id ## #custom_log_formatting = default_file_view: &amp;quot;log&amp;quot;, &amp;quot;co&amp;quot;, or &amp;quot;markup&amp;quot; Controls whether the default view for file URLs is a checkout view or a log view. &amp;quot;log&amp;quot; is the default for backwards compatibility with old ViewCVS URLs, but &amp;quot;co&amp;quot; has the advantage that it allows ViewVC to serve static HTML pages directly from a repository with working links to other repository files ## NOTE: Changing this option may break compatibility with existing bookmarked URLs. ## ALSO NOTE: If you choose one of the &amp;quot;co&amp;quot; or &amp;quot;markup&amp;quot; views, be sure to enable it (via the allowed_views option) ## #default_file_view = log http_expiration_time: Expiration time (in seconds) for cacheable pages served by ViewVC. Note that in most cases, a cache aware client will only revalidate the page after it expires (using the If-Modified-Since and/or If-None-Match headers) and that browsers will also revalidate the page when the reload button is pressed. Set to 0 to disable the transmission of these caching headers. ## #http_expiration_time = 600 generate_etags: Generate Etag headers for relevant pages to assist in browser caching. 1 Generate Etags 0 Don&#39;t generate Etags ## #generate_etags = 1 svn_ignore_mimetype: Don&#39;t consult the svn:mime-type property to determine how to display a file in the markup view. This is especially helpful when versioned images carry the default Subversion-calculated MIME type of &amp;quot;application/octet-stream&amp;quot; (which isn&#39;t recognized as viewable type by browsers). ## #svn_ignore_mimetype = 0 max_filesize_kbytes: Limit ViewVC&#39;s processing of file contents in &amp;quot;markup&amp;quot; and &amp;quot;annotate&amp;quot; views to only those files which are smaller than this setting, expressed in kilobytes. Set to 0 to disable this safeguard. ## NOTE: The &amp;quot;co&amp;quot; and &amp;quot;tar&amp;quot; views are unaffected by this setting. #max_filesize_kbytes = 512 svn_config_dir: Path of the Subversion runtime configuration directory ViewVC should consult for various things, including cached remote authentication credentials. If unset, Subversion will use the default location(s) ($HOME/.subversion, etc.) ## #svn_config_dir = use_rcsparse: Use the rcsparse Python module to retrieve CVS repository information instead of invoking rcs utilities [EXPERIMENTAL] ## #use_rcsparse = 1 sort_by: File sort order file Sort by filename rev Sort by revision number date Sort by commit date author Sort by author log Sort by log message ## #sort_by = file sort_group_dirs: Group directories when sorting 1 Group directories together 0 No grouping -- sort directories as any other item would be sorted ## #sort_group_dirs = 1 hide_attic: Hide or show the contents of the Attic subdirectory 1 Hide dead files inside Attic subdir 0 Show the files which are inside the Attic subdir ## #hide_attic = 1 hide_errorful_entries: Hide or show errorful directory entries (perhaps due to not being readable, or some other rlog parsing error, etc.) 1 Hide errorful entries from the directory display 0 Show errorful entries (with their errors) in the directory display ## #hide_errorful_entries = 0 log_sort: Sort order for log messages date Sort revisions by date rev Sort revision by revision number none Use the version control system&#39;s ordering ## #log_sort = date diff_format: Default diff format h Human readable u Unified diff c Context diff s Side by side l Long human readable (more context) f Full human readable (entire file) ## #diff_format = h hr_breakable: Diff view line breaks 1 lines break at spaces 0 no line breaking Or, use a positive integer &amp;gt; 1 to cut lines after that many characters ## #hr_breakable = 1 hr_funout: Give out function names in human readable diffs. (Only works well for C source files, otherwise diff&#39;s heuristic falls short.) (&#39;-p&#39; option to diff) ## #hr_funout = 1 hr_ignore_white: Ignore whitespace (indendation and stuff) for human readable diffs. (&#39;-w&#39; option to diff) ## #hr_ignore_white = 0 hr_ignore_keyword_subst: Ignore diffs which are caused by keyword substitution (such as &amp;quot;$Id - Stuff&amp;quot;). (&#39;-kk&#39; option to rcsdiff) ## #hr_ignore_keyword_subst = 1 hr_intraline: Enable highlighting of intraline changes in human readable diffs. [Requires Python 2.4] ## #hr_intraline = 0 allow_compress: Allow compression via gzip of output if the Browser accepts it (HTTP_ACCEPT_ENCODING contains &amp;quot;gzip&amp;quot;). ## NOTE: this relies on Python&#39;s gzip module, which has proven to be not-so-performant. Enabling this feature should reduce the overall transfer size of ViewVC&#39;s responses to the client&#39;s request, but will do so with a speed penalty. ## #allow_compress = 0 template_dir: The directory which contains the EZT templates used by ViewVC to customize the display of the various output views. ViewVC looks in this directory for files with names that match the name of the view (&amp;quot;log&amp;quot;, &amp;quot;directory&amp;quot;, etc.) plus the &amp;quot;.ezt&amp;quot; extension. If specified as a relative path, it is relative to the directory where this config file resides; absolute paths may be used as well. If %lang% occurs in the pathname, then the selected language will be substituted. SEE ALSO: the [templates] configuration section, where you can override templates on a per-view basis. ## #template_dir = templates docroot: Web path to a directory that contains ViewVC static files (stylesheets, images, etc.) If set, static files will get downloaded directory from this location. If unset, static files will be served by the ViewVC script (at a likely performance penalty, and from the &amp;quot;docroot&amp;quot; subdirectory of the directory specified by the &amp;quot;template_dir&amp;quot; option). ## NOTE: This option is evaluated outside the context of a particular root. Be careful when using per-root configuration to select an alternate template set as the default value for this option will still be based on the global default template set per &#39;template_dir&#39; above, not on &#39;template_dir&#39; as overridden for a given root. ## #docroot = show_subdir_lastmod: Show last changelog message for CVS subdirectories ## NOTE: The current implementation makes many assumptions and may show the incorrect file at some times. The main assumption is that the last modified file has the newest filedate. But some CVS operations touches the file without even when a new version is not checked in, and TAG based browsing essentially puts this out of order, unless the last checkin was on the same tag as you are viewing. Enable this if you like the feature, but don&#39;t rely on correct results. ## SECURITY WARNING: Enabling this will currently leak unauthorized path names. ## #show_subdir_lastmod = 0 show_roots_lastmod: In the root listing view, show the most recent modifications made to the root. (Subversion roots only.) ## NOTE: Enabling this feature will significantly reduce the performance of the root listing view. ## #show_roots_lastmod = 0 show_logs: Show the most recent log entry in directory listings. ## #show_logs = 1 show_log_in_markup: Show log when viewing file contents. ## #show_log_in_markup = 1 cross_copies: Cross filesystem copies when traversing Subversion file revision histories. ## #cross_copies = 1 use_localtime: Display dates as UTC or in local time zone. ## #use_localtime = 0 iso8601_dates: Display timestamps using a standard ISO-8601 format. ## #iso8601_timestamps = 0 short_log_len: The length (in characters) to which the most recent log entry should be truncated when shown in the directory view. ## #short_log_len = 80 enable_syntax_coloration: Should we colorize known file content syntaxes? ## NOTE: This feature requires the Pygments Python module (&lt;a href=&#34;http://pygments.org&#34;&gt;http://pygments.org&lt;/a&gt;) and works only when ViewVC can determine the MIME content type of the file whose contents it wishes to colorize. Use the &#39;mime_types_files&#39; configuration option to specify MIME type mapping files useful for making that determination. ## #enable_syntax_coloration = 1 tabsize: The number of spaces into which horizontal tab characters are converted when viewing file contents. Set to 0 to preserve tab characters. ## #tabsize = 8 detect_encoding: Should we attempt to detect versioned file character encodings? [Requires &#39;chardet&#39; module, and is currently used only for the &#39;markup&#39; and &#39;annotate&#39; views.] ## #detect_encoding = 0 use_cvsgraph: Use CvsGraph to offer visual graphs of CVS revision history. ## #use_cvsgraph = 0 cvsgraph_conf: Location of the customized cvsgraph configuration file. May be specified as an absolute path or as a path relative to this configuration file. ## #cvsgraph_conf = cvsgraph.conf use_re_search: Enable regular expression search of files in a directory. ## WARNING: Enabling this option can consume HUGE amounts of server time. A &amp;quot;checkout&amp;quot; must be performed on &lt;em&gt;each&lt;/em&gt; file in a directory, and the result needs to be searched for a match against the regular expression. ## SECURITY WARNING: Since a user can enter the regular expression, it is possible for them to enter an expression with many alternatives and a lot of backtracking. Executing that search over thousands of lines over dozens of files can easily tie up a server for a long period of time. This option should only be used on sites with trusted users. It is highly inadvisable to use this on a public site. ## #use_re_search = 0 dir_pagesize: Maximum number of directory entries on a given page. This allows ViewVC to present discrete pages to the users instead of the entire directory. Set to 0 to disable pagination. ## #dir_pagesize = 0 log_pagesize: Maximum number of revision log entries on a given page. This allows ViewVC to present discrete pages to the users instead of the entire revision log. Set to 0 to disable pagination. ## #log_pagesize = 0 log_pagesextra: Maximum number of extra pages (based on log_pagesize) of revision log data to fetch and present to the user as additional options for display. Revision log information &amp;quot;beyond&amp;quot; this window is still accessible, but must be navigated to in multiple steps. ## Example: log_pagesize = 100 log_pagesextra = 3 ## For a versioned file with 1000 revisions, the above settings would present to the user the first 100 of those 1000 revisions, with links to three additional pages (the 200-299th revisions, 300-399th revisions, and 400-499th revisions) plus a link to the 500th revision. Following these links slides the display &amp;quot;window&amp;quot;, showing the requested set of revisions plus links to three additional pages beyond those, and so on. ## #log_pagesextra = 3 limit_changes: Maximum number of changed paths shown per commit in the Subversion revision view and in query results. This is not a hard limit (the UI provides options to show all changed paths), but it prevents ViewVC from generating enormous and hard to read pages by default when they happen to contain import or merge commits affecting hundreds or thousands of files. Set to 0 to disable the limit. ## #limit_changes = 100 ##--------------------------------------------------------------------------- [templates] You can override the templates used by various ViewVC views in this section. By default, ViewVC will look for templates in the directory specified by the &amp;quot;template_dir&amp;quot; configuration option (see the documentation for that option for details). But if you want to use a different template for a particular view, simply uncomment the appropriate option below and specify the currect location of the EZT template file you wish to use for that view. Templates are specified relative to the configured template directory (see the &amp;quot;template_dir&amp;quot; option), but absolute paths may also be used as well. ## If %lang% occurs in the pathname, then the selected language will be substituted. ## NOTE: the selected language is defined by the &amp;quot;languages&amp;quot; item in the [general] section, and based on the request&#39;s Accept-Language header. ## diff: Template used for the file differences view. ## #diff = directory: Template used for the directory listing view. ## #directory = error: Template used for the ViewVC error display view. ## #error = file: Template used for the file contents/annotation view. ## #file = graph: Template used for the revision graph view. ## #graph = log: Template used for the revision log view. ## #log = query: Template used for the non-integrated query interface. ## #query = query_form: Template used for the query form view. ## #query_form = query_results: Template used for the query results view. ## #query_results = revision: Template used for the revision/changeset view. ## #revision = roots: Template used for the root listing view. ## #roots = ##--------------------------------------------------------------------------- [cvsdb] enabled: Enable database integration feature. ## #enabled = 1 host: Database hostname. Leave unset to use a local Unix socket connection. ## #host = localhost post: Database listening port. ## #port = 3306 database_name: ViewVC database name. ## #database_name = ViewVC user: Username of user with read/write privileges to the database specified by the &#39;database_name&#39; configuration option. ## #user = VIEWVC passwd: Password of user with read/write privileges to the database specified by the &#39;database_name&#39; configuration option. ## #passwd = gr33nback readonly_user: Username of user with read privileges to the database specified by the &#39;database_name&#39; configuration option. ## #readonly_user = VIEWVCRO readonly_passwd: Password of user with read privileges to the database specified by the &#39;database_name&#39; configuration option. ## #readonly_passwd = gr33nback row_limit: Maximum number of rows returned by a given normal query to the database. ## NOTE: This limits the amount of data provided to ViewVC by the database. It is from this already-reduced data set that ViewVC builds the query response it presents to the user, which may or may not include still more limiting via the query form&#39;s &#39;limit&#39; parameter. In other words, there is no value which the user can use in the query form&#39;s &#39;limit&#39; parameter which will cause more data to be returned by the database for ViewVC to process. ## #row_limit = 1000 rss_row_limit: Maximum number of rows returned by a given query to the database made as part of an RSS feed request. (Keeping in mind that RSS readers tend to poll regularly for new data, you might want to keep this set to a conservative number.) ## See also the `NOTE&#39; for the &#39;row_limit&#39; option, which applies here as well. ## #rss_row_limit = 100 check_database_for_root: Check if the repository is found in the database before showing the query link and RSS feeds. WARNING: Enabling this check adds the cost of a database connection and query to most ViewVC requests. If all your roots are represented in the commits database, or if you don&#39;t care about the creation of RSS and query links that might lead ultimately to error pages for certain of your roots, or if you simply don&#39;t want to add this extra cost to your ViewVC requests, leave this disabled. ## #check_database_for_root = 0 ##--------------------------------------------------------------------------- [vhosts] Virtual hosts are individual logical servers accessible via different hostnames, but which are all really the same physical computer. For example, you might have your web server configured to accept incoming traffic for both &lt;a href=&#34;http://www.yourdomain.com/&#34;&gt;http://www.yourdomain.com/&lt;/a&gt; and &lt;a href=&#34;http://viewvc.yourdomain.com/&#34;&gt;http://viewvc.yourdomain.com/&lt;/a&gt;. Users pointing their web browsers at each of those two URLs might see entirely different content via one URL versus the other, but all that content actually lives on the same computer, is served up via the same web server, and so on. It just &lt;em&gt;looks&lt;/em&gt; like its coming from multiple servers. ## ViewVC allows you to customize its configuration options for individual virtual hosts. You might, for example, wish to expose all of your Subversion repositories at &lt;a href=&#34;http://svn.yourdomain.com/viewvc/&#34;&gt;http://svn.yourdomain.com/viewvc/&lt;/a&gt; and all your CVS ones at &lt;a href=&#34;http://cvs.yourdomain.com/viewvc/,&#34;&gt;http://cvs.yourdomain.com/viewvc/,&lt;/a&gt; with no cross-exposure. Using ViewVC&#39;s virtual host (vhost) configuration support, you can do this. Simply create two vhost configurations (one for each of your hostnames), then configure the cvs_roots option only for the vhost associated with cvs.yourdomain.com, and configure the svn_roots option only for the vhost associated with svn.yourdomain.com. ## This section is a freeform configuration section, where you create both the option names and their values. The names of the options are then treated as canonical names of virtual hosts, and their values are defined to be comma-delimited lists of hostname globs against which incoming ViewVC requests will be matched to figure out which vhost they apply to. ## After you&#39;ve named and defined your vhosts, you may then create new configuration sections whose names are of the form vhost-VHOSTNAME/CONFIGSECTION. VHOSTNAME here is the canonical name of one of the virtual hosts you defined under the [vhosts] section. Inside those configuration sections, you override the standard ViewVC options typically found in the base configuration section named CONFIGSECTION (&amp;quot;general&amp;quot;, &amp;quot;option&amp;quot;, etc.) ## NOTE: Per-vhost overrides may only be applied to the following sections: ## general options utilities templates cvsdb authz-* ## Here is an example: ## [vhosts] libs = libs.yourdomain.*, &lt;em&gt;.yourlibs.&lt;/em&gt; gui = guiproject.yourdomain.* ## [vhost-libs/general] cvs_roots = svn_roots = svnroot: /var/svn/libs-repos default_root = svnroot ## [vhost-libs/options] show_logs = 1 ## [vhost-gui/general] cvs_roots = cvsroot: /var/cvs/guiproject svn_roots = default_root = cvsroot ## ##--------------------------------------------------------------------------- ViewVC recognizes per-root configuration overrides, too. To override the value of a configuration parameter only for a single root, create a configuration section whose names is of the form root-ROOTNAME/CONFIGSECTION. ROOTNAME here is the name of the root as defined explicitly in cvs_roots or svn_roots or implicitly as the basename of a root path in root_parents. Options found in this new configuration section override for this one root the corresponding options found in the base configuration section CONFIGSECTION (&amp;quot;options&amp;quot;, &amp;quot;authz-*&amp;quot;, etc.) as interpreted after per-vhost overrides (if any) have been applied. ## NOTE: Per-root overrides may only be applied to the following sections: ## options utilities authz-* ## WARNING: Do not use per-root overrides if your ViewVC instance is served via the standalone.py server option! Doing so could cause ViewVC to be unable to function properly (or at all). ## Here is an example showing how to enable Subversion authz-based authorization for only the single root named &amp;quot;svnroot&amp;quot;: [root-svnroot/options] authorizer = svnauthz ## [root-svnroot/authz-svnauthz] authzfile = /path/to/authzfile ## ##--------------------------------------------------------------------------- [authz-forbidden] The &amp;quot;forbidden&amp;quot; authorizer forbids access to repository modules, defined to be top-level subdirectories in a repository. ## NOTE: The options in this section apply only when the &#39;authorizer&#39; option (in the [options] section) is set to &#39;forbidden&#39;. forbidden: A comma-delimited list of patterns which match modules that ViewVC should hide from users. ## You can use a simple list of modules, or something more complex: ## *) The &amp;quot;!&amp;quot; can be used before a module to explicitly state that it is NOT forbidden. Whenever this form is seen, then all modules will be forbidden unless one of the &amp;quot;!&amp;quot; modules match. ## &lt;em&gt;) Shell-style &amp;quot;glob&amp;quot; expressions may be used. &amp;quot;&lt;/em&gt;&amp;quot; will match any sequence of zero or more characters, &amp;quot;?&amp;quot; will match any single character, &amp;quot;[seq]&amp;quot; will match any character in seq, and &amp;quot;[!seq]&amp;quot; will match any character not in seq. ## *) Tests are performed in sequence. The first match will terminate the testing. This allows for more complex allow/deny patterns. ## Tests are case-sensitive. ## NOTE: Again, this is for the hiding of modules within repositories, &lt;em&gt;not&lt;/em&gt; for the hiding of repositories (roots) themselves. ## Some examples: ## Disallow &amp;quot;example&amp;quot; but allow all others: forbidden = example ## Disallow &amp;quot;example1&amp;quot; and &amp;quot;example2&amp;quot; but allow all others: forbidden = example1, example2 ## Allow &lt;em&gt;only&lt;/em&gt; &amp;quot;example1&amp;quot; and &amp;quot;example2&amp;quot;: forbidden = !example1, !example2 ## Forbid modules starting with &amp;quot;x&amp;quot;: forbidden = x* ## Allow modules starting with &amp;quot;x&amp;quot; but no others: forbidden = !x* ## Allow &amp;quot;xml&amp;quot;, forbid other modules starting with &amp;quot;x&amp;quot;, and allow the rest: forbidden = !xml, x*, !* ## #forbidden = ##--------------------------------------------------------------------------- [authz-forbiddenre] The &amp;quot;forbiddenre&amp;quot; authorizer forbids access to repositories and repository paths by comparing a list of regular expressions (separated by commas) against paths consisting of the repository (or root) name plus the path of the versioned file or directory to be tested. For example, to see if the user is authorized to see the path &amp;quot;/trunk/www/index.html&amp;quot; in the repository whose root name is &amp;quot;svnrepos&amp;quot;, this authorizer will check the path &amp;quot;svnrepos/trunk/www/index.html&amp;quot; against the list of forbidden regular expressions. Directory paths will be terminated by a forward slash. ## NOTE: The options in this section apply only when the &#39;authorizer&#39; option (in the [options] section) is set to &#39;forbiddenre&#39;. forbiddenre: A comma-delimited list of regular expressions which match paths that ViewVC should hide from users. ## Like the &amp;quot;forbidden&amp;quot; authorizer... ## *) The &amp;quot;!&amp;quot; can be used before a module to explicitly state that it is NOT forbidden. Whenever this form is seen, then all modules will be forbidden unless one of the &amp;quot;!&amp;quot; modules match. ## *) Tests are performed in sequence. The first match will terminate the testing. This allows for more complex allow/deny patterns. ## Unlike the &amp;quot;forbidden&amp;quot; authorizer, you can can use this to hide roots, too. ## Some examples: ## Disallow files named &amp;quot;PRIVATE&amp;quot;, but allow all others: forbiddenre = /PRIVATE$ ## Disallow the &amp;quot;hidden&amp;quot; repository, allowing all others: forbiddenre = ^hidden(/|$) ## Allow only the &amp;quot;example1&amp;quot; and &amp;quot;example2&amp;quot; roots and the paths inside them, disallowing all others (which can be done in multiple ways): forbiddenre = !^example1(/|$), !^example2(/|$)/ forbiddenre = !^example&lt;a href=&#34;http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/%7C$&#34;&gt;12&lt;/a&gt; ## Only allow visibility of HTML files and the directories that hold them: forbiddenre = !^([^/]+|.*(/|.html))$ ## #forbiddenre = ##--------------------------------------------------------------------------- [authz-svnauthz] The &amp;quot;svnauthz&amp;quot; authorizer uses a Subversion authz configuration file to determine access to repository paths. ## NOTE: The options in this section apply only when the &#39;authorizer&#39; option (in the [options] section) is set to &#39;svnauthz&#39;. authzfile: Specifies the location of the authorization rules file (using an absolute path). ## #authzfile = root_relative_authzfile: Specifies the location of the authorization rules file using an path relative to the repository. ## Example: root_relative_authzfile = conf/access ## #root_relative_authzfile = force_username_case: Like the AuthzForceUsernameCase httpd.conf directive, set this to &amp;quot;upper&amp;quot; or &amp;quot;lower&amp;quot; to force the normalization to upper- or lower-case, respectively, of incoming usernames prior to comparison against the authorization rules files. Leave the option unset to preserve the username case. ## #force_username_case = ##--------------------------------------------------------------------------- [query] The configuration items in this section are used exclusively by the &#39;query&#39; script, a separate script from ViewVC itself that ships with ViewVC and allows for queries into the ViewVC commits database. If you aren&#39;t using this separate script (which was made largely irrelevant by the introduction of an integrated &amp;quot;query&amp;quot; view in ViewVC itself, or aren&#39;t using the ViewVC commits database functionality at all, you can ignore these configurations items altogether. viewvc_base_url: Base URL at which ViewVC may be accessed on this server. The default value for this option is determined at run-time by the various front-ends to the query script. ## Examples: viewvc_base_url = /viewvc.py viewvc_base_url = /viewvc.wsgi viewvc_base_url = /cgi-bin/viewvc viewvc_base_url = viewvc ## To disable cross-linking between the query script and ViewVC, uncomment this option and leave its value empty. ## #viewvc_base_url = ##---------------------------------------------------------------------------&lt;/p&gt;
&lt;hr /&gt;
#### 
[Dan]( &#34;nothanks@nothanks.org&#34;) - &lt;time datetime=&#34;2015-06-25 20:02:30&#34;&gt;Jun 4, 2015&lt;/time&gt;
&lt;p&gt;This is a fantastic guide. One of the best I have read in a long time. Thank you.&lt;/p&gt;
&lt;hr /&gt;
#### 
[night-fury]( &#34;sunnymanya@yahoo.com&#34;) - &lt;time datetime=&#34;2016-01-24 00:15:45&#34;&gt;Jan 0, 2016&lt;/time&gt;
&lt;p&gt;Okay, will check what can be done at the exchange end. Thank you for all your help :)&lt;/p&gt;
&lt;hr /&gt;
#### 
[Iqbal]( &#34;iqbalnazirsumon@gmail.com&#34;) - &lt;time datetime=&#34;2016-03-18 05:23:18&#34;&gt;Mar 5, 2016&lt;/time&gt;
&lt;p&gt;Hi Ryan :) Hope you are doing well. After running the last command I get the following error. Could you please help me ? root@rancid-test:~# /usr/local/viewvc-1.1.24/bin/cvsdbadmin rebuild /usr/local/rancid/var/CVS/CVSROOT/ Traceback (most recent call last): File &amp;quot;/usr/local/viewvc-1.1.24/bin/cvsdbadmin&amp;quot;, line 44, in import cvsdb File &amp;quot;/usr/local/viewvc-1.1.24/lib/cvsdb.py&amp;quot;, line 21, in import dbi File &amp;quot;/usr/local/viewvc-1.1.24/lib/dbi.py&amp;quot;, line 18, in import MySQLdb ImportError: No module named MySQLdb&lt;/p&gt;
&lt;hr /&gt;
#### 
[Iqbal]( &#34;iqbalnazirsumon@gmail.com&#34;) - &lt;time datetime=&#34;2016-03-22 04:52:45&#34;&gt;Mar 2, 2016&lt;/time&gt;
&lt;p&gt;Hi Ryan, thanks for the reply. I don&#39;t know what the reason is, but I was able to do it when I tried to do it again from the beginning :) It looks like this now : &lt;a href=&#34;https://onedrive.live.com/redir?resid=1BBA8AF56E1CCA90!4580&amp;amp;authkey=!AN-zNMBZRJY-d9I&amp;amp;v=3&amp;amp;ithint=photo%2cPNG&#34;&gt;https://onedrive.live.com/redir?resid=1BBA8AF56E1CCA90!4580&amp;amp;authkey=!AN-zNMBZRJY-d9I&amp;amp;v=3&amp;amp;ithint=photo%2cPNG&lt;/a&gt; What I want now is to change the ViewVC logo to be replaced by my company logo. I know I have to change the html page corresponding to it. But I don&#39;t find that html page. Do you have any idea? Thanks a lot in advance :)&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-07-29 19:49:30&#34;&gt;Jul 3, 2015&lt;/time&gt;
&lt;p&gt;Glad it worked out!&lt;/p&gt;
&lt;hr /&gt;
#### 
[bobby]( &#34;noneya@business.com&#34;) - &lt;time datetime=&#34;2015-05-22 14:33:10&#34;&gt;May 5, 2015&lt;/time&gt;
&lt;p&gt;What are you using Maria-db for?&lt;/p&gt;
&lt;hr /&gt;
#### 
[Kenan Gülle (@KenanGulle)](http://twitter.com/KenanGulle &#34;KenanGulle@twitter.example.com&#34;) - &lt;time datetime=&#34;2015-05-23 04:14:17&#34;&gt;May 6, 2015&lt;/time&gt;
&lt;p&gt;[rancid@raancid root]$ bin/clogin 192.168.1.1 bash: bin/clogin: Permission denied view error help me :(&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ben](http://chronicgeekage.blogspot.com/ &#34;bhart@unifiedbrands.net&#34;) - &lt;time datetime=&#34;2015-05-07 11:33:51&#34;&gt;May 4, 2015&lt;/time&gt;
&lt;p&gt;I figured it out Ryan. The router.db files formatting needs semi colons instead of colons.&lt;/p&gt;
&lt;hr /&gt;
#### 
[sunny]( &#34;sunnymanya@yahoo.com&#34;) - &lt;time datetime=&#34;2015-08-22 02:43:51&#34;&gt;Aug 6, 2015&lt;/time&gt;
&lt;p&gt;Hi, Fantastic guide to install rancid and view VC. I am fairly new to linux and was able to set this up readin this guide. Well. now ihave certain devices belonging to cisco-sb type and trying to set that up i had to play a lot with the software and configs. I was able to set it up finally. Now i have quite a few revisions in ViewVC. Is there a way to clear all the revisions so that when i run &#39;rancid-run&#39; next, the first revision i.e. 1.1 should have all devices config in it. I guess creating a new database should do it but want to get expert opinion. Please let me know. Any help would be much appreciated.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-05-06 20:01:16&#34;&gt;May 3, 2015&lt;/time&gt;
&lt;p&gt;Hey Ben, Usually this is some type of permission issue with either apache or the rancid user. You may want to also post your problem at &lt;a href=&#34;http://www.gossamer-threads.com/lists/rancid/&#34;&gt;http://www.gossamer-threads.com/lists/rancid/&lt;/a&gt; might get someone better than me :) Check the areas where you had to modify permissions like the cgi-bin folder (Apache should be the owner here) &lt;code&gt;[root@rancid ~]# ls -l /var/www/cgi-bin/ total 8 -rwxr-xr-x. 1 apache apache 1782 Jan 1 05:55 query.cgi -rwxr-xr-x. 1 apache apache 1781 Jan 1 05:55 viewvc.cgi&lt;/code&gt; Also what Python version are you running? In this example it was: &lt;code&gt;[root@rancid ~]# python -V Python 2.7.5&lt;/code&gt; Check to make sure you have RCS installed: &lt;code&gt;[root@rancid ~]# yum install rcs Loaded plugins: fastestmirror Loading mirror speeds from cached hostfile * base: mirror.raystedman.net * extras: mirror.netdepot.com * updates: mirrors.kernel.org Package rcs-5.9.0-5.el7.x86_64 already installed and latest version Nothing to do&lt;/code&gt; I would also try to run rancid manually and have it connect to a device to see if you can get diffs just in CLI. That would help because then its likely something wrong with just Apache/ViewVC. What I&#39;ll do is do a fresh install of Rancid on Centos 7 and see if I run into this problem, but I won&#39;t be able to really look at until next week sometime. Good Luck and don&#39;t get too frustrated ;) Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-03-06 13:31:22&#34;&gt;Mar 5, 2015&lt;/time&gt;
&lt;p&gt;In this version I&#39;m using Rancid 3.1 with Expect version 5.45. I have not experienced any of the hangs like mentioned above. The TCL version I&#39;m using is 8.5.13. Maybe its fixed? Just in case if anyone wants to check: To check the Expect version run: expect -v To check TCL version go type tclsh followed by typing info patchlevel Thanks for bringing it up :)&lt;/p&gt;
&lt;hr /&gt;
#### 
[Configuring Rancid &amp;laquo; Cisco Skills](http://ciscoskills.net/2015/02/27/configuring-rancid/ &#34;&#34;) - &lt;time datetime=&#34;2015-02-27 15:32:22&#34;&gt;Feb 5, 2015&lt;/time&gt;
&lt;p&gt;[…] my last post I talked about installing Rancid on Centos 7 so be sure to check that out. In this post we now want to actually use Rancid so I’ll walk through […]&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-01-29 20:12:33&#34;&gt;Jan 5, 2016&lt;/time&gt;
&lt;p&gt;Hey Adam, I would check your viewvc.conf file and make sure you put the database you are connecting into the view.conf file in my example my database is ViewVC. The error message basically says there is no database selected when you run the rebuild script. &lt;strong&gt;Configure the ViewVC configuration file&lt;/strong&gt; &lt;code&gt;nano /usr/local/viewvc-1.1.23/viewvc.conf&lt;/code&gt; &lt;strong&gt;Look for&lt;/strong&gt; database_name = Type in your database to connect ViewVC. Hope that Helps, Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Wayne]( &#34;wuwy2010@126.com&#34;) - &lt;time datetime=&#34;2016-06-16 23:41:05&#34;&gt;Jun 4, 2016&lt;/time&gt;
&lt;p&gt;A nice guide for me but when i access to &amp;quot;Query on /configs&amp;quot; website and click &amp;quot;search&amp;quot;, an error appears,can you help me solve? An Exception Has Occurred Python Traceback Traceback (most recent call last): File &amp;quot;/usr/local/viewvc-1.1.24/lib/viewvc.py&amp;quot;, line 4855, in main request.run_viewvc() File &amp;quot;/usr/local/viewvc-1.1.24/lib/viewvc.py&amp;quot;, line 408, in run_viewvc self.view_func(self) File &amp;quot;/usr/local/viewvc-1.1.24/lib/viewvc.py&amp;quot;, line 4484, in view_query db = cvsdb.ConnectDatabaseReadOnly(cfg) File &amp;quot;/usr/local/viewvc-1.1.24/lib/cvsdb.py&amp;quot;, line 908, in ConnectDatabaseReadOnly return ConnectDatabase(cfg, 1) File &amp;quot;/usr/local/viewvc-1.1.24/lib/cvsdb.py&amp;quot;, line 904, in ConnectDatabase db.Connect() File &amp;quot;/usr/local/viewvc-1.1.24/lib/cvsdb.py&amp;quot;, line 56, in Connect self._host, self._port, self._user, self._passwd, self._database) File &amp;quot;/usr/local/viewvc-1.1.24/lib/dbi.py&amp;quot;, line 63, in connect return MySQLdb.connect(host=host, port=port, user=user, passwd=passwd, db=db) File &amp;quot;/usr/lib64/python2.7/site-packages/MySQLdb/&lt;strong&gt;init&lt;/strong&gt;.py&amp;quot;, line 81, in Connect return Connection(*args, **kwargs) File &amp;quot;/usr/lib64/python2.7/site-packages/MySQLdb/connections.py&amp;quot;, line 187, in __init__ super(Connection, self).__init__(*args, **kwargs2) TypeError: connect() argument 3 must be string, not int&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-07-28 19:39:22&#34;&gt;Jul 4, 2016&lt;/time&gt;
&lt;p&gt;No problem, glad you where able to get it working :)&lt;/p&gt;
&lt;hr /&gt;
#### 
[Adam]( &#34;abrigham@hmsg.co.uk&#34;) - &lt;time datetime=&#34;2016-01-31 04:09:31&#34;&gt;Jan 0, 2016&lt;/time&gt;
&lt;p&gt;Hi Ryan, I checked everything in all the config files. In the end I deleted the VM are started again from scratch, sadly i got the end with the same error. Fancy building me a quick one and exporting it ti ovf/ova?&lt;/p&gt;
&lt;hr /&gt;
#### 
[Abhinav Bahri]( &#34;scorpio.3015@gmail.com&#34;) - &lt;time datetime=&#34;2015-11-06 13:32:17&#34;&gt;Nov 5, 2015&lt;/time&gt;
&lt;p&gt;Hi I am getting this error &amp;quot;OSError: [Errno 13] Permission denied: &#39;/usr/local/rancid/var/CVS&#39;&amp;quot; while running viewvc on browser.. directory permissions are, drwxrwxr-x. 4 rancid netadm 4096 Nov 6 09:02 CVS Any help will be appreciated. Thanks Abhinav&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-12-21 19:43:54&#34;&gt;Dec 1, 2015&lt;/time&gt;
&lt;p&gt;Hey Alex, Does your error match what I had above? Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[christopherbnash](http://k5sar.wordpress.com &#34;christopher.b.nash@gmail.com&#34;) - &lt;time datetime=&#34;2016-05-25 07:39:39&#34;&gt;May 3, 2016&lt;/time&gt;
&lt;p&gt;No the rebuild didn&#39;t work still the same error.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-01-31 19:48:03&#34;&gt;Jan 0, 2016&lt;/time&gt;
&lt;p&gt;Hey Adam, Could you post your viewvc.conf file? Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-01-05 13:03:54&#34;&gt;Jan 2, 2016&lt;/time&gt;
&lt;p&gt;Hey Alex, Glad you got it working and thanks for posting back your solution.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Alex]( &#34;totototo@toto.com&#34;) - &lt;time datetime=&#34;2015-12-17 01:59:19&#34;&gt;Dec 4, 2015&lt;/time&gt;
&lt;p&gt;Hi Ryan, Thank you for your answer. The thing is that my CVS folder is already in 775 mode, that&#39;s why I don&#39;t understand this error. Do you have any idea ? Cheers, Alex&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-12-16 19:29:54&#34;&gt;Dec 3, 2015&lt;/time&gt;
&lt;p&gt;Hey Alex, What is your permissions on that directory &amp;quot;/usr/local/rancid/var/CVS&amp;quot;? This is likely the issue, I can reproduce the issue if &amp;quot;Others/All Users&amp;quot; don&#39;t have permission to read and or execute the CVS folder. Here is the error I get if CVS is not readable to All users does that match what you have? &lt;code&gt;An Exception Has Occurred Python Traceback Traceback (most recent call last): File &amp;quot;/usr/local/viewvc-1.1.23/lib/viewvc.py&amp;quot;, line 4848, in main request.run_viewvc() File &amp;quot;/usr/local/viewvc-1.1.23/lib/viewvc.py&amp;quot;, line 402, in run_viewvc self.view_func(self) File &amp;quot;/usr/local/viewvc-1.1.23/lib/viewvc.py&amp;quot;, line 2201, in view_roots expand_root_parents(request.cfg) File &amp;quot;/usr/local/viewvc-1.1.23/lib/viewvc.py&amp;quot;, line 4720, in expand_root_parents roots = vclib.ccvs.expand_root_parent(pp) File &amp;quot;/usr/local/viewvc-1.1.23/lib/vclib/ccvs/**init**.py&amp;quot;, line 32, in expand_root_parent subpaths = os.listdir(parent_path) OSError: [Errno 13] Permission denied: &#39;/usr/local/rancid/var/CVS&#39;&lt;/code&gt; Here is the output of my machine, notice the CVS folder permissions? I don&#39;t have read and execute permission to all users. &lt;code&gt;[root@rancid ~]# ls -l /usr/local/rancid/var/ total 12 drwxrwx---. 5 rancid netadm 67 Sep 23 18:36 CVS drwxr-x---. 2 rancid netadm 4096 Sep 23 19:00 logs drwxr-x---. 4 rancid netadm 4096 Sep 23 19:00 Routers drwxr-x---. 4 rancid netadm 4096 Sep 23 19:00 Switches&lt;/code&gt; Change it by running this command. &lt;code&gt;chmod 775 /usr/local/rancid/var/CVS/&lt;/code&gt; Verify: &lt;code&gt;ls -l /usr/local/rancid/var/ total 12 drwxrwxr-x. 5 rancid netadm 67 Sep 23 18:36 CVS drwxr-x---. 2 rancid netadm 4096 Sep 23 19:00 logs drwxr-x---. 4 rancid netadm 4096 Sep 23 19:00 Routers drwxr-x---. 4 rancid netadm 4096 Sep 23 19:00 Switches&lt;/code&gt; Hope that Helps. Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-01-22 20:14:23&#34;&gt;Jan 5, 2016&lt;/time&gt;
&lt;p&gt;Hey Night-Fury, That actually looks right to me, rancid modifies the TO field in the email header but if you look in the log file located at /var/log/maillog you&#39;ll see that the message does get forwarded. In this example (&lt;a href=&#34;mailto:real-email@example.com&#34;&gt;real-email@example.com&lt;/a&gt;) is the email address I typed in the aliases file to send the email messages to. You may have to change a setting in your email system to allow this message to send. &lt;code&gt;[root@rancid log]# tail -n 9 maillog Jan 22 19:03:07 rancid postfix/pickup[5922]: 0C8708026C6B: uid=1000 from= Jan 22 19:03:07 rancid postfix/cleanup[6647]: 0C8708026C6B: message-id=[20160123020307.0C8708026C6B@rancid.example.com](mailto:20160123020307.0C8708026C6B@rancid.example.com) Jan 22 19:03:07 rancid postfix/qmgr[1723]: 0C8708026C6B: from=[rancid@rancid.example.com](mailto:rancid@rancid.example.com), size=1483, nrcpt=1 (queue active) Jan 22 19:03:07 rancid postfix/cleanup[6647]: 1DFC780BE715: message-id=[20160123020307.0C8708026C6B@rancid.example.com](mailto:20160123020307.0C8708026C6B@rancid.example.com) Jan 22 19:03:07 rancid postfix/qmgr[1723]: 1DFC780BE715: from=[rancid@rancid.example.com](mailto:rancid@rancid.example.com), size=1665, nrcpt=1 (queue active) Jan 22 19:03:07 rancid postfix/local[6655]: 0C8708026C6B: to=[rancid-Switches@rancid.example.com](mailto:rancid-Switches@rancid.example.com), orig_to=, relay=local, delay=0.11, delays=0.06/0.04/0/0.02, dsn=2.0.0, status=sent (forwarded as 1DFC780BE715) Jan 22 19:03:07 rancid postfix/qmgr[1723]: 0C8708026C6B: removed Jan 22 19:03:07 rancid postfix/smtp[6658]: 1DFC780BE715: to=[real-email@example.com](mailto:real-email@example.com), orig_to=, relay=email.example.com[192.168.2.25]:25, delay=0.74, delays=0.01/0.02/0/0.71, dsn=2.6.0, status=sent (250 2.6.0 [20160123020307.0C8708026C6B@rancid.example.com](mailto:20160123020307.0C8708026C6B@rancid.example.com) [InternalId=322292] Queued mail for delivery) Jan 22 19:03:07 rancid postfix/qmgr[1723]: 1DFC780BE715: removed [root@rancid log]#&lt;/code&gt; Hope that Helps, Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-01-23 10:40:17&#34;&gt;Jan 6, 2016&lt;/time&gt;
&lt;p&gt;Hey Night-Fury, Each mail system varies sometimes there are called trusted hosts or relays. The mail system has to trust rancid in sending emails. In your log it says queued mail for delivery so the message was sent. It is likely something on your email system. Good Luck. Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Alex]( &#34;totototo@toto.com&#34;) - &lt;time datetime=&#34;2016-01-05 09:55:11&#34;&gt;Jan 2, 2016&lt;/time&gt;
&lt;p&gt;Ryan, I solved my problem (finally !!). I have SELinux enable on my server, I had to change the security context of my folder (using the command chcon). Cheers, Alex&lt;/p&gt;
&lt;hr /&gt;
#### 
[Alex]( &#34;totototo@toto.com&#34;) - &lt;time datetime=&#34;2015-12-16 07:13:57&#34;&gt;Dec 3, 2015&lt;/time&gt;
&lt;p&gt;Hi, I have the same problem as Abhinav. I&#39;ve edited the viewvc.conf file as shown in the guide. I&#39;ve also tried to use cvs_root and default_root instead of root_parents and it didn&#39;t work either. What else can be the problem ? Cheers, Alex&lt;/p&gt;
&lt;hr /&gt;
#### 
[Adam]( &#34;abrigham@hmsg.co.uk&#34;) - &lt;time datetime=&#34;2016-01-29 09:06:07&#34;&gt;Jan 5, 2016&lt;/time&gt;
&lt;p&gt;Hi I ran the last cmd and this is the out put. Can you help [root@rancid ~]# /usr/local/viewvc-1.1.23/bin/cvsdbadmin rebuild /usr/local/rancid/var/CVS/CVSROOT/ Using repository root `/usr/local/rancid/var/CVS&#39; Traceback (most recent call last): File &amp;quot;/usr/local/viewvc-1.1.23/bin/cvsdbadmin&amp;quot;, line 175, in db = cvsdb.ConnectDatabase(cfg) File &amp;quot;/usr/local/viewvc-1.1.23/lib/cvsdb.py&amp;quot;, line 904, in ConnectDatabase db.Connect() File &amp;quot;/usr/local/viewvc-1.1.23/lib/cvsdb.py&amp;quot;, line 59, in Connect table_list = self.GetTableList() File &amp;quot;/usr/local/viewvc-1.1.23/lib/cvsdb.py&amp;quot;, line 177, in GetTableList cursor.execute(sql) File &amp;quot;/usr/lib64/python2.7/site-packages/MySQLdb/cursors.py&amp;quot;, line 174, in execute self.errorhandler(self, exc, value) File &amp;quot;/usr/lib64/python2.7/site-packages/MySQLdb/connections.py&amp;quot;, line 36, in defaulterrorhandler raise errorclass, errorvalue _mysql_exceptions.OperationalError: (1046, &#39;No database selected&#39;)&lt;/p&gt;
&lt;hr /&gt;
#### 
[night-fury]( &#34;sunnymanya@yahoo.com&#34;) - &lt;time datetime=&#34;2016-01-22 13:40:53&#34;&gt;Jan 5, 2016&lt;/time&gt;
&lt;p&gt;Hi, thank you for the precise details you have listed !! its hard work. i have set it up on centos 7 and works well. pulled the devices, i can see the configs in viewvc. but the mail it sends, it sends to: &lt;a href=&#34;mailto:rancid-switches@host-192-168-10-161.localdomain&#34;&gt;rancid-switches@host-192-168-10-161.localdomain&lt;/a&gt; &amp;amp; &lt;a href=&#34;mailto:rancid-rtr-fw@host-192-168-10-161.localdomain&#34;&gt;rancid-rtr-fw@host-192-168-10-161.localdomain&lt;/a&gt; rather than sending it to he email ID which was defined in /etc/aliases. any idea why ? my files have configuration as below: /etc/aliases Custom Rancid Configuration (Put an Email Here) rancid: &amp;lt;i.have.my.emailaddress.here&amp;gt;@domain.com Custom Rancid Configuration rancid-admin-rtr-fw: rancid rancid-rtr-fw: rancid rancid-admin-switches: rancid rancid-switches: rancid My /etc/postfix/main.cf is: #relayhost = $mydomain #relayhost = [gateway.my.domain] #relayhost = [mailserver.isp.tld] #relayhost = uucphost relayhost = 10.20.30.40 where can i check mail logs etc to know where the problem is? please help.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Alex]( &#34;totototo@toto.com&#34;) - &lt;time datetime=&#34;2016-01-04 01:09:31&#34;&gt;Jan 1, 2016&lt;/time&gt;
&lt;p&gt;Hi Ryan, Sorry for the late answer. The error I get is the following: An Exception Has Occurred Python Traceback Traceback (most recent call last): File &amp;quot;/usr/lib/python2.7/site-packages/viewvc/lib/viewvc.py&amp;quot;, line 4855, in main request.run_viewvc() File &amp;quot;/usr/lib/python2.7/site-packages/viewvc/lib/viewvc.py&amp;quot;, line 408, in run_viewvc self.view_func(self) File &amp;quot;/usr/lib/python2.7/site-packages/viewvc/lib/viewvc.py&amp;quot;, line 2207, in view_roots expand_root_parents(request.cfg) File &amp;quot;/usr/lib/python2.7/site-packages/viewvc/lib/viewvc.py&amp;quot;, line 4727, in expand_root_parents roots = vclib.ccvs.expand_root_parent(pp) File &amp;quot;/usr/lib/python2.7/site-packages/viewvc/lib/vclib/ccvs/&lt;strong&gt;init&lt;/strong&gt;.py&amp;quot;, line 32, in expand_root_parent subpaths = os.listdir(parent_path) OSError: [Errno 13] Permission denied: &#39;/var/rancid/CVS&#39; Cheers, Alex&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-01-04 20:05:14&#34;&gt;Jan 1, 2016&lt;/time&gt;
&lt;p&gt;Hey Alex, No problem hope your holiday was good ;) So I noticed that you might have installed ViewVC a different way then I did in the above post, not sure if that has anything to do with or not but it might. Your ViewVC is located under /usr/lib/python2.7/site-packages/ where in this post ViewVC is installed under usr/local/. Can you run a sanity check on ViewVC? (This runs a small web server on the system) &lt;code&gt;/usr/local/viewvc-1.1.23/bin/standalone.py -r /usr/local/rancid/CVS&lt;/code&gt; On your system it might be: &lt;code&gt;/usr/lib/python2.7/site-packages/viewvc/bin/ standalone.py -r /usr/local/rancid/CVS&lt;/code&gt; Does that say any errors? Should report back as saying: &lt;code&gt;server ready at http://localhost:49152/viewvc&lt;/code&gt; I would just do a curl to see the HTML document &lt;code&gt;curl http://localhost:49152/viewvc&lt;/code&gt; The output should display HTML code if it is working. Hope that Helps, Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-11-09 21:09:29&#34;&gt;Nov 1, 2015&lt;/time&gt;
&lt;p&gt;Hey Abhinav, Permissions look right as I just checked on my sample box but it just sounds like some type of permission issue It might be something with the viewvc.conf file. Can you verify that you made the correct changes as what I have outlined below. Try that. Ryan Find the following and edit as shown below:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;... ## Example: ## cvs_roots = cvsroot: /opt/cvs/repos1, ## anotherroot: /usr/local/cvs/repos2 ## #cvs_roots = cvs: ## svn_roots: Specifies each of the Subversion roots (repositories) on ## your system and assigns names to them. Each root should be given by ... ## Example: ## root_parents = /opt/svn: svn, ## /opt/cvs: cvs ## root_parents = /usr/local/rancid/var/CVS : cvs ## default_root: This is the name of the default root. Valid names ... ## Example: ## rcs_dir = /usr/bin/ ## rcs_dir = /usr/local/bin ## cvsnt: Location of cvsnt program. ViewVC can use CVSNT (&lt;a href=&#34;http://www.cvsnt.org&#34;&gt;www.cvsnt.org&lt;/a&gt;) ... ## use_rcsparse: Use the rcsparse Python module to retrieve CVS ## repository information instead of invoking rcs utilities [EXPERIMENTAL] ## use_rcsparse = 1 ...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-02-02 18:03:05&#34;&gt;Feb 2, 2016&lt;/time&gt;
&lt;p&gt;Hey Adam, You have to un-commented these out by removing the &amp;quot;#&amp;quot; symbols. Follow the example above when you edit the viewvc.conf file. Hope that Helps. Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Adam]( &#34;abrigham@hmsg.co.uk&#34;) - &lt;time datetime=&#34;2016-02-03 02:41:11&#34;&gt;Feb 3, 2016&lt;/time&gt;
&lt;p&gt;Bingo! Thanks a lot Ryan!&lt;/p&gt;
&lt;hr /&gt;
#### 
[Jimmy.Li]( &#34;228496698@qq.com&#34;) - &lt;time datetime=&#34;2016-06-06 08:08:36&#34;&gt;Jun 1, 2016&lt;/time&gt;
&lt;p&gt;Very helpful .I try to deploy Rancid in Centos 7 for a few weeks ,but cant solve problem caused by dependent packages ,I follow the instruction write by a few years ago ,some packages seems EOL, like mod_python and phpmhash .etc when i seems get into trouble , I find this awesome guidle .thank again ,especially you provide a link to discussions of the BBS .I look forward to your next article about Rancie&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-02-03 19:12:06&#34;&gt;Feb 3, 2016&lt;/time&gt;
&lt;p&gt;You are welcome :)&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-03-25 18:19:06&#34;&gt;Mar 5, 2016&lt;/time&gt;
&lt;p&gt;Hey Iqbal, I have not played around the templates folder in ViewVC. All the HTML information is stored. &lt;code&gt;usr/local/viewvc-1.1.24/templates/include&lt;/code&gt; Good Luck ;) Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-03-10 21:57:16&#34;&gt;Mar 4, 2016&lt;/time&gt;
&lt;p&gt;Hey Rohit, Everything looks good but on your router.db are you using semi-colon? (;) instead of a colon (:)? If you are using newer versions of rancid this needs to be a semi-colon in the router.db. It&#39;s awesome that you are using a custom script to support other network devices however I&#39;m have not used Cisco SB switches so the only thing I would look at is the cloginrc file. The &lt;em&gt;missing close-brace&lt;/em&gt; error is usually means there is a brace &amp;quot;{&amp;quot; that is open still in your cloginrc file. Good Luck Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Rohit]( &#34;rohit181@yahoo.com&#34;) - &lt;time datetime=&#34;2016-03-10 00:46:42&#34;&gt;Mar 4, 2016&lt;/time&gt;
&lt;p&gt;Great guide ! amazingly detailed ! thanks for the same. I have setup rancid, followed all the steps. Here&#39;s a problem that I am facing. After defining hosts, devices in router.db and passwords/parameters in .cloginrc. I have also configured this to backup config of my cisco sb series switches (did the changes in rancid-fe and have rights permissions set for csblogin and csbrancid files). Finally i executed the /usr/local/rancid/bin/rancid-run command. This brought up all the devices UP in the repositories I created in CVS. all good. But the configuration is not being pulled by rancid. I checked logs and found the messages as below. Any help would be much appreciated. switch1 csblogin error: Error: missing close-brace switch1: missed cmd(s): show version,show system,show startup-config switch1: End of run not found Here are the settings that I did in the required files host file 192.168.0.242 switch1 router.db switch1:cisco-sb:up cloginrc add method switch1 ssh add user switch1 {admin} add password switch1 {passw0rd12$} add autoenable switch1 1 add userprompt switch1 {&amp;quot;user name:&amp;quot;} -best Rohit&lt;/p&gt;
&lt;hr /&gt;
#### 
[Rohit]( &#34;rohit181@yahoo.com&#34;) - &lt;time datetime=&#34;2016-03-12 00:55:24&#34;&gt;Mar 6, 2016&lt;/time&gt;
&lt;p&gt;hey thanks Ryan. I am using colon coz its old version of rancid since in the new i can not update vendor table. however what you said is correct, i found the missing close brace. I looked for it before posting here but i guess I missed it and thought it could be due to some other reason. but thanks for getting back. again a great guide. it helped a lot !!!&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-06-09 19:21:58&#34;&gt;Jun 4, 2016&lt;/time&gt;
&lt;p&gt;Neel, You might want to check your httpd.conf file (Line 368) there is something that is causing this error to come up, maybe a mistype? &lt;code&gt;Jun 08 04:27:54 Test httpd[2662]: httpd: Syntax error on line 368 of /etc/httpd/conf/httpd.conf&lt;/code&gt; Hope that Helps, Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Neel]( &#34;neelam_matoo@hotmail.com&#34;) - &lt;time datetime=&#34;2016-06-08 02:30:47&#34;&gt;Jun 3, 2016&lt;/time&gt;
&lt;p&gt;Hello.. Am very new to linux and am trying your installation guide above. After completing the installation, i have no access to http://rancid-ip/viewvc. When trying to restart httpd service. The following error is obtained. Job for httpd.service failed because the control process exited with error code. See &amp;quot;systemctl status httpd.service&amp;quot; and &amp;quot;journalctl -xe&amp;quot; for details. systemctl status httpd.service ● httpd.service - The Apache HTTP Server Loaded: loaded (/usr/lib/systemd/system/httpd.service; enabled; vendor preset: disabled) Active: failed (Result: exit-code) since Wed 2016-06-08 04:27:54 EDT; 1min 7s ago Docs: man:httpd(8) man:apachectl(8) Process: 2664 ExecStop=/bin/kill -WINCH ${MAINPID} (code=exited, status=1/FAILURE) Process: 2662 ExecStart=/usr/sbin/httpd $OPTIONS -DFOREGROUND (code=exited, status=1/FAILURE) Main PID: 2662 (code=exited, status=1/FAILURE) Jun 08 04:27:54 Test systemd[1]: Starting The Apache HTTP Server... Jun 08 04:27:54 Test httpd[2662]: httpd: Syntax error on line 368 of /etc/httpd/conf/httpd.conf: Expected but saw Jun 08 04:27:54 Test systemd[1]: httpd.service: main process exited, code=exited, status=1/FAILURE Jun 08 04:27:54 Test kill[2664]: kill: cannot find process &amp;quot;&amp;quot; Jun 08 04:27:54 Test systemd[1]: httpd.service: control process exited, code=exited status=1 Jun 08 04:27:54 Test systemd[1]: Failed to start The Apache HTTP Server. Jun 08 04:27:54 Test systemd[1]: Unit httpd.service entered failed state. Jun 08 04:27:54 Test systemd[1]: httpd.service failed. #journalctl -xe Jun 08 04:06:02 Test kill[2626]: kill: cannot find process &amp;quot;&amp;quot; Jun 08 04:06:02 Test systemd[1]: httpd.service: control process exited, code=exited status=1 Jun 08 04:06:02 Test systemd[1]: Failed to start The Apache HTTP Server. -- Subject: Unit httpd.service has failed -- Defined-By: systemd -- Support: &lt;a href=&#34;http://lists.freedesktop.org/mailman/listinfo/systemd-devel&#34;&gt;http://lists.freedesktop.org/mailman/listinfo/systemd-devel&lt;/a&gt; -- Unit httpd.service has failed. -- The result is failed. Jun 08 04:06:02 Test systemd[1]: Unit httpd.service entered failed state. Jun 08 04:06:02 Test systemd[1]: httpd.service failed. Jun 08 04:06:02 Test polkitd[934]: Unregistered Authentication Agent for unix-process:2609:303230 (system bus name :1.15, object path /org/freedesktop Jun 08 04:27:54 Test polkitd[934]: Registered Authentication Agent for unix-process:2647:434481 (system bus name :1.16 [/usr/bin/pkttyagent --notify-f Jun 08 04:27:54 Test systemd[1]: Starting The Apache HTTP Server... -- Subject: Unit httpd.service has begun start-up -- Defined-By: systemd -- Support: &lt;a href=&#34;http://lists.freedesktop.org/mailman/listinfo/systemd-devel&#34;&gt;http://lists.freedesktop.org/mailman/listinfo/systemd-devel&lt;/a&gt; -- Unit httpd.service has begun starting up. Jun 08 04:27:54 Test httpd[2662]: httpd: Syntax error on line 368 of /etc/httpd/conf/httpd.conf: Expected but saw Jun 08 04:27:54 Test systemd[1]: httpd.service: main process exited, code=exited, status=1/FAILURE Jun 08 04:27:54 Test kill[2664]: kill: cannot find process &amp;quot;&amp;quot; Jun 08 04:27:54 Test systemd[1]: httpd.service: control process exited, code=exited status=1 Jun 08 04:27:54 Test systemd[1]: Failed to start The Apache HTTP Server. -- Subject: Unit httpd.service has failed -- Defined-By: systemd -- Support: &lt;a href=&#34;http://lists.freedesktop.org/mailman/listinfo/systemd-devel&#34;&gt;http://lists.freedesktop.org/mailman/listinfo/systemd-devel&lt;/a&gt; -- Unit httpd.service has failed. -- The result is failed. Jun 08 04:27:54 Test systemd[1]: Unit httpd.service entered failed state. Jun 08 04:27:54 Test systemd[1]: httpd.service failed. Jun 08 04:27:54 Test polkitd[934]: Unregistered Authentication Agent for unix-process:2647:434481 (system bus name :1.16, object path /org/freedesktop lines 2349-2383/238 Can you kindly help.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-05-24 20:59:16&#34;&gt;May 2, 2016&lt;/time&gt;
&lt;p&gt;Chris did that rebuild work? Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[christopherbnash](http://k5sar.wordpress.com &#34;christopher.b.nash@gmail.com&#34;) - &lt;time datetime=&#34;2016-05-24 09:16:05&#34;&gt;May 2, 2016&lt;/time&gt;
&lt;p&gt;[root@icewarp /]# /usr/local/viewvc-1.2-dev/bin/cvsdbadmin rebuild /usr/local/rancid/var/CVS/CVSROOT/&lt;/p&gt;
&lt;hr /&gt;
#### 
[Neel]( &#34;neelam_matoo@hotmail.com&#34;) - &lt;time datetime=&#34;2016-06-10 11:09:04&#34;&gt;Jun 5, 2016&lt;/time&gt;
&lt;p&gt;Hello Ryan, Yea, thanks for he prompt reply. Indeed its a silly mistyping error. Its working great. Thanks. :)&lt;/p&gt;
&lt;hr /&gt;
#### 
[christopherbnash](http://k5sar.wordpress.com &#34;christopher.b.nash@gmail.com&#34;) - &lt;time datetime=&#34;2016-05-25 09:10:31&#34;&gt;May 3, 2016&lt;/time&gt;
&lt;p&gt;Yes fixed it. Problem was my config. The user ViewVC wasn&#39;t cap and I need to install mysql-python and that fixed my issue.&lt;/p&gt;
&lt;hr /&gt;
#### 
[christopherbnash](http://gravatar.com/christopherbnash &#34;christopher.b.nash@gmail.com&#34;) - &lt;time datetime=&#34;2016-05-24 09:15:06&#34;&gt;May 2, 2016&lt;/time&gt;
&lt;p&gt;[root@icewarp /]# /usr/local/viewvc-1.2-dev/bin/cvsdbadmin rebuild /usr/local/rancid/ Traceback (most recent call last): File &amp;quot;/usr/local/viewvc-1.2-dev/bin/cvsdbadmin&amp;quot;, line 43, in import cvsdb File &amp;quot;/usr/local/viewvc-1.2-dev/lib/cvsdb.py&amp;quot;, line 20, in import dbi File &amp;quot;/usr/local/viewvc-1.2-dev/lib/dbi.py&amp;quot;, line 18, in import MySQLdb ImportError: No module named MySQLdb Having a problem. I checked my mariadb service and it&#39;s working.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-03-21 17:25:50&#34;&gt;Mar 1, 2016&lt;/time&gt;
&lt;p&gt;Hey Iqbal, It looks like ViewVC can&#39;t find the the MySQLdb module. Is MySQL (Mariadb) installed? I would think it is since you had to create users before running this command. What happens when you run this command? &lt;strong&gt;systemctl status mariadb&lt;/strong&gt; Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-06-23 19:13:45&#34;&gt;Jun 4, 2016&lt;/time&gt;
&lt;p&gt;Your Welcome :)&lt;/p&gt;
&lt;hr /&gt;
#### 
[amolaknet](http://amolaknet.wordpress.com &#34;amolak.singh@gmail.com&#34;) - &lt;time datetime=&#34;2016-07-27 11:23:30&#34;&gt;Jul 3, 2016&lt;/time&gt;
&lt;p&gt;Hi Ryan, I am getting below error. [root@localhost viewvc-1.1.24]# /usr/local/viewvc-1.1.24/bin/make-database MySQL Hostname (leave blank for default): MySQL Port (leave blank for default): MySQL User: VIEWVC MySQL Password: ******* ViewVC Database Name [default: ViewVC]: ERROR 1045 (28000): Access denied for user &#39;VIEWVC&#39;@&#39;localhost&#39; (using password: YES) [ERROR] The database did not create sucessfully. MariaDB [(none)]&amp;gt; SHOW GRANTS FOR &#39;VIEWVC&#39;@&#39;localhost&#39;\G *************************** 1. row *************************** Grants for VIEWVC@localhost: GRANT ALL PRIVILEGES ON &lt;em&gt;.&lt;/em&gt; TO &#39;VIEWVC&#39;@&#39;localhost&#39; IDENTIFIED BY PASSWORD &#39;*6025816A8686624E0CC3FA5F99FB8043E68252B7&#39; WITH GRANT OPTION 1 row in set (0.00 sec) I have tried to grant privileges again and flush privileges but no luck. Could you please help. Thanks, Amolak&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-06-06 19:33:05&#34;&gt;Jun 1, 2016&lt;/time&gt;
&lt;p&gt;Your welcome, FYI here is the other post I did about Rancid just in case you need it as a reference. &lt;a href=&#34;https://ciscoskills.net/2015/02/27/configuring-rancid/&#34;&gt;https://ciscoskills.net/2015/02/27/configuring-rancid/&lt;/a&gt; Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[ginesgb]( &#34;ginesgb@gmail.com&#34;) - &lt;time datetime=&#34;2016-06-23 09:34:28&#34;&gt;Jun 4, 2016&lt;/time&gt;
&lt;p&gt;Hi , it was looking like rancid change settings to make a single shipment notification email every 24 hours. I use RANCID for all my network device config backups. For non critical networks, or execs that wanted to know what was going on it the network . Greetings and thank you&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-06-23 19:13:13&#34;&gt;Jun 4, 2016&lt;/time&gt;
&lt;p&gt;Hey Wayne, So to be honest I never really tried that query function. So I would not know where to start unfortunately. I did a test on my box and I get a different error then yours :( To what it looks like you might have typed something wrong in the search bar, maybe? I would just search for everything &amp;quot;Since the beginning of time&amp;quot; and see if you get anything comes up Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[amolaknet](http://amolaknet.wordpress.com &#34;amolak.singh@gmail.com&#34;) - &lt;time datetime=&#34;2016-07-27 13:28:03&#34;&gt;Jul 3, 2016&lt;/time&gt;
&lt;p&gt;nm...I have reinstalled mariadb-server &amp;amp; mariadb. It fixed the issue. Thanks for this great article.&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Cisco VIRL is out ... for a price</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2014/12/cisco-virl-is-out-...-for-a-price/</link>
      <pubDate>Fri, 05 Dec 2014 03:45:43 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2014/12/cisco-virl-is-out-...-for-a-price/</guid>
      <description>
        
          &lt;p&gt;&lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/12/virl-logo.png&#34;&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2014/12/virl-logo.png&#34; alt=&#34;virl-logo&#34;&gt;&lt;/a&gt;Just wanted to put this up has Cisco has recently released VIRL. This is a network simulation platform that you can run Cisco operating systems on which are the same operating systems that run on Cisco hardware so anything you do in this simulation environment would be realistic if it was running on dedicated hardware. You would be able to test your changes before throwing them in production. Some things that are different between VIRL and CML (Cisco Modeling Labs)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CML is Cisco TAC supported so you can call Cisco.  With VIRL you have community to help you out.&lt;/li&gt;
&lt;li&gt;You have cap of 15 devices with VIRL. The CML version capacity is dependent on the hardware its running on.&lt;/li&gt;
&lt;li&gt;CML is  for the &amp;quot;Big Guys&amp;quot;, and way more expensive. VIRL is just for personal/training use. (i.e CCNA, CCNP, CCIE)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To be upfront I have not purchased VIRL so I can&#39;t tell you my thoughts on the product itself but personally I think this is great way to learn and study Cisco certifications when looking at CCNP and even CCIE. This is way cheaper than buying hardware or renting rack space. The price is $199.99 a year and I would assume this would cover any updates the product has. Cisco is also selling an Academic Version for $79.99 a year with some extra terms attached to it. I&#39;m curious if anybody has any thoughts on VIRL, what advantages do you think this network simulation program (VIRL) has compared to GNS3? What do you think VIRL&#39;s target audience is? Is this price too high? Finally do you think the product is too green? Are you going to buy it or wait and see? Comment below. Links: &lt;a href=&#34;http://virl.cisco.com/&#34;&gt;http://virl.cisco.com/&lt;/a&gt; &lt;a href=&#34;http://community.dev-innovate.com/c/virl&#34;&gt;http://community.dev-innovate.com/c/virl&lt;/a&gt;&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Setting up Enhanced vPC on Nexus 5600</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2014/09/setting-up-enhanced-vpc-on-nexus-5600/</link>
      <pubDate>Wed, 10 Sep 2014 10:30:12 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2014/09/setting-up-enhanced-vpc-on-nexus-5600/</guid>
      <description>
        
          &lt;h2 id=&#34;so-ive-played-around-with-two-cisco-nexus-5672upswitches-which-will-be-in-production-soon-but-before-that-i-wanted-to-see-what-it-took-to-get-enhanced-vpconline-along-the-way-i-was-into-some-new-territory-as-i-never-stood-up-vpcbefore-so-in-this-post-i-have-posted-some-things-to-keep-in-mind-and-running-config-examples-all-of-which-i-hope-is-helpful-for-a-reference-before-we-go-into-the-configuration-ofvpc-i-wanted-to-mentioned-that-the-nexus-5600-series-switch-is-a-newer-product-in-the-cisco-data-center-portfolio-i-would-guess-that-it-would-eventually-replace-the-5500-nexus-switch-series-but-as-of-this-writing-cisco-has-not-put-any-end-of-life-notice-on-the-5500-hardware-one-of-the-main-differences-on-the-5600-is-the-built-in-layer-3-capabilities-the-5500-required-a-layer-3-card-that-used-an-expansion-slot-and-only-the-higher-end-nexus-products-offered-layer-3-to-find-out-more-information-about-the-5600-on-ciscos-website-cisco-nexus-5600-platform-switches-data-sheethttpwwwciscocomcenusproductscollateralswitchesnexus-5000-series-switchesdatasheet-c78-730760html-cisco-nexus-5600-platform-switches-data-sheet-so-when-i-was-looking-at-configuration-examples-i-noticed-some-confusion-between-a-dual-homedfexsetup-and-an-enhanced-vpcsetup-so-ill-try-to-clear-the-air-the-enhanced-vpcis-able-to-set-up-an-etherchannellink-from-two-different-nexus-switches-the-hostserver-that-connects-to-these-two-different-nexus-switches-must-support-activeactive-nics-this-configuration-is-almost-the-same-if-you-were-setting-up-a-dual-homedfexbut-with-just-activepassive-nicssetup-on-the-hostserver-so-here-is-a-question-if-the-configuration-is-almost-the-same-what-needs-to-beadded-to-support-enhanced-vpc-the-software-i-am-working-with-is-version-701n11-and-we-need-to-enable-the-features-of-vpc-fexand-lacp-codefeature-vpc-feature-fex-feature-lacp-code-we-also-need-to-have-some-vlanscreated-on-both-5ks-in-this-example-i-created-25-35-codevlan-25-35code-we-need-to-start-a-vpcdomain-this-must-be-the-same-on-both-switches-switch-1-code-vpc-domain-1-peer-keepalive-destination-16925412-source-16925411-code-switch-2-code-vpc-domain-1-peer-keepalive-destination-16925411-source-16925412-code-a-note-about-the-peer-keepalive-the-55005600-nexus-has-a-dedicated-management-nic-card-on-the-front-of-the-unit-where-the-power-is-the-reason-i-did-this-was-i-did-not-want-to-waste-a-10gbconnection-for-just-a-keep-alive-link-although-it-can-be-done---in-this-example-i-dont-have-a-dedicated-management-network-so-i-decided-to-use-the-management-nic-of-both-5ks-by-default-you-have-a-another-vrfcontext-called-management-on-the-5ksrunning-config-so-on-both-5ksi-give-that-vrfcontext-an-ip-address-and-directly-connected-both-5ks-together-switch-1-code-interface-mgmt0-vrf-member-management-ip-address-1692541124-code-switch-2-code-interface-mgmt0-vrf-member-management-ip-address-1692541224-code-another-helpful-tip-that-i-could-not-find-out-was-if-the-management-nicswould-auto-mdimdix-so-i-just-plugged-in-a-straight-though-and-it-works-so-you-dont-need-a-crossover-cable-if-you-dont-have-one-nearby--we-now-need-to-create-a-vpcpeer-link-between-the-two-nexus-switches-in-this-example-i-am-using-two-10gb-links-which-are-the-same-interfaces-on-both-nexus-switches-consistency-is-your-friend-code-interface-ethernet131-channel-group-1-mode-active-interface-ethernet132-channel-group-1-mode-active-code-both-switches-are-referring-to-port-channel-one-for-interfaces-31-and-32-in-the-port-channel-we-will-trunk-the-vlanswe-have-created-earlier-along-with-setting-this-port-channel-into-a-vpc-peer-link-code-interface-port-channel1--switchport-mode-trunk--switchporttrunk-allowed-vlan-25-35--vpc-peer-link-code-to-keep-the-configshort-i-am-only-referring-to-two-fexesin-this-example-remember-so-far-in-this-post-you-would-do-exactly-the-same-configuration-if-you-just-wanted-to-set-up-dual-homedfexes-starting-with-fex-101-on-switch-1-code-interface-ethernet11--description-fex-101-port-1--switchportmode-fex-fabric--fex-associate-101-channel-group-101-interface-ethernet12--description-fex-101-port-3--switchportmode-fex-fabric--fex-associate-101-channel-group-101-interface-port-channel101--switchportmode-fex-fabric--fex-associate-101--vpc-101-code-continue-with-fex-101-on-switch-2-code-interface-ethernet11--description-fex-101-port-2--switchportmode-fex-fabric--fex-associate-101-channel-group-101-interface-ethernet12--description-fex-101-port-4--switchportmode-fex-fabric--fex-associate-101-channel-group-101-interface-port-channel101--switchportmode-fex-fabric--fex-associate-101--vpc-101-code-start-with-fex-102-on-switch-1-code-interface-ethernet13--description-fex-102-port-1--switchportmode-fex-fabric--fex-associate-102-channel-group-102-interface-ethernet14--description-fex-102-port-3--switchportmode-fex-fabric--fex-associate-102-channel-group-102-interface-port-channel102--switchportmode-fex-fabric--fex-associate-102--vpc-102-code-continue-with-fex-102-on-switch-2-code-interface-ethernet13--description-fex-102-port-2--switchportmode-fex-fabric--fex-associate-102-channel-group-102-interface-ethernet14--description-fex-102-port-4--switchportmode-fex-fabric--fex-associate-102-channel-group-102-interface-port-channel102--switchportmode-fex-fabric--fex-associate-102--vpc-102-code-so-we-have-just-setup-two-dual-homedfexeson-the-5672upswitches-here-is-where-we-can-kick-it-up-a-notch-to-set-up-enhanced-vpc-if-i-had-a-host-that-plugged-into-fex101-and-fex102-and-i-wanted-to-set-up-etherchannel-so-that-host-could-send-traffic-on-out-both-links-i-would-put-the-following-configuration-on-both-switches-code-interface-eth10111-eth10112-channel-group-2-mode-active-interface-eth10211-eth10212-channel-group-2-mode-active-interface-po2-switchportaccess-vlan-25-code-here-is-the-result-this-is-now-an-enhanced-vpc-some-key-points-of-this-setup-is-be-consistentwith-your-configuration-it-all-has-to-match-on-both-switches-otherwise-expect-problems-to-arise-enhanced-vpc-offers-some-high-level-redundancy-by-just-looking-at-the-picture-below-you-could-have-multiple-failures-and-servers-and-applications-would-still-be-accessible-this-makes-this-type-of-setup-a-common-practice-if-business-needs-demand-it-so-ill-stop-it-there-like-before-i-hope-this-information-is-helpful-as-a-reference-feel-free-to-comment-below-if-you-have-any-questions-vpc-nexushttpssystemstechblogfileswordpresscom201409vpc-nexuspnghttpssystemstechblogfileswordpresscom201409nexus-vpc-epng&#34;&gt;So I&#39;ve played around with two Cisco Nexus 5672UP switches which will be in production soon but before that I wanted to see what it took to get enhanced vPC online. Along the way I was into some new territory as I never stood up vPC before, so in this post I have posted some things to keep in mind and running-config examples, all of which I hope is helpful for a reference. Before we go into the configuration of vPC I wanted to mentioned that the Nexus 5600 series switch is a newer product in the Cisco Data Center portfolio. I would guess that it would eventually replace the 5500 Nexus switch series but as of this writing Cisco has not put any end of life notice on the 5500 hardware. One of the main differences on the 5600 is the built-in layer 3 capabilities. The 5500 required a layer 3 card that used an expansion slot and only the higher-end Nexus products offered layer 3. To find out more information about the 5600 on Cisco&#39;s website: &lt;a href=&#34;http://www.cisco.com/c/en/us/products/collateral/switches/nexus-5000-series-switches/datasheet-c78-730760.html&#34; title=&#34;Cisco Nexus 5600 Platform Switches Data Sheet&#34;&gt;Cisco Nexus 5600 Platform Switches Data Sheet&lt;/a&gt; So when I was looking at configuration examples I noticed some confusion between a dual-homed FEX setup and an enhanced vPC setup, so I&#39;ll try to clear the air. The &amp;quot;Enhanced&amp;quot; vPC is able to set up an etherchannel link from two different Nexus switches. The host/server that connects to these two different Nexus switches must support Active/Active NICs. This configuration is almost the same if you were setting up a dual-homed FEX but with just Active/Passive NICs setup on the host/server. So here is a question if the configuration is almost the same what needs to be added to support enhanced vPC? The software I am working with is version 7.0(1)N1(1) and we need to enable the features of vpc, fex and lacp. [code]feature vpc feature fex feature lacp [/code] We also need to have some VLANs created on both 5ks. In this example I created 25-35 [code]vlan 25-35[/code] We need to start a VPC domain, this must be the same on both switches. SWITCH 1: [code] vpc domain 1 peer-keepalive destination 169.254.1.2 source 169.254.1.1 [/code] SWITCH 2: [code] vpc domain 1 peer-keepalive destination 169.254.1.1 source 169.254.1.2 [/code] A note about the peer-keepalive, the 5500/5600 Nexus has a dedicated management NIC card on the front of the unit. (Where the power is) The reason I did this was I did not want to waste a 10Gb connection for just a keep-alive link. (Although it can be done :/ )  In this example I don&#39;t have a &amp;quot;dedicated&amp;quot; management network so I decided to use the management NIC of both 5ks. By default you have a another vrf context called management on the 5ks running-config. So on both 5ks I give that vrf context an IP address and directly connected both 5ks together. SWITCH 1: [code] interface mgmt0 vrf member management ip address 169.254.1.1/24 [/code] SWITCH 2: [code] interface mgmt0 vrf member management ip address 169.254.1.2/24 [/code] Another helpful tip that I could not find out was if the management NICs would auto MDI/MDIX. So I just plugged in a straight-though and it works, so you don&#39;t need a crossover cable if you don&#39;t have one nearby. :) We now need to create a vPC peer-link between the two Nexus switches. In this example I am using two 10Gb links, which are the same interfaces on both Nexus switches. (Consistency is your friend) [code] interface Ethernet1/31 channel-group 1 mode active interface Ethernet1/32 channel-group 1 mode active [/code] Both switches are referring to port-channel one for interfaces 31 and 32. In the port-channel we will trunk the vlans we have created earlier along with setting this port-channel into a vpc peer-link. [code] interface port-channel1   switchport mode trunk   switchport trunk allowed vlan 25-35   vpc peer-link [/code] To keep the config short I am only referring to two FEXes in this example. (Remember so far in this post you would do exactly the same configuration if you just wanted to set up dual-homed FEXes) Starting with FEX 101 on SWITCH 1: [code] interface Ethernet1/1   description FEX-101-PORT-1   switchport mode fex-fabric   fex associate 101 channel-group 101 interface Ethernet1/2   description FEX-101-PORT-3   switchport mode fex-fabric   fex associate 101 channel-group 101 interface port-channel101   switchport mode fex-fabric   fex associate 101   vpc 101 [/code] Continue with FEX 101 on SWITCH 2: [code] interface Ethernet1/1   description FEX-101-PORT-2   switchport mode fex-fabric   fex associate 101 channel-group 101 interface Ethernet1/2   description FEX-101-PORT-4   switchport mode fex-fabric   fex associate 101 channel-group 101 interface port-channel101   switchport mode fex-fabric   fex associate 101   vpc 101 [/code] Start with FEX 102 on SWITCH 1: [code] interface Ethernet1/3   description FEX-102-PORT-1   switchport mode fex-fabric   fex associate 102 channel-group 102 interface Ethernet1/4   description FEX-102-PORT-3   switchport mode fex-fabric   fex associate 102 channel-group 102 interface port-channel102   switchport mode fex-fabric   fex associate 102   vpc 102 [/code] Continue with FEX 102 on SWITCH 2: [code] interface Ethernet1/3   description FEX-102-PORT-2   switchport mode fex-fabric   fex associate 102 channel-group 102 interface Ethernet1/4   description FEX-102-PORT-4   switchport mode fex-fabric   fex associate 102 channel-group 102 interface port-channel102   switchport mode fex-fabric   fex associate 102   vpc 102 [/code] So we have just setup two dual-homed FEXes on the 5672UP switches, here is where we can kick it up a notch to set up enhanced vPC. If I had a host that plugged into FEX 101 and FEX 102 and I wanted to set up etherchannel so that host could send traffic on out both links I would put the following configuration on &lt;strong&gt;BOTH&lt;/strong&gt; switches: [code] interface eth101/1/1, eth101/1/2 channel-group 2 mode active interface eth102/1/1, eth102/1/2 channel-group 2 mode active interface po2 switchport access vlan 25 [/code] Here is the result, this is now an enhanced vPC. Some key points of this setup is be consistent with your configuration, it all has to match on both switches otherwise expect problems to arise. Enhanced vPC offers some high level redundancy, by just looking at the picture below you could have multiple failures and servers and applications would still be accessible. This makes this type of setup a common practice if business needs demand it. So I&#39;ll stop it there like before I hope this information is helpful as a reference. Feel free to comment below if you have any questions. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/09/nexus-vpc-e.png&#34;&gt;&lt;img src=&#34;https://systemstechblog.files.wordpress.com/2014/09/vpc-nexus.png&#34; alt=&#34;vpc-nexus&#34;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;comments&#34;&gt;Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://gravatar.com/hostingnuggets&#34; title=&#34;hostingnuggets@gmail.com&#34;&gt;John Naggets&lt;/a&gt; - &lt;time datetime=&#34;2015-04-10 09:49:55&#34;&gt;Apr 5, 2015&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;What about using the QSFP ports instead of the Ethernet1/31 and Ethernet1/32 to connect both switches together using vPC, would that also work?&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-04-10 22:06:51&#34;&gt;Apr 5, 2015&lt;/time&gt;
&lt;p&gt;Hey John, Yes I would think that would work. However I don&#39;t know if I would use the QSFP ports for a vPC link. Those type of ports would be better for uplinks. I don&#39;t think you would be running that much traffic thorough a vPC link unless something is wrong. From what I looked at it seemed like you would want to balance it out. So for example if I had an uplink on 5k-1 to Core-1, I would also want an uplink on 5k-2 going to Core-1. That way the traffic does not need to go through the vPC unless there is a problem. Hope that helps.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Joel]( &#34;bigstyx@gmail.com&#34;) - &lt;time datetime=&#34;2014-12-16 03:51:59&#34;&gt;Dec 2, 2014&lt;/time&gt;
&lt;p&gt;Hello, are you sure of your drawing ? have a look at Fig 6-10 on ^this CISCO page : &lt;a href=&#34;http://www.cisco.com/en/US/docs/switches/datacenter/nexus5000/sw/mkt&#34;&gt;http://www.cisco.com/en/US/docs/switches/datacenter/nexus5000/sw/mkt&lt;/a&gt;_ops_guides/513_n1_1/n5k_enhanced_vpc.html&lt;/p&gt;
&lt;hr /&gt;
#### 
[Zak Post]( &#34;zakpost@gmail.com&#34;) - &lt;time datetime=&#34;2015-01-14 07:04:47&#34;&gt;Jan 3, 2015&lt;/time&gt;
&lt;p&gt;Thanks for this, it was easy to follow up to get a working configuration.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-01-14 19:45:47&#34;&gt;Jan 3, 2015&lt;/time&gt;
&lt;p&gt;Glad you were able to use it. :)&lt;/p&gt;
&lt;hr /&gt;
#### 
[Nishant]( &#34;nishanth.tm@gmail.com&#34;) - &lt;time datetime=&#34;2015-09-04 06:24:45&#34;&gt;Sep 5, 2015&lt;/time&gt;
&lt;p&gt;Thanks, I found your post really helpful. I am in the process of implementing eVPC on 5672 UP. I have few questions with respect to the same, 1.You had mentioned that the host/server that connects to these different Fexes must support Active/Active NICs, does it mean that the host or server should support LACP? What if my host doesn&#39;t support LACP? 2.Can I dual home a VMware ESXi (active-active NICs on route based originating virtual port ID load balancing policy) to the fexes? … 3.Can I configure the fex port channel to static ( mode on) instead of active or lacp ? interface eth101/1/1, eth101/1/2 channel-group 2 mode on interface eth102/1/1, eth102/1/2 channel-group 2 mode on interface po2 switchport access vlan 25 Thanks in advance, Nishant&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2014-12-16 20:25:43&#34;&gt;Dec 2, 2014&lt;/time&gt;
&lt;p&gt;Hey Joel, Thanks for pointing that out I fixed the image and thanks for the reference.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-01-26 22:17:26&#34;&gt;Jan 1, 2015&lt;/time&gt;
&lt;p&gt;Hey Kerry, Yes you would be able to add 4 ports in a port-channel to the FEXes. You could almost do the same thing with two 5600s without the FEXes if you wanted. Just setup a VPC and port-channel on both 5600s instead of using the FEXes.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Kerry]( &#34;kerry.maguire@co-opngn.net&#34;) - &lt;time datetime=&#34;2015-01-26 14:46:53&#34;&gt;Jan 1, 2015&lt;/time&gt;
&lt;p&gt;Thank you for this write up, great information. In my setup the host has 2 10g NICS for a total of 4 uplinks. Would I be able to follow your example here for PO2 but add in all 4 ports? (Ex 101/1/1-4 and 102/1/1-4&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-09-07 21:48:25&#34;&gt;Sep 1, 2015&lt;/time&gt;
&lt;p&gt;Hey Nishant, You don&#39;t have to have Active/Active on the FEXs, you can have a single uplink from a host to a FEX and treat it like a standard port. The example that I showed is something you could do if you had a host that supported LACP. I also believe you can turn off LACP if you needed to and manually put up a port-channel on the FEX. Here is some more info: (Figure 6-5) &lt;a href=&#34;http://www.cisco.com/en/US/docs/switches/datacenter/nexus5000/sw/mkt&#34;&gt;http://www.cisco.com/en/US/docs/switches/datacenter/nexus5000/sw/mkt&lt;/a&gt;_ops_guides/513_n1_1/n5k_enhanced_vpc.html&lt;/p&gt;
&lt;hr /&gt;
#### 
[John](http://gravatar.com/hostingnuggets &#34;hostingnuggets@gmail.com&#34;) - &lt;time datetime=&#34;2016-01-30 05:42:16&#34;&gt;Jan 6, 2016&lt;/time&gt;
&lt;p&gt;Does this setup really need 8 network connections between the two nexus 5k and the two nexus 2k? Would it also work with only 4 network connections instead? and in that case would it still be called &amp;quot;dual homed&amp;quot;? I am not sure to understand the advantage of 8 network connections.&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-01-30 08:54:29&#34;&gt;Jan 6, 2016&lt;/time&gt;
&lt;p&gt;Hey John, You could use 4 connections instead of 8 you just loose the amount of bandwidth available instead of 40Gbps you would have 20Gbps that is available to the 2ks. It would also still be called a dual homed setup because that 2k switch is connected two different 5k switches. Ryan.&lt;/p&gt;
&lt;hr /&gt;
#### 
[hostingnuggets](http://couleur3bestof.wordpress.com &#34;hostingnuggets@gmail.com&#34;) - &lt;time datetime=&#34;2016-04-24 07:25:51&#34;&gt;Apr 0, 2016&lt;/time&gt;
&lt;p&gt;Ryan, I was wondering when connecting your server redundatly on Po2 shouldn&#39;t you specify a VPC? For instance you have: interface po2 switchport access vlan 25 but as far as I understand shouldn&#39;t it be assigned a VPC, for example: interface po2 switchport access vlan 25 vpc 2 ?&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2016-04-25 17:45:32&#34;&gt;Apr 1, 2016&lt;/time&gt;
&lt;p&gt;You are correct if you would have connected the server directly to the 5ks you have to specify a VPC or if you had a single FEX connected to the 5k. In this example however I&#39;m using FEXes which already have a VPC configured from both 5ks and I&#39;m using port-channels off of those FEXes this is called &amp;quot;Enhanced vPC&amp;quot;. There is a difference between them, when you create an Enhanced vPC you don&#39;t specify a VPC on the FEXes because there is already a vPC created upstream. Regular vPC with FEXes: &lt;a href=&#34;http://www.cisco.com/c/en/us/products/collateral/switches/nexus-5000-series-switches/configuration_guide_c07-543563.html&#34;&gt;LINK&lt;/a&gt; Enhanced vPC with FEXes: &lt;a href=&#34;http://www.cisco.com/c/en/us/td/docs/switches/datacenter/nexus5000/sw/layer2/513_n1_1/b_Cisco_n5k_layer2_config_gd_rel_513_N1_1/b_Cisco_n5k_layer2_config_gd_rel_513_N1_1_chapter_01010.html&#34;&gt;LINK&lt;/a&gt; Hope that Helps, Ryan&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Some QoS Guidelines</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2014/08/some-qos-guidelines/</link>
      <pubDate>Wed, 06 Aug 2014 02:15:54 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2014/08/some-qos-guidelines/</guid>
      <description>
        
          &lt;p&gt;When I started taking classes from the Cisco CCNA Discover books years ago, I remember for the first part of the book it talked about QoS and the theory behind it. To me QoS was a very interesting but after a chapter or two we never mentioned it again or really knew how to configure it. It seemed like it disappeared but it always something being tested on so we know it was there, somewhere… QoS can be a little boring and it does get a reputation of being difficult to understand, like where and how do I implement QoS? Most of the time QoS is not configured which causes applications to suffer in the end have an impact of end user performance. Throwing bandwidth to fix the problem is usually a costly risk, and remember you still may have the same performance problems. What also makes it interesting is you may have an environment that runs fine without QoS, so why do you need it? Well there&#39;s no easy button to fix or find these unanswered questions about QoS. In this post I&#39;m referencing guidelines of where to start looking which will hopefully help answer some of those unanswered questions. :) A good place to start is at RFC 4594, (&lt;a href=&#34;http://tools.ietf.org/html/rfc4594&#34;&gt;Configuration Guidelines for DiffServ Service Classes&lt;/a&gt;) which provides an industry best practice on QoS. These are not standards that the RFC published but a good FYI. One of the reasons why RFC 4594 is not a standard is to work with what the individual business requires. For example VoIP/Video may not be the number one priority in the network for some businesses. Cisco has even made a slight change with RFC 4594 by switching the Call-Signaling and Broadcast Video markings to CS3 and CS5. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/08/cisco-modified-rfc-4594.jpg&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/08/cisco-modified-rfc-4594.jpg&#34; alt=&#34;Cisco-Modified-RFC-4594&#34;&gt;&lt;/a&gt; Crawl, walk, run is the method Cisco recognizes as not all enterprises are ready for such a complex QoS design. Starting from a phased approach is often more successful than an all-in one approach. (Rome wasn’t built in a day) Looking at the three different classes below, it would be much simpler to start at a 4-Class model and work our way up if the business needs demand it. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/08/cisco-qos-class-model.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/08/cisco-qos-class-model.png&#34; alt=&#34;Cisco-QoS-Class-model&#34;&gt;&lt;/a&gt; Keep in mind that depending on the hardware you are running there are different types QoS syntax, like MLS QoS, MQC, and C3PL. These all have different QoS capabilities depending on the type of QoS syntax you&#39;re using. Catalyst 2960/3560/3750 are the last platforms to use MLS QoS.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;QoS is disabled by default and must be globally enabled with the mls qos command.&lt;/li&gt;
&lt;li&gt;Once enabled, all ports are set to an untrusted port-state.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Catalyst 3650/3850 and 4500 are using MQC (Modular QoS Command Line)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;QoS is enabled by default.&lt;/li&gt;
&lt;li&gt;All ports trust at layer 2 and layer 3 by default.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Catalyst 6500/6880 is using the Cisco Common Classification Policy Language (C3PL)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;QoS is enabled by default (Sup2T) – Disabled by default (Sup720)&lt;/li&gt;
&lt;li&gt;All ports trust at layer 2 and layer 3 by default.&lt;/li&gt;
&lt;li&gt;C3PL presents queuing policies similar to MQC.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some key points:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The primary role of QoS in campus networks is &lt;strong&gt;not&lt;/strong&gt; to control latency or jitter (as it is in the WAN/VPN), but to manage packet loss.&lt;/li&gt;
&lt;li&gt;In GE/10GE campus networks, it takes only a few milliseconds of congestion to cause instantaneous buffer overruns resulting in packet drops.&lt;/li&gt;
&lt;li&gt;Rich media applications, particularly HD video applications are extremely sensitive to packet drops, to the point where even 1 packet dropped in 10,000 is visible by the end-user.&lt;/li&gt;
&lt;li&gt;Always perform QoS in hardware and not software when the choice exists.&lt;/li&gt;
&lt;li&gt;Classify and mark applications as close to their sources as technically and administratively possible.&lt;/li&gt;
&lt;li&gt;Police unwanted traffic flows as close to their sources as possible.&lt;/li&gt;
&lt;li&gt;Enable queuing policies at every node where the potential for congestion exists.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I hope this information is helpful in at least getting started in QoS. Feel free to post any questions or your experience in QoS. I have also linked some Cisco references about QoS. &lt;a href=&#34;http://www.cisco.com/en/US/docs/solutions/Enterprise/Video/qosmrn.html&#34;&gt;QoS Design Strategy At-A-Glance&lt;/a&gt; &lt;a href=&#34;http://www.cisco.com/en/US/docs/solutions/Enterprise/Video/qoscampusaag.html&#34;&gt;Campus QoS Design At-A-Glance&lt;/a&gt; &lt;a href=&#34;http://www.cisco.com/en/US/docs/solutions/Enterprise/Video/qoscampuscat3xxxaag.html&#34;&gt;Cisco Catalyst 3560/3750 QoS Design At-A-Glance&lt;/a&gt; &lt;a href=&#34;http://www.cisco.com/en/US/docs/solutions/Enterprise/Video/qoscampuscat3x50aag.html&#34;&gt;Cisco Catalyst 3650/3850 QoS Design At-A-Glance&lt;/a&gt; &lt;a href=&#34;http://www.cisco.com/en/US/docs/solutions/Enterprise/Video/qoscampuscat4500aag.html&#34;&gt;Cisco Catalyst 4500 QoS Design At-A-Glance&lt;/a&gt; &lt;a href=&#34;http://www.cisco.com/en/US/docs/solutions/Enterprise/Video/qoscampuscat6500sup2taag.html&#34;&gt;Cisco Catalyst 6500 QoS Design At-A-Glance&lt;/a&gt; &lt;a href=&#34;http://www.cisco.com/c/dam/en/us/td/docs/solutions/Enterprise/Video/autoqosmediacampus.pdf&#34;&gt;Cisco Campus AutoQoS SRND4 At-A-Glance&lt;/a&gt; &lt;a href=&#34;http://www.cisco.com/en/US/docs/solutions/Enterprise/WAN_and_MAN/QoS_SRND_40/QoSIntro_40.html&#34;&gt;Enterprise Quality of Service Design 4.0&lt;/a&gt; &lt;a href=&#34;http://www.cisco.com/en/US/docs/solutions/Enterprise/WAN_and_MAN/QoS_SRND_40/QoSCampus_40.html&#34;&gt;Campus QoS Design 4.0&lt;/a&gt; Reading Material: &lt;a href=&#34;http://www.ciscopress.com/store/end-to-end-qos-network-design-quality-of-service-for-9781587143694&#34;&gt;End-to-End QoS Network Design: Quality of Service for Rich-Media &amp;amp; Cloud Networks, 2nd Edition&lt;/a&gt;&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Install RSYSLOG &amp; LogAnalyzer on CentOS 6.5</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2014/06/install-rsyslog-loganalyzer-on-centos-6.5/</link>
      <pubDate>Wed, 11 Jun 2014 12:00:54 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2014/06/install-rsyslog-loganalyzer-on-centos-6.5/</guid>
      <description>
        
          &lt;h2 id=&#34;rsyslog-loganalyzerhttpsystemstechblogfileswordpresscom201406rsyslog-loganalyzerpngw300httpssystemstechblogfileswordpresscom201406rsyslog-loganalyzerpngi-am-looking-at-rsyslog-which-is-fast-syslog-system-and-loganalyzer-as-an-upfront-web-gui-for-those-logs-the-loganalyzer-application-offers-searching-of-various-syslogs-all-of-which-is-open-source-and-available-to-download-in-this-guide-i-will-go-through-the-steps-to-get-these-two-applications-to-work-together-and-in-the-end-of-this-tutorial-we-should-have-a-working-syslog-system-ready-to-take-logs-the-operating-system-i-am-using-is-the-latest-centos-65-minimal-lets-get-started-using-vmware-workstation-the-first-thing-i-have-done-is-installed-a-minimal-version-of-centos-on-the-vm-the-vm-has-30gb-on-the-disk-with-one-processor-and-two-cores-with-2gb-of-ram-which-took-about-10-minutes-to-install-once-the-vm-rebooted-i-login-into-the-root-account-and-ran-the-command-yum-update-and-accepted-all-the-updates-the-operating-system-was-able-to-find-which-took-about-10-minutes-lets-first-added-some-housekeeping-packages-like-wget-and-nano-yum-install-wget-nano-the-minimal-install-does-not-include-wget-or-nano-nano-is-a-good-text-editor-for-people-who-dont-want-to-use-vi--i-have-also-disabled-iptables-service-iptables-stop--chkconfig-iptables-off--in-this-demo-but-this-is-not-recommend-in-a-production-environment-first-lets-install-apache-codeyum-install-httpdcode-start-the-service-codeservice-httpd-startcode-lets-make-sure-the-service-automatically-when-the-server-reboots-codechkconfig-httpd-oncode-lets-test-to-make-sure-you-can-get-to-the-sample-webpage-httpyour-server-ip-addresshttpyour-server-ip-address-if-it-is-working-should-look-something-like-this-apche2httpsystemstechblogfileswordpresscom201406rsyslog-1pngw300httpssystemstechblogfileswordpresscom201406rsyslog-1png-second-install-mysql-codeyum-install-mysql-mysql-servercode-after-install-is-finished-start-it-up-codeservice-mysqld-startcode-like-apache-lets-make-sure-this-service-starts-when-the-server-reboots-codechkconfig-mysqld-oncode-for-security-change-the-mysql-admin-password-codemysqladmin--u-root-password-yournewpasswordcode-lets-test-mysql-by-logging-into-the-database-codemysql--u-root--pcode-did-you-get-something-like-below-codewelcome-to-the-mysql-monitor-commands-end-with--or-g-your-mysql-connection-id-is-4-server-version-5173-source-distribution-copyright-c-2000-2013-oracle-andor-its-affiliates-all-rights-reserved-oracle-is-a-registered-trademark-of-oracle-corporation-andor-its-affiliates-other-names-may-be-trademarks-of-their-respective-owners-type-help-or-h-for-help-type-c-to-clear-the-current-input-statement-mysqlcode-thrid-install-php-codeyum-install-php-php-mysql-php-gdcode-once-finished-installing-create-a-phpinfo-page-codenano-varwwwhtmltestphpcode-type-the-following-and-save-the-testphp-codephp-phpinfo-code-restart-the-apache-service-codeservice-httpd-restartcode-open-up-your-browser-and-type-httpyour-server-ip-addresstestphp-you-should-get-something-like-below-php533httpsystemstechblogfileswordpresscom201406rsyslog-2pngw300httpssystemstechblogfileswordpresscom201406rsyslog-2png-fourth-install-rsyslog-a-couple-things-first-centos-uses-an-older-version-of-rsyslog-so-why-not-use-the-latest-stable-version-of-rsyslog-codewget-httprpmsadisconcomv8-stablersyslogrepo-mv-rsyslogrepo-etcyumreposdrsyslogrepo-yum-install-rsyslog---skip-brokencode-when-the-server-reboots-lets-start-this-service-automatically-codechkconfig-rsyslog-oncode-rsyslog-has-a-createdb-script-in-the-following-location-usrsharedocrsyslog-mysql-821createdbsql-you-can-leave-this-alone-or-you-can-optionally-change-the-database-name-dont-be-boring-in-this-example-i-changed-it-to-rsyslogdb--still-a-little-boring-codenano-usrsharedocrsyslog-mysql-821createdbsql-create-database-rsyslogdb-use-rsyslogdb-create-table-systemevents-code-lets-create-the-rsyslogdb-database-codemysql--u-root--p--usrsharedocrsyslog-mysql-821createdbsqlcode-should-be-able-to-access-the-database-codemysql--u-root--p-rsyslogdbcode-for-security-add-a-dedicated-administrator-called-rsyslogdbadm-for-only-this-database-with-a-password-of-what-you-want-codegrant-all-on-rsyslogdb-to-rsyslogdbadminlocalhost-identified-by-newpasswordhere-flush-privileges-exitcode-did-it-all-work-lets-test-logging-in-and-exit-mysql-codemysql--u-rsyslogdbadmin--p-rsyslogdbcode-uncomment-the-following-modules-in-the-rsyslogconf-located-in-etcrsyslogconf-file-and-add-the-mysql-module-line-code-provides-udp-syslog-reception--for-parameters-see-httpwwwrsyslogcomdocimudphtml-moduleloadimudp--needs-to-be-done-just-once-inputtypeimudp-port514--provides-tcp-syslog-reception--for-parameters-see-httpwwwrsyslogcomdocimtcphtml-moduleloadimtcp--needs-to-be-done-just-once-inputtypeimtcp-port514--load-the-mysql-module-moduleloadommysqlcode-you-may-also-want-to-edit-the-rules-section-to-disable-logging-to-the-console-in-this-example-i-said-log-only-syslogs-that-have-a-level-of-emergency-to-the-console-code-rules---log-all-kernel-messages-to-the-console--logging-much-else-clutters-up-the-screen-emerg-devconsolecode-also-note-that-rsyslog-logs-everything-it-sees-to-a-log-folder-by-default-as-well-if-you-are-using-loganalyzer-to-view-logs-like-in-our-example-we-are-storing-those-logs-in-a-mysql-database-as-well-depending-on-how-much-logging-you-have-you-may-either-want-to-disable-this-and-have-loganalyzer-do-it-all-or-setup-a-cron-job-to-drop-these-once-in-a-while-code-log-anything-except-mail-of-level-info-or-higher--dont-log-private-authentication-messages-infomailnoneauthprivnonecronnone-varlogmessages--the-authpriv-file-has-restricted-access-authpriv-varlogsecure--log-all-the-mail-messages-in-one-place-mail--varlogmaillog--log-cron-stuff-cron-varlogcron--everybody-gets-emergency-messages-emerg---save-news-errors-of-level-crit-and-higher-in-a-special-file-uucpnewscrit-varlogspooler--save-boot-messages-also-to-bootlog-local7-varlogbootlogcode-in-the-forwarding-rule-add-the-following-this-tells-rsyslog-to-send-all-syslogs-to-the-mysql-database-code--begin-forwarding-rule---lets-forward-all-logs-to-the-mysql-database--ommysql127001rsyslogdbrsyslogdbadminyourpassword-code-save-and-exit-the-configuration-file-and-restart-the-rsyslog-service-to-load-the-new-configuration-codeservice-rsyslog-restartcode-you-should-now-have-some-logs-in-mysql-database-check-it-by-using-the-following-codemysql--u-rsyslogdbadmin--p-rsyslogdb-mysql-select-count-from-systemevents-------------count--------------2-------------code-fifth-download-the-loganalyzer-web-application-codewget-httpdownloadadisconcomloganalyzerloganalyzer-365targzcode-unpack-the-tarball-codetar-zxvf-loganalyzer-365targzcode-copy-the-install-files-into-apache-codecp--r-loganalyzer-365src-varwwwhtmlloganalyzer-cp--r-loganalyzer-365contrib-varwwwhtmlloganalyzercode-lets-go-into-those-folders-codecd-varwwwhtmlloganalyzercode-add-some-execution-permission-to-these-files-codechmod-x-configuresh-secureshcode-run-the-configuresh-which-will-create-a-blank-configphp-file-as-well-as-set-write-access-coderootlocalhost--configureshcode-to-complete-the-install-of-loganalyzer-we-have-to-following-the-prompts-on-the-web-browse-to-httpyour-server-ip-addressloganalyzer-you-should-get-an-error-page-like-below-select-the-here-link-to-start-the-install-loganalyzer-1httpsystemstechblogfileswordpresscom201406rsyslog-3pngw300httpssystemstechblogfileswordpresscom201406rsyslog-3pngloganalyzer-will-do-a-couple-of-tests-to-verify-configuration-click-next-to-start-them-loganalyzer-2httpsystemstechblogfileswordpresscom201406rsyslog-4pngw300httpssystemstechblogfileswordpresscom201406rsyslog-4png-select-next-if-the-configphp-file-can-be-written-loganalyzer-3httpsystemstechblogfileswordpresscom201406rsyslog-5pngw300httpssystemstechblogfileswordpresscom201406rsyslog-5png-in-the-basic-configuration-use-the-following-image-below-to-reference-your-installation-loganalyzer-4httpsystemstechblogfileswordpresscom201406rsyslog-6pngw300httpssystemstechblogfileswordpresscom201406rsyslog-6png-the-next-page-is-to-create-tables-in-the-mysql-database-go-ahead-and-select-next-loganalyzer-5httpsystemstechblogfileswordpresscom201406rsyslog-7pngw300httpssystemstechblogfileswordpresscom201406rsyslog-7png-the-next-page-displays-any-errors-if-any-sql-results-failed-select-next-if-you-dont-have-any-failed-statements-loganalyzer-6httpsystemstechblogfileswordpresscom201406rsyslog-8pngw300httpssystemstechblogfileswordpresscom201406rsyslog-8png-in-step-6-we-create-a-main-user-account-to-log-into-the-loganalyzer-web-app-loganalyzer-7httpsystemstechblogfileswordpresscom201406rsyslog-9pngw300httpssystemstechblogfileswordpresscom201406rsyslog-9png-in-step-7-we-create-our-source-for-syslog-messages-follow-the-image-below-for-a-reference-loganalyzer-8httpsystemstechblogfileswordpresscom201406rsyslog-10pngw300httpssystemstechblogfileswordpresscom201406rsyslog-10png-looks-like-we-are-done-the-select-the-here-link-to-go-to-the-login-page-loganalyzer-9httpsystemstechblogfileswordpresscom201406rsyslog-11pngw300httpssystemstechblogfileswordpresscom201406rsyslog-11png-loganalyzer-10httpsystemstechblogfileswordpresscom201406rsyslog-12pngw300httpssystemstechblogfileswordpresscom201406rsyslog-12png-done-some-last-things-to-check-with-loganalyzer-is-it-does-dns-lookups-of-ip-address-which-can-slow-down-the-website-if-you-have-a-lot-of-ips-in-your-logs-to-disable-that-feature-go-to-admin-center--uncheck-resolve-ip-addresses-using-dns-i-have-personally-pushed-up-to-500-syslog-messages-every-10-seconds-thanks-to-the-kiwi-syslog-generator-and-did-not-see-any-performance-hits-other-than-the-dns-issue-hope-this-information-is-helpful-let-me-know-if-you-have-used-loganalyzer-in-a-production-environment-are-there-any-gotchas-i-have-just-been-testing-it-on-my-lab-and-so-far-so-good-links-centoshttpwwwcentosorg-mysqlhttpwwwmysqlcom-rsysloghttpwwwrsyslogcom-loganalyzerhttploganalyzeradisconcom&#34;&gt;&lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-loganalyzer.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-loganalyzer.png?w=300&#34; alt=&#34;rsyslog-loganalyzer&#34;&gt;&lt;/a&gt;I am looking at rsyslog which is fast syslog system and Loganalyzer as an upfront web GUI for those logs. The Loganalyzer application offers searching of various syslogs, all of which is open source and available to download. In this guide I will go through the steps to get these two applications to work together and in the end of this tutorial we should have a working syslog system ready to take logs! The operating system I am using is the latest CentOS 6.5 minimal. Let&#39;s get started. Using VMware Workstation the first thing I have done is installed a minimal version of CentOS on the VM. The VM has 30GB on the disk with one processor and two cores with 2GB of RAM. (Which took about 10 minutes to install) Once the VM rebooted I login into the root account and ran the command &lt;strong&gt;yum update&lt;/strong&gt; and accepted all the updates the operating system was able to find (Which took about 10 minutes) Let’s first added some housekeeping packages like wget and nano &lt;strong&gt;yum install wget nano&lt;/strong&gt; .The minimal install does not include wget, or nano. Nano is a good text editor for people who don’t want to use VI :) I have also disabled iptables (&lt;strong&gt;service iptables stop&lt;/strong&gt; &amp;amp; &lt;strong&gt;chkconfig iptables off&lt;/strong&gt; ) in this demo but this is not recommend in a production environment. &lt;strong&gt;FIRST&lt;/strong&gt;: Let’s install apache: [code]yum install httpd[/code] Start the Service: [code]service httpd start[/code] Let’s make sure the service automatically when the server reboots: [code]chkconfig httpd on[/code] Let’s test to make sure you can get to the sample webpage, &lt;a href=&#34;http://your-server-ip-address&#34;&gt;http://your-server-ip-address&lt;/a&gt; if it is working should look something like this. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-1.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-1.png?w=300&#34; alt=&#34;apche2&#34;&gt;&lt;/a&gt; &lt;strong&gt;SECOND&lt;/strong&gt;: Install MySQL [code]yum install mysql mysql-server[/code] After install is finished start it up: [code]service mysqld start[/code] Like apache, let’s make sure this service starts when the server reboots: [code]chkconfig mysqld on[/code] For security change the MySQL Admin password: [code]mysqladmin -u root password &#39;YourNewPassword&#39;[/code] Let’s Test MySQL, by logging into the database: [code]mysql -u root -p[/code] Did you get something like below? [code]Welcome to the MySQL monitor. Commands end with ; or \g. Your MySQL connection id is 4 Server version: 5.1.73 Source distribution Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement. mysql&amp;gt;[/code] &lt;strong&gt;THRID&lt;/strong&gt;: Install PHP, [code]yum install php php-mysql php-gd[/code] Once finished installing create a phpinfo page. [code]nano /var/www/html/test.php[/code] Type the following and save the test.php [code]&lt;?php phpinfo(); ?&gt;[/code] Restart the Apache Service [code]service httpd restart[/code] Open up your browser and type http://your-server-ip-address/test.php You should get something like below. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-2.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-2.png?w=300&#34; alt=&#34;php533&#34;&gt;&lt;/a&gt; &lt;strong&gt;FOURTH&lt;/strong&gt;: Install Rsyslog, A couple things first, CentOS uses an older version of rsyslog, so why not use the latest stable version of rsyslog. [code]wget &lt;a href=&#34;http://rpms.adiscon.com/v8-stable/rsyslog.repo&#34;&gt;http://rpms.adiscon.com/v8-stable/rsyslog.repo&lt;/a&gt; mv rsyslog.repo /etc/yum.repos.d/rsyslog.repo yum install rsyslog* --skip-broken[/code] When the server reboots let’s start this service automatically. [code]chkconfig rsyslog on[/code] Rsyslog has a createDB script in the following location: &lt;strong&gt;/usr/share/doc/rsyslog-mysql-8.2.1/createDB.sql&lt;/strong&gt;, you can leave this alone or you can optionally change the database name. (Don’t be boring) In this example I changed it to rsyslogdb (… still a little boring) [code]nano /usr/share/doc/rsyslog-mysql-8.2.1/createDB.sql CREATE DATABASE rsyslogdb; USE rsyslogdb; CREATE TABLE SystemEvents [...][/code] Let’s create the rsyslogdb database: [code]mysql -u root -p &amp;lt; /usr/share/doc/rsyslog-mysql-8.2.1/createDB.sql[/code] Should be able to access the database: [code]mysql -u root -p rsyslogdb[/code] For security add a dedicated administrator called rsyslogdbadm for only this database with a password of what you want. [code]GRANT ALL ON rsyslogdb.* TO rsyslogdbadmin@localhost IDENTIFIED BY &#39;NewPasswordHere&#39;; FLUSH PRIVILEGES; exit[/code] Did it all work? Let’s test logging in and exit mysql. [code]mysql -u rsyslogdbadmin -p rsyslogdb[/code] Uncomment the following modules in the rsyslog.conf (Located in &lt;strong&gt;/etc/rsyslog.conf&lt;/strong&gt;) file and add the MySQL module line. [code]# Provides UDP syslog reception # for parameters see &lt;a href=&#34;http://www.rsyslog.com/doc/imudp.html&#34;&gt;http://www.rsyslog.com/doc/imudp.html&lt;/a&gt; module(load=&amp;quot;imudp&amp;quot;) # needs to be done just once input(type=&amp;quot;imudp&amp;quot; port=&amp;quot;514&amp;quot;) # Provides TCP syslog reception # for parameters see &lt;a href=&#34;http://www.rsyslog.com/doc/imtcp.html&#34;&gt;http://www.rsyslog.com/doc/imtcp.html&lt;/a&gt; module(load=&amp;quot;imtcp&amp;quot;) # needs to be done just once input(type=&amp;quot;imtcp&amp;quot; port=&amp;quot;514&amp;quot;) # Load the MySQL Module module(load=&amp;quot;ommysql&amp;quot;)[/code] You may also want to edit the Rules section to disable logging to the console, in this example I said log only syslogs that have a level of emergency to the console. [code]#### RULES #### # Log all kernel messages to the console. # Logging much else clutters up the screen. *.emerg* /dev/console[/code] Also note that rsyslog logs everything it sees to a log folder by default as well. If you are using LogAnalyzer to view logs like in our example we are storing those logs in a MySQL database as well. Depending on how much logging you have you may either want to disable this and have LogAnalyzer do it all or setup a cron job to drop these once in a while. [code]# Log anything (except mail) of level info or higher. # Don&#39;t log private authentication messages! *.info;mail.none;authpriv.none;cron.none /var/log/messages # The authpriv file has restricted access. authpriv.* /var/log/secure # Log all the mail messages in one place. mail.* -/var/log/maillog # Log cron stuff cron.* /var/log/cron # Everybody gets emergency messages *.emerg * # Save news errors of level crit and higher in a special file. uucp,news.crit /var/log/spooler # Save boot messages also to boot.log local7.* /var/log/boot.log[/code] In the forwarding rule add the following, this tells rsyslog to send all syslogs to the MySQL database. [code]# ### begin forwarding rule ### # Let&#39;s forward all logs to the MySQL Database *.* :ommysql:127.0.0.1,rsyslogdb,rsyslogdbadmin,YourPassword …[/code] Save and exit the configuration file and restart the Rsyslog service to load the new configuration. [code]service rsyslog restart[/code] You should now have some logs in MySQL Database, check it by using the following: [code]mysql -u rsyslogdbadmin -p rsyslogdb mysql&amp;gt; select count(*) from SystemEvents; +----------+ | count(*) | +----------+ |        2 | +----------+ [/code] &lt;strong&gt;FIFTH&lt;/strong&gt;: Download the LogAnalyzer web application, [code]wget &lt;a href=&#34;http://download.adiscon.com/loganalyzer/loganalyzer-3.6.5.tar.gz&#34;&gt;http://download.adiscon.com/loganalyzer/loganalyzer-3.6.5.tar.gz&lt;/a&gt;[/code] Unpack the tarball: [code]tar zxvf loganalyzer-3.6.5.tar.gz[/code] Copy the install files into Apache. [code]cp -r loganalyzer-3.6.5/src/ /var/www/html/loganalyzer cp -r loganalyzer-3.6.5/contrib/* /var/www/html/loganalyzer/[/code] Let’s go into those folders: [code]cd /var/www/html/loganalyzer/[/code] Add some execution permission to these files: [code]chmod +x configure.sh secure.sh[/code] Run the ./configure.sh, which will create a blank config.php file as well as set write access. [code][root@localhost ]# ./configure.sh[/code] To complete the install of LogAnalyzer we have to following the prompts on the web. Browse to http://your-server-ip-address/loganalyzer You should get an error page like below. Select the here link to start the install. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-3.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-3.png?w=300&#34; alt=&#34;loganalyzer-1&#34;&gt;&lt;/a&gt;Loganalyzer will do a couple of tests to verify configuration click next to start them. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-4.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-4.png?w=300&#34; alt=&#34;loganalyzer-2&#34;&gt;&lt;/a&gt; Select Next if the config.php file can be written. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-5.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-5.png?w=300&#34; alt=&#34;loganalyzer-3&#34;&gt;&lt;/a&gt; In the Basic Configuration use the following image below to reference your installation. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-6.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-6.png?w=300&#34; alt=&#34;loganalyzer-4&#34;&gt;&lt;/a&gt; The next page is to create tables in the MySQL database go ahead and select next. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-7.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-7.png?w=300&#34; alt=&#34;loganalyzer-5&#34;&gt;&lt;/a&gt; The next page displays any errors if any SQL Results failed, select next if you don&#39;t have any failed statements. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-8.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-8.png?w=300&#34; alt=&#34;loganalyzer-6&#34;&gt;&lt;/a&gt; In step 6 we create a main user account to log into the LogAnalyzer web app. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-9.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-9.png?w=300&#34; alt=&#34;loganalyzer-7&#34;&gt;&lt;/a&gt; In step 7, we create our source for syslog messages, follow the image below for a reference. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-10.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-10.png?w=300&#34; alt=&#34;loganalyzer-8&#34;&gt;&lt;/a&gt; Looks like we are done the select the &amp;quot;here&amp;quot; link to go to the login page. &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-11.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-11.png?w=300&#34; alt=&#34;loganalyzer-9&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://systemstechblog.files.wordpress.com/2014/06/rsyslog-12.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2014/06/rsyslog-12.png?w=300&#34; alt=&#34;loganalyzer-10&#34;&gt;&lt;/a&gt; Done! Some last things to check with LogAnalyzer is it does DNS lookups of IP address which can slow down the website if you have a lot of IPs in your logs. To disable that feature go to &lt;strong&gt;Admin Center -&amp;gt;Uncheck Resolve IP Addresses using DNS.&lt;/strong&gt; I have personally pushed up to 500 syslog messages every 10 seconds thanks to the Kiwi Syslog Generator and did not see any performance hits other than the DNS issue. Hope this information is helpful, let me know if you have used LogAnalyzer in a production environment, are there any gotchas? I have just been testing it on my lab and so far so good. &lt;strong&gt;Links:&lt;/strong&gt; &lt;a href=&#34;http://www.centos.org/&#34;&gt;CentOS&lt;/a&gt; &lt;a href=&#34;http://www.mysql.com/&#34;&gt;MySQL&lt;/a&gt; &lt;a href=&#34;http://www.rsyslog.com/&#34;&gt;RSYSLOG&lt;/a&gt; &lt;a href=&#34;http://loganalyzer.adiscon.com/&#34;&gt;LogAnalyzer&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;comments&#34;&gt;Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;%22belalhossain53@gmail.com%22&#34;&gt;Md. Belal Hossain&lt;/a&gt; - &lt;time datetime=&#34;2015-07-07 06:04:22&#34;&gt;Jul 2, 2015&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Nice!!&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-01-09 22:17:35&#34;&gt;Jan 5, 2015&lt;/time&gt;
&lt;p&gt;Glad it worked out.&lt;/p&gt;
&lt;hr /&gt;
#### 
[wim]( &#34;whmaas@hotmail.com&#34;) - &lt;time datetime=&#34;2015-01-09 03:30:33&#34;&gt;Jan 5, 2015&lt;/time&gt;
&lt;p&gt;thanks!!! tried several howto&#39;s for Centos with loganalizer....this is the only one works for me&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://ciscoskills.net/ &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2015-10-05 19:21:31&#34;&gt;Oct 1, 2015&lt;/time&gt;
&lt;p&gt;Hey Frank, Sorry for the late reply, in this install doc I&#39;m using Centos 6.5. I know things have changed between Centos 6.5 and 7 so what might work with Centos 6.5 may need some tweaking in Centos 7. I have personally not tested Loganalyzer on Centos 7, I would guess it works but that is only a guess. I would also use the latest stable software versions that are available for LogAnalyzer and RSYSLOG. This looks to be a permission issue with apache, I would verify apache has rights to write the config.php file. Hope that Helps, Ryan&lt;/p&gt;
&lt;hr /&gt;
#### 
[Jan Stasik]( &#34;janostasik@icloud.com&#34;) - &lt;time datetime=&#34;2015-10-21 08:22:47&#34;&gt;Oct 3, 2015&lt;/time&gt;
&lt;p&gt;HI Frank, I had same issue. I have followed the guide, of course, modified it to our needs. We have an issue on CentOS7 because of SElinux. Here is what i did: chown apache:apache -R /var/www/html/loganalyzer/ cd /var/www/html/loganalyzer/ find . -type f -exec chmod 0644 {} \; find . -type d -exec chmod 0755 {} \; chcon -t httpd_sys_content_t /var/www/html/loganalyzer -R chcon -t httpd_sys_rw_content_t /var/www/html/loganalyzer -R In my case I allowed to Apache write permission for full folder. Here is detailed description about each step. &lt;a href=&#34;http://blog.lysender.com/2015/07/centos-7-selinux-php-apache-cannot-writeaccess-file-no-matter-what/&#34;&gt;http://blog.lysender.com/2015/07/centos-7-selinux-php-apache-cannot-writeaccess-file-no-matter-what/&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
#### 
[Frank]( &#34;frankdaku@gmail.com&#34;) - &lt;time datetime=&#34;2015-09-30 09:46:59&#34;&gt;Sep 3, 2015&lt;/time&gt;
&lt;p&gt;Hi! First congrats to this manual, it is really nice. BUT I&#39;m facing a little problem (BUG???)on CentOS 7. Everything works, I use the same versions but after I execute the configure.sh, and open the loganalyzer gui, the second step fails with: &amp;quot;file &#39;./config.php&#39;&amp;quot; is not writable. I made chmod 666/777 apache restart, selinux disable, but nothing happens. It keep says, that the file is not writable. Actually the file is: -rw-rw-rw-. 1 root root 0 30. Sep 19:33 config.php Could you please help me to finish this install? Thank you in advance and best regards&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>Why Go Professional with Cisco Certs?</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2013/09/why-go-professional-with-cisco-certs/</link>
      <pubDate>Sat, 14 Sep 2013 18:09:46 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2013/09/why-go-professional-with-cisco-certs/</guid>
      <description>
        
          &lt;p&gt;I have had the opportunity to take and thankfully pass &lt;a href=&#34;http://en.wikipedia.org/wiki/Cisco_Career_Certifications&#34; title=&#34;Cisco Career Certifications&#34;&gt;Cisco certifications&lt;/a&gt; at the associate levels and there is one more associate exam, the &lt;a href=&#34;http://en.wikipedia.org/wiki/CCNA&#34; title=&#34;CCNA&#34;&gt;CCNA&lt;/a&gt; &lt;a href=&#34;http://en.wikipedia.org/wiki/Data_center&#34; title=&#34;Data center&#34;&gt;Data Center&lt;/a&gt; which hopefully I will get later next year.  While looking at the CCNA Data Center exam I also glanced over the professional arena that Cisco offers and if you’re like me I always like learning new things especially in technical field. Getting those “aha moments” once in a while makes it worth it, but beyond just over all knowledge of additional technologies why would you go on taking a professional Cisco cert? I find these type of questions all over web, “Is CCNP worth it?” My answer is it depends on your current job situation. Let’s say you are in dead-end entry-level technical position, you’ve been there for a couple of years and for the most part your job hasn’t change. Would getting a CCNP automatically move you up those ranks? Probably not. You also have to look at the company you’re working for, is this just an average company, and all that is needed is a technical person or team depending on the size to support the environment? Would getting a CCNP be worth it, are you actually going to be using that knowledge you learned to better help the company? Or would that be wasted time and money? Let’s say you don’t have your foot in the door and you are right out of college or even high school would getting a CCNP get you noticed? Absolutely however I would not recommend getting a CCNP and then looking for a job. Start out with &lt;a href=&#34;http://en.wikipedia.org/wiki/CompTIA&#34; title=&#34;CompTIA&#34;&gt;Network+&lt;/a&gt; or CCENT get an entry-level position and start getting that experience that employers often look for. I know its easier said than done but for both of these situations and in my opinion if you can longer move up the ladder or the company is not focused or in need of CCNP knowledge, find a company that is before you start studying in the professional arena. I also think it depends on where you live physically are there actual companies in your area that are in need of CCNP candidates? Or would you have to move, and most importantly do you want to move? Unfortunately these are all questions that I would need answered before I would even start looking in the professional arena personally. Not to say CCNP is not rewarding, there usually is higher pay, and these professional certs have a proven track record in career advancements, gaining additional knowledge and finally staying up to date with current network technologies. You may even find yourself being contacted by company recruiters if your name is out there. In my opinion any body that passes any Cisco Certification has definitely made themselves noticeable but there has to be balance. Where do I stand? I think eventually I&#39;ll get there, but with my current position I&#39;m pretty happy where I am. :) When putting this post together I was also reading a published a white paper that Cisco put out recently looking at the value of Cisco Certified Employees take a look at the linked PDF and like always I hope this information is helpful, comment below of what you think about of professional certs? Do you have any, have they helped out and are they worth it? &lt;a href=&#34;http://systemstechblog.files.wordpress.com/2013/09/cisco_employervalue.pdf&#34;&gt;What Is the Value of a Cisco Certified Employee?&lt;/a&gt;&lt;/p&gt;
&lt;h6 id=&#34;related-articles&#34;&gt;Related articles&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.pluralsight.com/2013/09/11/vmware-vca-certification/&#34;&gt;VMware&#39;s new VCA: fab or flop?&lt;/a&gt; (pluralsight.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.pluralsight.com/2013/09/10/best-it-certifications/&#34;&gt;Best IT certifications for all levels of expertise&lt;/a&gt; (pluralsight.com)&lt;/li&gt;
&lt;/ul&gt;

        
      </description>
    </item>
    
    <item>
      <title>Configure DHCP on a Cisco Router</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2012/12/configure-dhcp-on-a-cisco-router/</link>
      <pubDate>Sat, 01 Dec 2012 16:25:08 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2012/12/configure-dhcp-on-a-cisco-router/</guid>
      <description>
        
          &lt;p&gt;&lt;a href=&#34;http://systemstechblog.files.wordpress.com/2012/11/68573-connect-computer-small.jpg&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2012/11/68573-connect-computer-small.jpg&#34; alt=&#34;&#34; title=&#34;Data-connect-computer&#34;&gt;&lt;/a&gt;In this short tutorial let&#39;s configure a &lt;a href=&#34;http://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol&#34; title=&#34;Dynamic Host Configuration Protocol&#34;&gt;DHCP server&lt;/a&gt; on a Cisco Router. Why would we want to do that? Well configuring a basic DHCP server on a router is a good idea if this is a branch/satellite office or just a small business. There are some pros and cons of configuring DHCP on a Cisco Router so let&#39;s briefly discuss them and then start configuring. Putting DHCP on a router is pretty easy and that&#39;s one advantage of setting up DHCP no need to setup a Linux or Windows server. However this also depends on what type of environment you are running,  if the company has an Active Directory structure that can be a showstopper if you want have DHCP on the router. There can be a problems because while your domain controller controls DNS any PC that gets an address from DHCP that the router is handing out may not be updated in DNS.  (Active Directory likes to have DNS that is current) There have been issues with Active Directory and the best solution is to setup the DHCP service on the Windows server and disable DHCP on the router. That way both DNS and DHCP is automatically added/updated when a new PC joins the network. Along with way more functionality on the server side than the router side, like such as clustering and or load balancing DHCP servers if there is ever need.  Although Cisco routers are great it&#39;s not designed for a clustering load balancing DHCP server. A router&#39;s main job is forwarding and routing data and although routers can have more than one job besides routing this also adds more load to the router if it already has big shoes to fill. ;) So now let&#39;s begin learning how to configure DHCP, listed below is the current running-config on the router called Branch-1 in which we will configure DHCP on. [code]BRANCH-1#show run Building configuration... Current configuration : 1075 bytes ! version 12.3 service timestamps debug datetime msec service timestamps log datetime msec no service password-encryption ! hostname BRANCH-1 ! boot-start-marker boot-end-marker ! ! no network-clock-participate aim 0 no network-clock-participate aim 1 no aaa new-model ip subnet-zero ! ! ip cef ! ! ip ips po max-events 100 no ftp-server write-enable ! ! ! interface FastEthernet0/0 ip address 192.168.40.1 255.255.255.0 duplex auto speed auto ! interface FastEthernet0/1 no ip address shutdown duplex auto speed auto ! ! ip classless no ip http server no ip http secure-server ! ! ! ! control-plane ! ! line con 0 logging synchronous line aux 0 line vty 0 4 login ! scheduler allocate 20000 1000 ! end [/code] This configuration is pretty basic and if &lt;a href=&#34;http://en.wikipedia.org/wiki/Personal_computer&#34; title=&#34;Personal computer&#34;&gt;PCs&lt;/a&gt; where connected to FastEthernet 0/0 they would be able to ping the gateway if they where manually setup with the correct &lt;a href=&#34;http://en.wikipedia.org/wiki/IP_address&#34; title=&#34;IP address&#34;&gt;IP addresses&lt;/a&gt;. This maybe be ok if you only had a couple of PCs to work with but even then it is pretty simple to set up a DHCP server instead of manually configuring PCs so let&#39;s start configuring it!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For this example we are going to be configuring a DHCP pool called  &lt;strong&gt;DHCP-40-POOL.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;We are also going to be excluding address from this pool which will be &lt;strong&gt;192.168.40.0 - 192.168.40.5&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;In this example we don&#39;t have an internal &lt;a href=&#34;http://en.wikipedia.org/wiki/Name_server&#34; title=&#34;Name server&#34;&gt;DNS server&lt;/a&gt; so we will be using one of &lt;a href=&#34;http://www.opendns.com/&#34; title=&#34;OpenDNS&#34;&gt;OpenDNS&lt;/a&gt;&#39;s servers. That IP address is  &lt;strong&gt;208.67.222.222.&lt;/strong&gt; We will also configure a secondary DNS server, that IP address is &lt;strong&gt;8.8.8.8&lt;/strong&gt; (Thanks Google)&lt;/li&gt;
&lt;li&gt;Finally are domain name for this example will be &lt;strong&gt;BRANCH1.CISCOSKILLS.NET&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let&#39;s get connected to Branch-1 and verify you are in &lt;a href=&#34;http://en.wikipedia.org/wiki/Cisco_IOS&#34; title=&#34;Cisco IOS&#34;&gt;global configuration mode&lt;/a&gt; and type the following to create a DHCP pool. (This example is using &lt;strong&gt;DHCP-40-POOL)&lt;/strong&gt; [code]BRANCH-1(config)#ip dhcp pool DHCP-40-POOL BRANCH-1(dhcp-config)#[/code] You&#39;ll notice that we are now in the DHCP-Config area. If you type a question mark we will see the available options we can configure while under this mode. [code]BRANCH-1(dhcp-config)#? DHCP pool configuration commands: accounting Send Accounting Start/Stop messages bootfile Boot file name class Specify a DHCP class client-identifier Client identifier client-name Client name default-router Default routers dns-server DNS servers domain-name Domain name exit Exit from DHCP pool configuration mode hardware-address Client hardware address host Client IP address and mask import Programatically importing DHCP option parameters lease Address lease time netbios-name-server NetBIOS (WINS) name servers netbios-node-type NetBIOS node type network Network number and mask next-server Next server in boot process no Negate a command or set its defaults option Raw DHCP options origin Configure the origin of the pool subnet Subnet allocation commands update Dynamic updates utilization Configure various utilization parameters vrf Associate this pool with a VRF [/code] So for this example we first need to type the network that will be using DHCP. (For this tutorial it&#39;s the 192.168.40.0 network so the command would look something like this: [code]BRANCH-1(dhcp-config)#network 192.168.40.0 255.255.255.0[/code] To set the default router for DHCP (This is usually the router&#39;s interface address, PCs would call this their default gateway.) [code]BRANCH-1(dhcp-config)#default-router 192.168.40.1[/code] To set the domain name of this network (This example is using &lt;strong&gt;BRANCH1.CISCOSKILLS.NET&lt;/strong&gt;) [code]BRANCH-1(dhcp-config)#domain-name BRANCH1.CISCOSKILLS.NET[/code] To set DNS servers (You can type more than one in this example I have two DNS servers 208.67.222.222 is the first DNS server followed by 8.8.8.8) [code]BRANCH-1(dhcp-config)#dns-server 208.67.222.222 8.8.8.8[/code] Our last setup is to exclude some address for this example we are going to excluding the first five address in the the 192.168.40.0/24 range. We have to exit out of the DHCP-config mode and go back to the global configuration mode: [code]BRANCH-1(dhcp-config)#exit BRANCH-1(config)#ip dhcp excluded-address 192.168.40.0 192.168.40.5[/code] Let&#39;s do a copy run start to save changes and if we now look at the running-config to verify our DHCP settings it should look something like the example below. [code]BRANCH-1#copy run startup-config Destination filename [startup-config]? Building configuration... [OK] BRANCH-1#show run Building configuration... Current configuration : 1083 bytes ! version 12.3 service timestamps debug datetime msec service timestamps log datetime msec no service password-encryption ! hostname BRANCH-1 ! -- OMITITED-- ! ip dhcp excluded-address 192.168.40.0 192.168.40.5 ! ip dhcp pool DHCP-40-POOL network 192.168.40.0 255.255.255.0 dns-server 208.67.222.222 8.8.8.8 default-router 192.168.40.1 domain-name BRANCH1.CISCOSKILLS.NET ! -- OMITITED--[/code] We should now have DHCP running on our router, if we look at a PC in command prompt and issue the ipconfig /all command all the settings we configured on the router are passing to the PC. Here is some output of the PC that is connected to Branch-1. [code]C:\Windows\system32&amp;gt;ipconfig /all -- OMITITED-- IPv4 Address. . . . . . . . . . . : 192.168.40.6(Preferred) Subnet Mask . . . . . . . . . . . : 255.255.255.0 Lease Obtained. . . . . . . . . . : Sunday, November 25, 2012 11:13:58 AM Lease Expires . . . . . . . . . . : Monday, November 26, 2012 11:13:57 AM Default Gateway . . . . . . . . . : 192.168.40.1 DHCP Server . . . . . . . . . . . : 192.168.40.1 DHCPv6 IAID . . . . . . . . . . . : 234884137 DHCPv6 Client DUID. . . . . . . . : 00-01-00-01-18-21-0E-A6-00-0C-29-22-D2-2 DNS Servers . . . . . . . . . . . : 208.67.222.222 8.8.8.8 NetBIOS over Tcpip. . . . . . . . : Enabled -- OMITITED--[/code] That&#39;s it! I hope this tutorial was helpful, to review we just configured a DHCP server on a Cisco IOS Router! As mentioned there are pros and cons when setting up DHCP on a router instead of a Windows or Linux server and the overall configuration in setting up DHCP is simple. If you noticed there are commands available while in the DHCP mode that we have not even touched and I would encourage you to either search them on the web or try them out in a lab environment. Once again I hope this information is helpful and please comment below if you have any questions.&lt;/p&gt;
&lt;h6 id=&#34;related-articles&#34;&gt;Related articles&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.ioshints.info/2012/10/coping-with-holiday-traffic-secondary.html&#34;&gt;Coping with Holiday Traffic - Secondary DHCP Subnets&lt;/a&gt; (ioshints.info)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://andiwijaya.wordpress.com/2012/11/23/top-10-important-command-prompts-commands/&#34;&gt;Top 10 Important command prompt&#39;s commands&lt;/a&gt; (andiwijaya.wordpress.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blogs.cisco.com/security/real-world-dns-abuse-finding-common-ground/&#34;&gt;Real World DNS Abuse: Finding Common Ground&lt;/a&gt; (blogs.cisco.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://diecarvi.wordpress.com/2012/11/30/cisco-ios-dhcp-server-tip/&#34;&gt;Cisco IOS DHCP Server tip&lt;/a&gt; (diecarvi.wordpress.com)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;comments&#34;&gt;Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://systemstechblog.wordpress.com&#34; title=&#34;lewiryan@isu.edu&#34;&gt;Ryan&lt;/a&gt; - &lt;time datetime=&#34;2012-12-02 22:09:38&#34;&gt;Dec 0, 2012&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Thanks. :)&lt;/p&gt;
&lt;hr /&gt;
#### 
[Jr Dev]( &#34;eager@student.com&#34;) - &lt;time datetime=&#34;2012-12-01 15:29:32&#34;&gt;Dec 6, 2012&lt;/time&gt;
&lt;p&gt;Awesome blog. I learned something today. Keep them coming please!&lt;/p&gt;
&lt;hr /&gt;
#### 
[Archive your Configuration | Cisco Skills](http://ciscoskills.net/2013/01/21/archive-your-configuration/ &#34;&#34;) - &lt;time datetime=&#34;2013-01-21 22:52:46&#34;&gt;Jan 1, 2013&lt;/time&gt;
&lt;p&gt;[...] ← Previous [...]&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>The Network and its Forces</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2012/10/the-network-and-its-forces/</link>
      <pubDate>Tue, 30 Oct 2012 03:02:12 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2012/10/the-network-and-its-forces/</guid>
      <description>
        
          &lt;p&gt;&lt;a href=&#34;http://systemstechblog.files.wordpress.com/2011/03/communication.jpg&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/03/communication.jpg?w=300&#34; alt=&#34;&#34; title=&#34;communication&#34;&gt;&lt;/a&gt;I have started looking &lt;a href=&#34;http://en.wikipedia.org/wiki/Cisco_Career_Certifications&#34; title=&#34;Cisco Career Certifications&#34;&gt;CCDA&lt;/a&gt; information and some of it is interesting, towards the beginning the material started out at design methodologies. It talked about the &amp;quot;forces&amp;quot; of a new &lt;a href=&#34;http://en.wikipedia.org/wiki/Computer_network&#34; title=&#34;Computer network&#34;&gt;network&lt;/a&gt; framework and in this post I&#39;ll focus on the business forces that make a new framework necessary. I find it interesting when looking at companies because although &lt;a href=&#34;http://en.wikipedia.org/wiki/Customer_service&#34; title=&#34;Customer service&#34;&gt;customer service&lt;/a&gt; is important to sustain a company, I also think it will and may already have depend on who embraces the technology wheel, those that do will ultimately win. There&#39;s a catch, just because you have a nice low-riding sports car you wouldn&#39;t want to drive it on a rocky dirt road would you? That&#39;s same thing with some big &lt;a href=&#34;http://en.wikipedia.org/wiki/Application_software&#34; title=&#34;Application software&#34;&gt;applications&lt;/a&gt; and services running on a network. You don&#39;t want the network to be your own enemy and unfortunately that usually is the last thing people look at. If a company is serious about their goals there are several things a company will look at to improve their business. Having a strong infrastructure to be able to handle the &lt;a href=&#34;http://en.wikipedia.org/wiki/Chief_executive_officer&#34; title=&#34;Chief executive officer&#34;&gt;CEO&#39;s&lt;/a&gt; wrath is good, but this infrastructure has to handle the competition and any new services and applications the organization decides to throw at it. You are only as strong as your weakness link, so the network is especially important because it&#39;s the means of communication with application data, voice, and video. If the network is unavailable so is your applications and services and ultimately &lt;a href=&#34;http://en.wikipedia.org/wiki/Company&#34; title=&#34;Company&#34;&gt;your company&lt;/a&gt;. There are usually three key areas an organization will look at before moving forward on purchasing an upgraded/new network infrastructure, and usually any other services and products as well:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Rate_of_return&#34; title=&#34;Rate of return&#34;&gt;Return on Investment&lt;/a&gt; is a big one and most companies and most won&#39;t go ahead until they can see &lt;a href=&#34;http://en.wikipedia.org/wiki/Money&#34; title=&#34;Money&#34;&gt;money&lt;/a&gt; down this path instead of nothing. What&#39;s in it for me? How will this improve our business? How will this make money instead of draining it?&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Regulation_%28European_Union%29&#34; title=&#34;Regulation (European Union)&#34;&gt;Regulation&lt;/a&gt; is another big one, Why would a company change anything if there already on the top? Sometimes &lt;a href=&#34;http://en.wikipedia.org/wiki/Uncle_Sam&#34; title=&#34;Uncle Sam&#34;&gt;Uncle Sam&lt;/a&gt; has to come along and must companies to be compliant, or they are fined and may even be shutdown. (This adds the twist in the game but this usually helps out the common folk like you and me in the end :)&lt;/li&gt;
&lt;li&gt;Being competitive; You can&#39;t beat a company if you are doing the exact some thing as your &lt;a href=&#34;http://en.wikipedia.org/wiki/Competition&#34; title=&#34;Competition&#34;&gt;competitor&lt;/a&gt;. Being faster, smarter, and changing your techniques often with the competition will make you different from the rest and may even give you some extra steps forward from everybody else.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the end it all comes down the cost and this cost is investment it&#39;s not something lost forever, if done correctly this investment would pay off. Although we may not see it physically you will see an increase in how much scalability the company can handle, the availability of products and services, the performance of application and services and the overall efficiency of whole network infrastructure. It&#39;s simple fact, less downtime equals more productivity and in the end equals money for the company. There is always a balance however, you could argue less downtime equals the more money you have to spend to keep it up and running.  That&#39;s where the balance begins, does it take more money then what the company can produce to keep the systems up 99.99 percent of the time?  Is it worth to drop it to 95 percent up-time to save a couple of thousands or are you now loosing more money than you are saving? These are all questions where everyone has to come to the table and discuss, because it is no longer just an IT problem its an organization problem. The business force for the network is important but there are others, check back to see what technology-related forces exist with the network framework.&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Why IPv6?</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2012/08/why-ipv6/</link>
      <pubDate>Thu, 23 Aug 2012 01:03:46 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2012/08/why-ipv6/</guid>
      <description>
        
          &lt;p&gt;&lt;a href=&#34;http://systemstechblog.files.wordpress.com/2012/08/ipv6-i-love.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2012/08/ipv6-i-love.png&#34; alt=&#34;&#34; title=&#34;I-Love-IPv6&#34;&gt;&lt;/a&gt;Although this protocol has been around since 1996 it has been anticipated that IPv4 would one day be exhausted. In February 2011 the &lt;a href=&#34;http://en.wikipedia.org/wiki/Internet_Assigned_Numbers_Authority&#34; title=&#34;Internet Assigned Numbers Authority&#34;&gt;Internet Assigned Numbers Authority&lt;/a&gt; (IANA) assigned the last /8 address blocks to the &lt;a href=&#34;http://en.wikipedia.org/wiki/Regional_Internet_registry&#34; title=&#34;Regional Internet registry&#34;&gt;Regional Internet Registries&lt;/a&gt; so time is getting close but you have heard this warning before right? Let&#39;s go over IPv6 at least just an overview some the features and changes compared to IPv4 because one day it will happen it&#39;s just a matter of when. :) So the first thing to understand about IPv6 is that it&#39;s a 128-bit binary value, which is displayed as 32 hexadecimal digits. What does this mean in the size or scope of the addresses?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Well it has been suggested that if you were to give everyone in the world the entire IPv4 scope (4,294,267,295 addresses), you still would have more than enough IPv6 address!&lt;/li&gt;
&lt;li&gt;You could give everyone on the planet trillions of IPv6 addresses and still have leftovers!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are many enhancements that IPv6 offers compared to IPv4 like such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Enhanced &lt;a href=&#34;http://en.wikipedia.org/wiki/IP_address&#34; title=&#34;IP address&#34;&gt;IP addressing&lt;/a&gt; – Improved global reachability and flexibility along with better &lt;a href=&#34;http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&#34; title=&#34;Classless Inter-Domain Routing&#34;&gt;IP prefixes&lt;/a&gt; announced in routing tables.&lt;/li&gt;
&lt;li&gt;Say goodbye to broadcasts because there&#39;s none in IPv6 and no threat of broadcast storms.&lt;/li&gt;
&lt;li&gt;Multi-homed hosts a technique to increase reliability of the internet, because each host can have multiple IP addresses with one physical link. This makes it easier to have this host be connected to different ISP at the same time.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let&#39;s compare the &lt;a href=&#34;http://en.wikipedia.org/wiki/IPv4&#34; title=&#34;IPv4&#34;&gt;IPv4 header&lt;/a&gt; with IPV6. There less junk in the IPv6 header and because  of that less overhead when compared to IPv4, we have better routing within the network and no checksums. &lt;a href=&#34;http://ciscoskills.net/2012/08/22/why-ipv6/ipv4-headw/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2012/08/ipv4-headw.png&#34; alt=&#34;An IPv4 Header&#34; title=&#34;IPv4 Header&#34;&gt;&lt;/a&gt; As you can see the IPv6 header looks simpler and although it is 40 octets compared to the IPv4 header which is 20 octets. IPv6 has to have &lt;a href=&#34;http://en.wikipedia.org/wiki/IPsec&#34; title=&#34;IPsec&#34;&gt;IPsec&lt;/a&gt; which is a mandatory part for IPv6 unlike IPv4 which is an option. (Security, Security, Security) &lt;a href=&#34;http://ciscoskills.net/2012/08/22/why-ipv6/ipv6-headw/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2012/08/ipv6-headw.png&#34; alt=&#34;An IPv6 Header&#34; title=&#34;IPv6 Header&#34;&gt;&lt;/a&gt; Since IPv6 and IPv4 don&#39;t work together directly how can we ever switch over? There are transition solutions like Dual Stacking, 6to4 tunneling and &lt;a href=&#34;http://en.wikipedia.org/wiki/IPv6_transition_mechanisms&#34; title=&#34;IPv6 transition mechanisms&#34;&gt;NAT-PT&lt;/a&gt;, &lt;a href=&#34;http://en.wikipedia.org/wiki/ISATAP&#34; title=&#34;ISATAP&#34;&gt;ISATAP&lt;/a&gt; tunneling and &lt;a href=&#34;http://en.wikipedia.org/wiki/Teredo_tunneling&#34; title=&#34;Teredo tunneling&#34;&gt;Teredo tunneling&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Dual Stacking – is a method of basically running both IPv4 and IPv6 in the network environment and using IPv6 as the preferred protocol.&lt;/li&gt;
&lt;li&gt;6to4 tunneling – which automatically establishes connections to IPv6 networks through IPv4 network, like the internet. It applies a valid IPv6 prefix to each &amp;quot;island&amp;quot; thus enables a fast deployment of IPv6 in corporate without having the ISP to be involved.&lt;/li&gt;
&lt;li&gt;Intra-Site Automatic Tunnel Addressing Protocol (ISATAP) tunneling - which is another tunneling option which uses the IPv4 network as the link layer of IPv6.&lt;/li&gt;
&lt;li&gt;Teredo Tunneling – this provides host-to-host automatic tunneling instead of relying on the gateway. This passes IPv6 traffic when dual-stacked hosts (Systems that are running IPv4 and IPv6 are located behind one or multiple IPv4 &lt;a href=&#34;http://en.wikipedia.org/wiki/Network_address_translation&#34; title=&#34;Network address translation&#34;&gt;NATs&lt;/a&gt;. (By default this is already running on Windows Vista and Windows 7 if you do the command &amp;quot;ipconfig&amp;quot; in command you&#39;ll see it)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;IPv6 is not new and some countries already have it in place. We the United States just wanted to delay it because no body likes to change, but the awesome part about this is to the average user nobody should know and the internet lives on. That&#39;s really the rundown of IPv6 of course there&#39;s more but for an overview of IPv6 it is not a bad start. I hope this information is helpful and if you have questions let&#39;s see if I can answer them or if anybody else can.&lt;/p&gt;
&lt;h6 id=&#34;related-articles&#34;&gt;Related articles&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://blogs.cisco.com/borderless/ipv6-peering-part-2-the-next-steps-for-isp-interfacing/&#34;&gt;IPv6 Peering, Part 2: The Next Steps for ISP Interfacing&lt;/a&gt; (blogs.cisco.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.circleid.com/posts/20120719_ipv6_subnetting_the_paradigm_shift/&#34;&gt;IPv6 Subnetting - The Paradigm Shift&lt;/a&gt; (circleid.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://go.theregister.com/feed/www.theregister.co.uk/2012/08/21/verity_stob_ipv6/&#34;&gt;How I Learned to Stop Worrying and Love IPv6&lt;/a&gt; (go.theregister.com)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;comments&#34;&gt;Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://www.slumpedoverkeyboarddead.com/2012/09/03/what-is-a-class-abc-ip-address/&#34; title=&#34;&#34;&gt;Slumped Over Keyboard Dead | That�s how they�ll find me one day… » What Is A Class A,B,C IP Address?&lt;/a&gt; - &lt;time datetime=&#34;2012-09-03 08:55:51&#34;&gt;Sep 1, 2012&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;[...] Why IPv6? (ciscoskills.net) [...]&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
    <item>
      <title>The Three Tiers</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2012/01/the-three-tiers/</link>
      <pubDate>Sat, 21 Jan 2012 19:30:48 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2012/01/the-three-tiers/</guid>
      <description>
        
          &lt;p&gt;&lt;a href=&#34;http://systemstechblog.files.wordpress.com/2012/01/network_switch.jpg&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2012/01/network_switch.jpg?w=150&#34; alt=&#34;&#34; title=&#34;network_switch&#34;&gt;&lt;/a&gt;Working towards the &lt;a href=&#34;http://en.wikipedia.org/wiki/CCNA&#34; title=&#34;CCNA&#34;&gt;CCNA&lt;/a&gt; &lt;a href=&#34;http://en.wikipedia.org/wiki/Cisco_Systems&#34; title=&#34;Cisco Systems&#34;&gt;Cisco&lt;/a&gt; talks about a &lt;a href=&#34;http://en.wikipedia.org/wiki/Network_topology&#34; title=&#34;Network topology&#34;&gt;hierarchical network&lt;/a&gt; there are three layers to this design. Access Layer, distribution layer and the core layer. Each of them have their own set of functions and is also considered to be a best practice when the network continues to grow and for redundancy along with just a better way to manage it. &lt;strong&gt;The Access layer&lt;/strong&gt; is the layer that devices connect to, such as &lt;a href=&#34;http://en.wikipedia.org/wiki/Personal_computer&#34; title=&#34;Personal computer&#34;&gt;PCs&lt;/a&gt;, printers, and &lt;a href=&#34;http://en.wikipedia.org/wiki/VoIP_phone&#34; title=&#34;VoIP phone&#34;&gt;IP Phones&lt;/a&gt;. The access layer can include routers, switches, bridges, hubs, &lt;a href=&#34;http://en.wikipedia.org/wiki/Wireless_access_point&#34; title=&#34;Wireless access point&#34;&gt;wireless access points&lt;/a&gt;, etc. The main purpose is providing a means of connecting devices to the network, this is also your first line of defense of controlling who is on your network. &lt;strong&gt;The Distribution Layer&lt;/strong&gt; aggregates the data received from the access layer before it is transmitted to the core for routing to its destination. The distribution layer is like a traffic cop to which it controls the flow of network traffic using policies like routing between broadcast domains by having &lt;a href=&#34;http://en.wikipedia.org/wiki/Virtual_LAN&#34; title=&#34;Virtual LAN&#34;&gt;VLANs&lt;/a&gt; which are setup on the access layer. VLANs let you segment traffic on a switch into separate subnetworks. Why would you segment traffic? The main reason is for security you should not have sensitive data on a public network because anybody can reach it, by separating it you also have more control over it on who can get access to it. &lt;strong&gt;The Core Layer&lt;/strong&gt; of the hierarchical design is the high-speed backbone of the network. The core layer is critical for interconnectivity between the distribution layer devices. The core must be highly available and should be redundant. The core can also connect to internet resources, because the core aggregates the traffic from the entire distribution layer it must be able to handle high data traffic. &lt;a href=&#34;http://ciscoskills.net/2012/01/21/the-three-tiers/hierarchical-layerse/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2012/01/hierarchical-layerse.png&#34; alt=&#34;The Hierarchical Layer&#34; title=&#34;Hierarchical Layers&#34;&gt;&lt;/a&gt; In small networks it is a common practice to use a collapsed core model to where the distribution layer and core are merged into one layer. If the network grows it is fairly easy to add the core layer. Because you are in hierarchical network you have many benefits which I&#39;ll hold off for another day but in summary they are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Scalability&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Redundancy_%28engineering%29&#34; title=&#34;Redundancy (engineering)&#34;&gt;Redundancy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Performance&lt;/li&gt;
&lt;li&gt;Security&lt;/li&gt;
&lt;li&gt;Manageability&lt;/li&gt;
&lt;li&gt;Maintainability&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Like always I hope this information is helpful in at least having a better idea of Cisco&#39;s hierarchical network design. One of the hardest things when designing this type of network is if you are trying to change the original one because of poor performance and degradation. Like always if you have an idea of the next topic that looks at ICND1 or ICND2 let me hear it by posting below, or if you have questions feel free to post them as well.&lt;/p&gt;
&lt;h6 id=&#34;related-articles&#34;&gt;Related articles&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://go.theregister.com/feed/www.theregister.co.uk/2011/09/21/flatter_networks/&#34;&gt;No more tiers for flatter networks&lt;/a&gt; (go.theregister.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.ioshints.info/2011/10/l2-or-l3-switching-in-campus-networks.html&#34;&gt;L2 or L3 switching in campus networks?&lt;/a&gt; (ioshints.info)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blogs.cisco.com/datacenter/vxlan-deep-dive-part-2-looking-at-the-options/&#34;&gt;VXLAN Deep Dive, Part 2: Looking at the Options&lt;/a&gt; (blogs.cisco.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blogs.cisco.com/datacenter/digging-deeper-into-vxlan/&#34;&gt;Digging Deeper into VXLAN, Part 1&lt;/a&gt; (blogs.cisco.com)&lt;/li&gt;
&lt;/ul&gt;

        
      </description>
    </item>
    
    <item>
      <title>Types of WAN Links</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2011/10/types-of-wan-links/</link>
      <pubDate>Wed, 19 Oct 2011 16:30:04 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2011/10/types-of-wan-links/</guid>
      <description>
        
          &lt;p&gt;I&#39;ve found this table that I created a while ago and it lists common WAN connections that businesses use. I have used this table like a reference guide to familiar myself into other protocols. People don&#39;t think of it much but the WAN is a different beast compared the LAN as it uses different protocols besides Ethernet. The WAN or wide area network is what connects us to remote locations within a organization. If we have an office in &lt;a href=&#34;http://en.wikipedia.org/wiki/New_York&#34; title=&#34;New York&#34;&gt;New York&lt;/a&gt; and another office in &lt;a href=&#34;http://en.wikipedia.org/wiki/Wyoming&#34; title=&#34;Wyoming&#34;&gt;Wyoming&lt;/a&gt;  we need these offices to be connected to each other so that they seem to be on the same network even though they are miles away these types of WAN connections and protocols  would do it.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Option&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Advantages&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Disadvantages&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Sample Protocols&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Leased_line&#34; title=&#34;Leased line&#34;&gt;Leased Line&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Point-to-point_%28telecommunications%29&#34; title=&#34;Point-to-point (telecommunications)&#34;&gt;Point-to-point&lt;/a&gt; connection between two computers &lt;a href=&#34;http://en.wikipedia.org/wiki/Local_area_network&#34; title=&#34;Local area network&#34;&gt;LANs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Most Secure&lt;/p&gt;
&lt;p&gt;Expensive&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Purchasing_power_parity&#34; title=&#34;Purchasing power parity&#34;&gt;PPP&lt;/a&gt;, &lt;a href=&#34;http://en.wikipedia.org/wiki/High-Level_Data_Link_Control&#34; title=&#34;High-Level Data Link Control&#34;&gt;HDLC&lt;/a&gt;, &lt;a href=&#34;http://en.wikipedia.org/wiki/Synchronous_Data_Link_Control&#34; title=&#34;Synchronous Data Link Control&#34;&gt;SDLC&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Circuit_switching&#34; title=&#34;Circuit switching&#34;&gt;Circuit Switching&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A dedicated circuit path is created between endpoints. Best example is dialup connections&lt;/p&gt;
&lt;p&gt;Less expensive&lt;/p&gt;
&lt;p&gt;Call Setup&lt;/p&gt;
&lt;p&gt;PPP, &lt;a href=&#34;http://en.wikipedia.org/wiki/Integrated_Services_Digital_Network&#34; title=&#34;Integrated Services Digital Network&#34;&gt;ISDN&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Packet_switch&#34; title=&#34;Packet switch&#34;&gt;Packet Switch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Devices transport packets via a shared single point-to-point or point-to-multipoint link across. Variable length packets are transmitted over PVCs or SVCs&lt;/p&gt;
&lt;p&gt;Highly efficient use of bandwidth&lt;/p&gt;
&lt;p&gt;Shared media across link&lt;/p&gt;
&lt;p&gt;X.25, Frame Relay&lt;/p&gt;
&lt;p&gt;Cell Relay&lt;/p&gt;
&lt;p&gt;Similar to packet switching, but uses fixed-length packets. Data is divided into fixed length cells and then transported across virtual circuits&lt;/p&gt;
&lt;p&gt;Best for simultaneous use of voice and data&lt;/p&gt;
&lt;p&gt;Overhead can be considerable&lt;/p&gt;
&lt;p&gt;ATM&lt;/p&gt;
&lt;p&gt;Internet&lt;/p&gt;
&lt;p&gt;Connectionless packet switching using the internet as the WAN infrastructure. Uses network addressing to deliver packets. Because of security issues VPN technology must be used.&lt;/p&gt;
&lt;p&gt;Least expensive, globally available&lt;/p&gt;
&lt;p&gt;Least secure&lt;/p&gt;
&lt;p&gt;VPN, DSL, cable modem, wireless&lt;/p&gt;
&lt;p&gt;I hope this table is helpful and like always if you have an idea of the next topic that deals with either ICND1 or ICND2 let me know about. If you have any questions about this table feel free to comment below.&lt;/p&gt;
&lt;h6 id=&#34;related-articles&#34;&gt;Related articles&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.zdnet.com/blog/gardner/as-cloud-and-mobile-trends-drive-user-expectations-higher-networks-must-now-deliver-applications-faster-safer-cheaper/4385&#34;&gt;As cloud and mobile trends drive user expectations higher, networks must now deliver applications faster, safer, cheaper&lt;/a&gt; (zdnet.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://r.zemanta.com/?u=http%3A//www.infoworld.com/d/networking/cisco-upgrades-wan-optimizers-175346&amp;amp;a=57572126&amp;amp;rid=00000125-1caa-000F-0000-00000000059b&amp;amp;e=10593a4b8ca51901986b11ace1fe73f5&#34;&gt;Cisco upgrades WAN optimizers&lt;/a&gt; (infoworld.com)&lt;/li&gt;
&lt;/ul&gt;

        
      </description>
    </item>
    
    <item>
      <title>Configure IPS (Intrusion Prevention System) via SDM</title>
      <link>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2011/04/configure-ips-intrusion-prevention-system-via-sdm/</link>
      <pubDate>Fri, 22 Apr 2011 17:30:44 +0000</pubDate>
      
      <guid>http://archive.ciscoskills.net.s3-website-us-west-2.amazonaws.com/2011/04/configure-ips-intrusion-prevention-system-via-sdm/</guid>
      <description>
        
          &lt;p&gt;Awhile back I talked about the differences between IPS and IDS. (See the post &lt;a href=&#34;http://ciscoskills.net/2011/03/09/cisco-ids-vs-ips/&#34; title=&#34;Cisco IDS vs. IPS&#34;&gt;Cisco IDS vs. IPS&lt;/a&gt; ) So for today&#39;s post let&#39;s learn how to configure an IPS (&lt;a href=&#34;http://en.wikipedia.org/wiki/Intrusion_prevention_system&#34; title=&#34;Intrusion prevention system&#34;&gt;Intrusion Prevention System&lt;/a&gt;) on a router using the &lt;a href=&#34;http://en.wikipedia.org/wiki/Cisco_Systems&#34; title=&#34;Cisco Systems&#34;&gt;Cisco&lt;/a&gt; SDM (Security Device Manger). The Cisco SDM is a Web-based device management tool a &lt;a href=&#34;http://en.wikipedia.org/wiki/Graphical_user_interface&#34; title=&#34;Graphical user interface&#34;&gt;GUI&lt;/a&gt; for Cisco &lt;a href=&#34;http://en.wikipedia.org/wiki/Router&#34; title=&#34;Router&#34;&gt;routers&lt;/a&gt; this can simplify router deployments and cut ownership costs. ( See the post &lt;a href=&#34;http://ciscoskills.net/2011/04/14/configure-cisco-sdm/&#34; title=&#34;Configure Cisco SDM&#34;&gt;Configure Cisco SDM&lt;/a&gt;) Let&#39;s start configuring an IPS with SDM! This tutorial is assuming that the configurations to set up Cisco SDM have already been completed. For this tutorial all we want to focus on is configuring the IPS. Since this using Cisco SDM the IPS wizard is pretty easy to understand. Before we get started I like to have the Cisco SDM preview the commands before I deliver them to the router. To do that at the top of the menu bar click &lt;em&gt;Edit&lt;/em&gt; and select &lt;em&gt;Preferences&lt;/em&gt; a new window will appear (Like below) and verify that the &lt;em&gt;Preview commands before delivering to the router&lt;/em&gt; is checked.  &lt;a href=&#34;http://ciscoskills.net/2011/04/20/configuring-zone-based-firewalls-via-sdm/preview_commandse/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/preview_commandse.png?w=300&#34; alt=&#34;SDM Preferences&#34; title=&#34;Preview_Commands&#34;&gt;&lt;/a&gt; Before we even jump into the IPS wizard we must verify that we have the IOS IPS signature package file and the public crypto key. If you don&#39;t have them you then must have a CCO account with Cisco to download them. Make sure that these files are available on the &lt;a href=&#34;http://en.wikipedia.org/wiki/Personal_computer&#34; title=&#34;Personal computer&#34;&gt;PC&lt;/a&gt; along with a &lt;a href=&#34;http://en.wikipedia.org/wiki/Trivial_File_Transfer_Protocol&#34; title=&#34;Trivial File Transfer Protocol&#34;&gt;TFTP&lt;/a&gt; server installed and running. Put or verify that the IOS IPS signature file is in the default TFTP folder (IOS-Sxxx-CLI.pkg) Remember that the X values will vary depending on the file that was download from Cisco. Also verify that the realm-cisco.pub.key.txt file is available on the computer and note its location. This file is the public key that it used by &lt;a href=&#34;http://en.wikipedia.org/wiki/Cisco_IOS&#34; title=&#34;Cisco IOS&#34;&gt;Cisco IOS&lt;/a&gt; IPS. Once Cisco SDM is opened click the configure button at the top of SDM screen and select &lt;em&gt;Intrusion Prevention&lt;/em&gt; on the left hand side under &lt;strong&gt;Tasks&lt;/strong&gt;. Click or verify that the &lt;em&gt;Create IPS&lt;/em&gt; tab is selected and select the &lt;em&gt;Launch IPS Rule Wizard&lt;/em&gt; button. If prompted for &lt;a href=&#34;http://en.wikipedia.org/wiki/Security_Device_Event_Exchange&#34; title=&#34;Security Device Event Exchange&#34;&gt;SDEE&lt;/a&gt; click ok. &lt;a href=&#34;http://ciscoskills.net/2011/04/22/configure-ips-intrusion-prevention-system-via-sdm/ips_maine/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/ips_maine.png?w=300&#34; alt=&#34;SDM IPS Main Screen&#34; title=&#34;IPS_Main&#34;&gt;&lt;/a&gt;  A window will show, the IPS Welcome Screen which gives the objectives the wizard will go over in helping us create an IPS system. Click Next.  &lt;a href=&#34;http://ciscoskills.net/2011/04/22/configure-ips-intrusion-prevention-system-via-sdm/ips_wizard_welcomee/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/ips_wizard_welcomee.png?w=300&#34; alt=&#34;SDM IPS Wizared Welcome Page&#34; title=&#34;IPS_Wizard_Welcome&#34;&gt;&lt;/a&gt; The next screen (IPS Interface) will want us to select which interface(s) will have the IPS rules, select either inbound or outbound. (For this tutorial both &lt;em&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Fast_Ethernet&#34; title=&#34;Fast Ethernet&#34;&gt;Fast-Ethernet&lt;/a&gt; 0/0&lt;/em&gt; and &lt;em&gt;Serial 0/0&lt;/em&gt; will have the IPS rules inbound.) Click Next.  &lt;a href=&#34;http://ciscoskills.net/2011/04/22/configure-ips-intrusion-prevention-system-via-sdm/ips_wizard_interfacese/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/ips_wizard_interfacese.png?w=300&#34; alt=&#34;SDM IPS Wizard Interfaces&#34; title=&#34;IPS_Wizard_Interfaces&#34;&gt;&lt;/a&gt; The next screen (Signature File and &lt;a href=&#34;http://en.wikipedia.org/wiki/Public-key_cryptography&#34; title=&#34;Public-key cryptography&#34;&gt;Public Key&lt;/a&gt;) wants to know the following information, the location of the signature file and the public key.  &lt;a href=&#34;http://ciscoskills.net/2011/04/22/configure-ips-intrusion-prevention-system-via-sdm/ips_wizard_sig_pub_key/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/ips_wizard_sig_pub_key.png?w=300&#34; alt=&#34;SDM IPS Wizard Signature Public Key&#34; title=&#34;IPS_Wizard_Sig_Pub_Key&#34;&gt;&lt;/a&gt; Focusing on the signature file first you want to specify the location where the signature file is. Click on the three dots button.  &lt;a href=&#34;http://ciscoskills.net/2011/04/22/configure-ips-intrusion-prevention-system-via-sdm/ips_wizard_sigfilee/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/ips_wizard_sigfilee.png?w=300&#34; alt=&#34;SDM IPS Wizard Signature File&#34; title=&#34;IPS_Wizard_SigFile&#34;&gt;&lt;/a&gt; Another window will open (Specify Signature File) if the signature file is already on the routers flash memory select the first radio button, if the signature file is by &lt;a href=&#34;http://en.wikipedia.org/wiki/Uniform_Resource_Locator&#34; title=&#34;Uniform Resource Locator&#34;&gt;URL&lt;/a&gt; select the correct protocol and address, you can also specify the signature file on the PC. (For this tutorial we are using the TFTP server and are specifying the signature file by URL, once the location of the file has been selected click OK. &lt;a href=&#34;http://ciscoskills.net/2011/04/22/configure-ips-intrusion-prevention-system-via-sdm/ips_wizard_sigfile_spe/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/ips_wizard_sigfile_spe.png?w=300&#34; alt=&#34;SDM IPS Wizard Signature File Location&#34; title=&#34;IPS_Wizard_SigFile_SP&#34;&gt;&lt;/a&gt;  Now let&#39;s focus on the Public Key, in the name of the public key type realm-cisco.pub or relam-cisco.pub signature. Find and open the realm-cisco.pub.key.txt file and copy (&lt;a href=&#34;http://en.wikipedia.org/wiki/Control-C&#34; title=&#34;Control-C&#34;&gt;Ctrl-C&lt;/a&gt;) the text that is between the phrase key-string and the word quit. Paste the text (key) in the key field in the Configure Key section. Click Next. &lt;a href=&#34;http://ciscoskills.net/2011/04/22/configure-ips-intrusion-prevention-system-via-sdm/ips_wizard_public_keye/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/ips_wizard_public_keye.png?w=300&#34; alt=&#34;SDM IPS Wizard Public Key&#34; title=&#34;IPS_Wizard_Public_Key&#34;&gt;&lt;/a&gt; The next section (Config Location and Category) wants you to specify where you want the IPS configuration files click on the three dots and choose your location. (For this tutorial we are using flash to store the IPS configuration) Towards the bottom of the screen the wizard wants to choose a signature category for the router. (For this tutorial we are choosing the advanced option.) Click Next. &lt;a href=&#34;http://ciscoskills.net/2011/04/22/configure-ips-intrusion-prevention-system-via-sdm/ips_wizard_config_locatione/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/ips_wizard_config_locatione.png?w=300&#34; alt=&#34;SDM IPS Wizard Config Location&#34; title=&#34;IPS_Wizard_Config_Location&#34;&gt;&lt;/a&gt; The next section is the summary window for the IPS configuration, here you can look over the summary to verify the configuration. Click Finish. &lt;a href=&#34;http://ciscoskills.net/2011/04/22/configure-ips-intrusion-prevention-system-via-sdm/ips_wizard_summarye/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/ips_wizard_summarye.png?w=300&#34; alt=&#34;SDM IPS Wizard Summary&#34; title=&#34;IPS_Wizard_Summary&#34;&gt;&lt;/a&gt; If you&#39;ve selected the option to preview commands before delivering them to the router, a final window will appear. In this window you can see the actual commands the SDM program will attempt to deliver. You have the option to save the running-configuration to the startup-configuration after the commands complete. You also have the option to save the configuration as a file and finally you can deliver them to the router. &lt;a href=&#34;http://ciscoskills.net/2011/04/22/configure-ips-intrusion-prevention-system-via-sdm/ips_wizard_delivere/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2011/04/ips_wizard_delivere.png?w=300&#34; alt=&#34;SDM IPS Wizard Deliver&#34; title=&#34;IPS_Wizard_Deliver&#34;&gt;&lt;/a&gt; That&#39;s it! believe it or not that&#39;s the SDM configuration of IOS IPS you can get more information at Cisco&#39;s website about SDM and the configuration settings. Like always I hope this tutorial was informative and if you have a suggestion on the next topic that relates to ICND1 or ICND2 and even some CCNA Security comment below.&lt;/p&gt;
&lt;h6 id=&#34;related-articles&#34;&gt;Related Articles&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://blogs.cisco.com/smallbusiness/help-keep-company-data-safe-on-employees-personal-devices-2/&#34;&gt;Help Keep Company Data Safe on Employees&#39; Personal Devices&lt;/a&gt; (blogs.cisco.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.pcworld.com/article/225387/digital_threats_jumped_in_2010.html&#34;&gt;Digital Threats Jumped in 2010&lt;/a&gt; (pcworld.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blogs.cisco.com/security/defending-against-sql-injection-attacks-using-cisco-asa-ips-and-ios-firewall-cisco-tac-security-podcast/&#34;&gt;Defending against SQL Injection attacks using Cisco ASA, IPS, and IOS Firewall - Cisco TAC Security Podcast&lt;/a&gt; (blogs.cisco.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blogs.forbes.com/andygreenberg/2011/04/12/study-finds-firewalls-from-cisco-fortinet-others-vulnerable-to-old-attack/&#34;&gt;Study Finds Firewalls From Cisco, Fortinet, Others Vulnerable To Old Attack&lt;/a&gt; (blogs.forbes.com)&lt;/li&gt;
&lt;/ul&gt;

        
      </description>
    </item>
    
  </channel>
</rss>
