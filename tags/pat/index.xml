<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>PAT on Cisco Skills</title>
    <link>https://ciscoskills.net/tags/pat/</link>
    <description>Recent content in PAT on Cisco Skills</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 19 Jan 2011 15:05:01 +0000</lastBuildDate><atom:link href="https://ciscoskills.net/tags/pat/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Configuring PAT</title>
      <link>https://ciscoskills.net/2011/01/19/configuring-pat/</link>
      <pubDate>Wed, 19 Jan 2011 15:05:01 +0000</pubDate>
      
      <guid>https://ciscoskills.net/2011/01/19/configuring-pat/</guid>
      <description>
        
          &lt;p&gt;This tutorial will help you configure PAT (Port Address Translation), or sometimes called NAT (Network Address Translation) with overload on a Cisco router. PAT uses multiple private IP addresses and translates them into a single or very few public IP addresses. This is possible because the private IP addresses are mapped to the port number of the PC. Let&#39;s get started!!!&lt;/p&gt;
&lt;!--adsense--&gt;
&lt;p&gt;&lt;img src=&#34;https://ciscoskills.net/images/2011/01/pat.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;With the above shown topology we see that we are using two routers called ISP and R1 we also have one switch (default configuration) and a PC connected to R1&#39;s Fa0/0 interface. Both routers need to be setup with basic router configuration and IP address added to the interfaces of ISP and R1 along with the PC to be configured with the supplied IP address. Also a default-gateway on the PC and clock rate on ISP&#39;s serial interface before we can get stated. &lt;strong&gt;(This tutorial is assuming you can already do that)&lt;/strong&gt; ;)  Now that the basic setups have been configured we need an IP route on R1 to ISP. We want to define that any IP address not in R1&#39;s routing table needs to be sent to the ISP. To do that move to global configuration mode and type the command &lt;em&gt;ip route&lt;/em&gt; and the IP address of ISP&#39;s serial interface:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;R1(config)#ip route 0.0.0.0 0.0.0.0 209.220.198.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can do this two ways, use the IP address of ISP (like above) OR use the exit interface of R1. (like below)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;R1(config)#ip route 0.0.0.0 0.0.0.0 s0/0/0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The next thing we need is an ACL (Access-Control-List). Adding a standard ACL defines which addresses are to be translated with NAT (example):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;R1(config)#access-list 5 permit 172.16.5.0 0.0.0.255
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The above command makes an access-control list. But an ACL is no good if we don&#39;t apply it. We now need to apply this ACL to R1. Remember to specify the access list number that you made earlier. (example):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;R1(config)#ip nat inside source list 5 interface serial s0/0/0 overload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The above command tells us that we want to use the access list number &amp;quot;5&amp;quot; (which says that the 172 network is allowed to be translated into a public IP address) with interface s0/0/0 and put overload on that interface. (Overload is the keyword that makes this possible!!) On R1 move to the interface configuration mode, tell the router which interface has the private IP addresses by using the &lt;em&gt;ip nat inside&lt;/em&gt; command (this would be R1&#39;s Fast-Ethernet 0/0 interface):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;R1(config)#interface fa0/0 
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;R1(config-if)#ip nat inside
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You also want to configure the outside interface on R1. That would be the serial 0/0/0 interface.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;R1(config)#interface s0/0/0
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;R1(config-if)#ip nat outside
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This command tells us that R1&#39;s interface s0/0/0 is the outside interface (This is the location of the public IP addresses or ISP) That&#39;s it!! This is simple tutorial that uses PAT or Port Address Translation also called NAT with overload! Hope this tutorial was helpful&lt;/p&gt;

        
      </description>
    </item>
    
  </channel>
</rss>
