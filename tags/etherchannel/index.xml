<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>EtherChannel on Cisco Skills</title>
    <link>https://ciscoskills.net/tags/etherchannel/</link>
    <description>Recent content in EtherChannel on Cisco Skills</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Mon, 07 May 2018 13:15:02 +0000</lastBuildDate><atom:link href="https://ciscoskills.net/tags/etherchannel/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Configuring Layer Three EtherChannel</title>
      <link>https://ciscoskills.net/2018/05/07/configuring-layer-three-etherchannel/</link>
      <pubDate>Mon, 07 May 2018 13:15:02 +0000</pubDate>
      
      <guid>https://ciscoskills.net/2018/05/07/configuring-layer-three-etherchannel/</guid>
      <description>
        
          &lt;p&gt;When you want more speed all you need is EtherChannel, EtherChannel can be configured as a layer three logical interface instead of just sitting at layer two. This is very helpful if we are running layer three down to the access layer switches, instead of at the distribution layer. You also could see this in a collapsed core design, we also don’t have to worry too much about STP when we configure EtherChannel’s. The only requirements to use layer three EtherChannels is your switch need is support layer three “routed” interfaces, so with that let&#39;s get started!&lt;/p&gt;
&lt;p&gt;This is pretty much the same as configuring a &lt;a href=&#34;https://ciscoskills.net/2013/10/12/configuring-etherchannel-pagb/&#34;&gt;layer two EtherChannel&lt;/a&gt; with one exception, in this example I’ve got three switches one access layer switch and two distribution/core switches. We are running layer three all the way down to the access layer, so we don’t have worry about STP between the two distribution/core switches and remember VLANs/Networks are locally significant to each access layer switch in this design.
&lt;img src=&#34;https://ciscoskills.net/images/2018/05/etherchannel-l3.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;I have already configured SW1 and SW2 links between them as well as the network that SW3 has for the access layer, on SW1 and SW2 we need to create port-channels going to SW3.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW1(config)# interface ethernet2/1-2
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW1(config-if-range)# channel-group 11 mode active
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;SW1(config-if-range)# no shutdown
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW2(config)# interface ethernet2/1-2 
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW2(config-if-range)# channel-group 12 mode active
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;SW2(config-if-range)# no shutdown
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Next after the port-channels are created we assign an IP address to the port-channel, this just like any other interface instead of using a dedicated port you use the port-channel..simple ;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW1(config)# interface port-channel 11
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW1(config-if)# ip address 172.16.0.1/30
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW2(config)# interface port-channel 12 
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW2(config-if)# ip address 172.16.0.5/30
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We now reference the same steps that we did with SW1 and SW2 on SW3. Let’s create two different port-channels because these are going to two different switches on SW3.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW3(config)# interface ethernet2/1-2 
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW3(config-if-range)# channel-group 11 mode active
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;SW3(config-if-range)# no shutdown
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;SW3(config)# interface ethernet2/3-4
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;SW3(config-if-range)# channel-group 12 mode active
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;SW3(config-if-range)# no shutdown
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Just like what we did on SW1 and SW2, we need to assign IP addresses on these port-channels on SW3.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;SW3(config)# interface port-channel 11
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;SW3(config-if)# ip address 172.16.0.2/30
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;SW3(config-if)# interface port-channel 12
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;SW3(config-if)# ip address 172.16.0.6/30
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And…That’s it, this is pretty simple design to set up, if you put a routing protocol on it this can scale out easily. Each access switch would belong to a different network being able to map devices by physical location, instead of extending VLANs across the campus. I hope this information is helpful, Summer 2018 is right around the corner at the US of A so be sure enjoy it!&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Configuring EtherChannel (PAgb)</title>
      <link>https://ciscoskills.net/2013/10/12/configuring-etherchannel-pagb/</link>
      <pubDate>Sat, 12 Oct 2013 15:56:48 +0000</pubDate>
      
      <guid>https://ciscoskills.net/2013/10/12/configuring-etherchannel-pagb/</guid>
      <description>
        
          &lt;p&gt;&lt;a href=&#34;http://systemstechblog.files.wordpress.com/2013/10/networkswitches_e.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2013/10/networkswitches_e.png&#34; alt=&#34;NetworkSwitches&#34;&gt;&lt;/a&gt;Bundling physical links into one logical link is a common practice to up the bandwidth between switches, you may have this also configured on a server to bundle connections as well. In this tutorial I have two 2960 switches both of them trunking all &lt;a href=&#34;http://en.wikipedia.org/wiki/Virtual_LAN&#34; title=&#34;Virtual LAN&#34;&gt;VLANs&lt;/a&gt; on two gigabit ports. So in the end game is get 2gbps instead of 1gbps between switches while using Cisco’s &lt;a href=&#34;http://en.wikipedia.org/wiki/Proprietary_protocol&#34; title=&#34;Proprietary protocol&#34;&gt;proprietary protocol&lt;/a&gt; PAgb.   It is important to remember that both of these protocols (PAgb and &lt;a href=&#34;http://en.wikipedia.org/wiki/Link_aggregation&#34; title=&#34;Link aggregation&#34;&gt;LACP&lt;/a&gt;) are link aggregation protocols only, their job is to make sure that &lt;a href=&#34;http://en.wikipedia.org/wiki/EtherChannel&#34; title=&#34;EtherChannel&#34;&gt;EtherChannel&lt;/a&gt; is setup correctly by negotiating. This helps prevent EtherChannel mismatches and loops. You could manually set the etherchannel mode to &amp;quot;on&amp;quot; instead of using either of these aggregation protocols. However this is considered best practice to use one of these link aggregation protocols. Here are some Guidelines for Configuring EtherChannel:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You can configure the port in two ways:
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/Port_Aggregation_Protocol&#34; title=&#34;Port Aggregation Protocol&#34;&gt;PAgp&lt;/a&gt; which is Cisco proprietary protocol.&lt;/li&gt;
&lt;li&gt;LACP which is an industry standard 802.3ad.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;You can combine from two links to eight links.&lt;/li&gt;
&lt;li&gt;All ports &lt;strong&gt;MUST&lt;/strong&gt; be identical such as:
&lt;ul&gt;
&lt;li&gt;Same speed that also includes duplex.&lt;/li&gt;
&lt;li&gt;Cannot mix and match Fast Ethernet and Gigabit ports.&lt;/li&gt;
&lt;li&gt;Cannot throw in PAgp and LACP in the same “channel”.&lt;/li&gt;
&lt;li&gt;Must be either all trunking or non-trunking.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;All links in the channel must be either in Layer 2 or Layer 3.&lt;/li&gt;
&lt;li&gt;If you want to use PAgp each side must be one of the two settings for the channel to come up.
&lt;ul&gt;
&lt;li&gt;Auto-Desirable&lt;/li&gt;
&lt;li&gt;Desirable-Desirable&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;If you would like to use LACP then each side must be one of the two settings for the channel to come up.
&lt;ul&gt;
&lt;li&gt;Active-Active&lt;/li&gt;
&lt;li&gt;Active-Passive&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So for this example I have a two Cisco 2960 switches, one switch is a 24-port while the other one is a 48-port switch. I have already done some pre-configuring for the &lt;a href=&#34;http://en.wikipedia.org/wiki/Cisco_Inter-Switch_Link&#34; title=&#34;Cisco Inter-Switch Link&#34;&gt;native VLAN&lt;/a&gt; (not using VLAN1) and I have also created an additional VLAN for data traffic on both of these switches. The two switches I am working with both have two gigabit trunk uplinks to each other, by default of STP one link will be in blocking state. To allow both of these links in a forwarding state follow the configuration below. On the 24-port switch under both gigabit interfaces: [code highlight=&amp;quot;3,4,5&amp;quot;] 24-SW3#configure t Enter configuration commands, one per line. End with CNTL/Z. 24-SW3(config)#interface range gigabitEthernet 0/1 -2 24-SW3(config-if-range)#channel-group 1 mode desirable Creating a port-channel interface Port-channel 1 *Mar 2 22:53:06.895: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/1, changed state to down *Mar 2 22:53:06.920: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/2, changed state to down *Mar 2 22:53:09.688: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/2, changed state to up *Mar 2 22:53:09.713: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/1, changed state to up [/code] On the 48-port switch under both gigabit interfaces: [code highlight=&amp;quot;3,4,10,11&amp;quot;] 48-SW1#configure t Enter configuration commands, one per line. End with CNTL/Z. 48-SW1(config)#interface range gigabitEthernet 0/1 - 2 48-SW1(config-if-range)#channel-group 1 mode auto Creating a port-channel interface Port-channel 1 *Mar 2 09:56:03.907: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/1, changed state to down *Mar 2 09:56:03.940: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/2, changed state to down *Mar 2 09:56:13.327: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/1, changed state to up *Mar 2 09:56:13.797: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/2, changed state to up *Mar 2 09:56:27.235: %LINK-3-UPDOWN: Interface Port-channel1, changed state to up *Mar 2 09:56:28.242: %LINEPROTO-5-UPDOWN: Line protocol on Interface Port-channel1, changed state to up[/code] To verify that port-channel is working as expected (Notice line 4) [code highlight=&amp;quot;1,4&amp;quot;] 24-SW3#show interfaces port-channel 1 Port-channel1 is up, line protocol is up (connected) Hardware is EtherChannel, address is 001a.6d44.0c1a (bia 001a.6d44.0c1a) MTU 1500 bytes, BW 2000000 Kbit, DLY 10 usec, reliability 255/255, txload 1/255, rxload 1/255 Encapsulation ARPA, loopback not set Keepalive set (10 sec) Full-duplex, 1000Mb/s, link type is auto, media type is unknown --- Omitted ---[/code] You can also verify EtherChannel with the following command, several options are available. [code highlight=&amp;quot;1&amp;quot;] 24-SW3#show etherchannel 1 ? detail Detail information port Port information port-channel Port-channel information protocol protocol enabled summary One-line summary per channel-group [/code] We now have a 2gbps unlink between these two switches, if we looked at spanning-tree we would see the port-channel interface (Po1) is in a forwading state and the two gigabit links are not listed as active interfaces. If you would like more information about EtherChannel look at the post I did some time ago about &lt;a href=&#34;http://ciscoskills.net/2012/01/04/basic-understanding-of-etherchannel/&#34; title=&#34;Basic Understanding of EtherChannel&#34;&gt;Understanding EtherChannel&lt;/a&gt;.&lt;/p&gt;
&lt;h6 id=&#34;related-articles&#34;&gt;Related articles&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://datacenteroverlords.com/2013/09/02/link-aggregation/&#34;&gt;Link Aggregation&lt;/a&gt; (datacenteroverlords.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.thegeekstuff.com/2013/09/cisco-vlan-trunk/&#34;&gt;How to Create VLAN Trunking on Cisco Catalyst Switch&lt;/a&gt; (thegeekstuff.com)&lt;/li&gt;
&lt;/ul&gt;

        
      </description>
    </item>
    
    <item>
      <title>Basic Understanding of EtherChannel</title>
      <link>https://ciscoskills.net/2012/01/04/basic-understanding-of-etherchannel/</link>
      <pubDate>Wed, 04 Jan 2012 17:00:21 +0000</pubDate>
      
      <guid>https://ciscoskills.net/2012/01/04/basic-understanding-of-etherchannel/</guid>
      <description>
        
          &lt;p&gt;&lt;a href=&#34;http://systemstechblog.files.wordpress.com/2012/01/network-cables.png&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2012/01/network-cables.png&#34; alt=&#34;&#34; title=&#34;network cables&#34;&gt;&lt;/a&gt;Let&#39;s start the New Year with understanding &lt;a href=&#34;http://en.wikipedia.org/wiki/EtherChannel&#34; title=&#34;EtherChannel&#34;&gt;EtherChannel&lt;/a&gt; which is having more than one link connected to a server, switch, or router and treating it like one logical link. This is a fault-tolerant technique that is becoming a common setup in highly available, core devices. Cisco has come up with their own proprietary version call EtherChannel. The &lt;a href=&#34;http://en.wikipedia.org/wiki/Open_standard&#34; title=&#34;Open standard&#34;&gt;open standard&lt;/a&gt; that &lt;a href=&#34;http://en.wikipedia.org/wiki/Institute_of_Electrical_and_Electronics_Engineers&#34; title=&#34;Institute of Electrical and Electronics Engineers&#34;&gt;IEEE&lt;/a&gt; approved is 802.3ad which works with other venders and is often called &lt;a href=&#34;http://en.wikipedia.org/wiki/Link_aggregation&#34; title=&#34;Link aggregation&#34;&gt;LAG&lt;/a&gt; for short. Why would I use EtherChannel? One big benefit is bandwidth you can combine up to eight parallel links and depending on the port speed and the physical cable you could in theory get up to 80 Gbit/s per second! (Using &lt;a href=&#34;http://en.wikipedia.org/wiki/SFP_transceiver&#34; title=&#34;Small form-factor Pluggable Transceiver&#34;&gt;SPF&lt;/a&gt;+ links which can get up 10G a piece in theory) Etherchannel aggregates traffic across all available active ports which make it look like one logical cable. &lt;a href=&#34;http://ciscoskills.net/2012/01/04/basic-understanding-of-etherchannel/etherchannele-2/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2012/01/etherchannele1.png&#34; alt=&#34;EtherChannel between Switches&#34; title=&#34;EtherChannel&#34;&gt;&lt;/a&gt; Although this sounds wonderful and it is there are some things to keep in mind. EtherChannel does not always distribute the traffic equally across all available links it depends on the number of links you have connected but even that does not always guarantee equal traffic. EtherChannel hands-out values 0-7 (that&#39;s why you can only have up to eight links) on each link. Some of those links may have more than one value assigned to them this makes balancing the traffic not always equal. So looking at the table below if we were using five physical links and every link was in theory in perfect distribution three of those links would be receiving twice as much traffic than the other two links. &lt;a href=&#34;http://ciscoskills.net/2012/01/04/basic-understanding-of-etherchannel/etherchannel-tablee/&#34;&gt;&lt;img src=&#34;http://systemstechblog.files.wordpress.com/2012/01/etherchannel-tablee.png&#34; alt=&#34;EtherChannel Physical Link Balancing&#34; title=&#34;EtherChannel Table&#34;&gt;&lt;/a&gt; If every link was in perfect distribution you could have physical links of two, four, or eight. But this depends on the usage of a particular device because Etherchannel does not load balance between physical links if one link becomes oversaturated it will drop packets. Etherchannel can look at the following methods to decide which &lt;a href=&#34;http://en.wikipedia.org/wiki/Physical_Layer&#34; title=&#34;Physical Layer&#34;&gt;physical link&lt;/a&gt; to send data over.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The source &lt;a href=&#34;http://en.wikipedia.org/wiki/MAC_address&#34; title=&#34;MAC address&#34;&gt;MAC address&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The destination MAC address&lt;/li&gt;
&lt;li&gt;The source and destination MAC address&lt;/li&gt;
&lt;li&gt;The source &lt;a href=&#34;http://en.wikipedia.org/wiki/IP_address&#34; title=&#34;IP address&#34;&gt;IP address&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The destination IP address&lt;/li&gt;
&lt;li&gt;The source and destination IP address&lt;/li&gt;
&lt;li&gt;The &lt;a href=&#34;http://en.wikipedia.org/wiki/Source_port&#34; title=&#34;Source port&#34;&gt;source port&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The destination port&lt;/li&gt;
&lt;li&gt;The source and destination port&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All of these methods depend on the hardware and software you are running but they will put a value between 0-7 on each connected link. Remember each link can have more than one value assigned to it. I hope this information is helpful and you are welcome to ask questions or comment. Also post some ideas that you would like to see posted that deals with either ICND1 or ICND2.&lt;/p&gt;
&lt;h6 id=&#34;related-articles&#34;&gt;Related articles&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://techbookshelf.com/2011/08/31/cisco-nexus-vpc-configuration-and-spanning-tree-elimination/&#34;&gt;Cisco Nexus vPC Configuration and Spanning-Tree Elimination&lt;/a&gt; (techbookshelf.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://learnnetworkingwithme.wordpress.com/2011/12/30/span-port-configuration/&#34;&gt;SPAN Port Configuration&lt;/a&gt; (learnnetworkingwithme.wordpress.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://hazima.wordpress.com/2011/10/20/stp-loop-prevention-protocol/&#34;&gt;STP loop prevention protocol&lt;/a&gt; (hazima.wordpress.com)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://mungauwamaseghe.wordpress.com/2011/09/05/journey-to-ccie-lab-exam-part-20-etherchannels/&#34;&gt;Journey to CCIE LAB Exam - Part 20 - EtherChannels&lt;/a&gt; (mungauwamaseghe.wordpress.com)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;comments&#34;&gt;Comments:&lt;/h3&gt;
&lt;h4 id=&#34;heading&#34;&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://na.com&#34; title=&#34;vijayscsa@gmail.com&#34;&gt;VJ&lt;/a&gt; - &lt;time datetime=&#34;2012-01-05 06:11:48&#34;&gt;Jan 4, 2012&lt;/time&gt;&lt;/p&gt;
&lt;p&gt;Hi Thanks for the informative article. Would be really helpful, if you start little basics about cisco&#39;s nexus switches world also. Thanks VJ&lt;/p&gt;
&lt;hr /&gt;
#### 
[Ryan](http://systemstechblog.wordpress.com &#34;lewiryan@isu.edu&#34;) - &lt;time datetime=&#34;2012-01-05 21:30:17&#34;&gt;Jan 4, 2012&lt;/time&gt;
&lt;p&gt;Your Welcome VJ, I have only been reading about them recently, if I find some basic information about them I&#39;ll post it. Thanks for the suggestion, Ryan&lt;/p&gt;
&lt;hr /&gt;

        
      </description>
    </item>
    
  </channel>
</rss>
