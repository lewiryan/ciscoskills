<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>SVI on Cisco Skills</title>
    <link>https://ciscoskills.net/tags/svi/</link>
    <description>Recent content in SVI on Cisco Skills</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Tue, 14 May 2019 19:00:40 +0000</lastBuildDate><atom:link href="https://ciscoskills.net/tags/svi/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>SVIs and &#34;Routed&#34; Ports</title>
      <link>https://ciscoskills.net/2019/05/14/svis-and-routed-ports/</link>
      <pubDate>Tue, 14 May 2019 19:00:40 +0000</pubDate>
      
      <guid>https://ciscoskills.net/2019/05/14/svis-and-routed-ports/</guid>
      <description>
        
          &lt;p&gt;So you have a this nice multiplayer switch, and want to take advantages of all of the features it has to offer. Well there are two different types interface ports on these type of switches. SVIs (Switched Virtual Interface) and &amp;quot;routed&amp;quot; ports, fundamentally they are same and clients/users wouldn&#39;t be able to tell if you were using/going through an SVI or a &amp;quot;routed&amp;quot; port. However they are different and in this post we&#39;ll talk about these two and when and were it would be recommended to place an SVI or a routed port.&lt;/p&gt;
&lt;!--adsense--&gt;
&lt;p&gt;In order to pass traffic between networks we need a router. Switches work in layer two and routers work in layer three, this separation of duties between devices works well. Doing something like &lt;a href=&#34;http://ciscoskills.net/2012/01/31/configure-router-on-a-stick/&#34;&gt;Configuring Router on Stick&lt;/a&gt;, is easier to troubleshoot and usually cheaper to implement. It only becomes a problem when we run out of resources like bandwidth.&lt;/p&gt;
&lt;p&gt;Looking on the example below, we have three different networks all branching off of this router. The router has three networks configured on this interface the red network, teal network and the blue network. In order for PC1 to reach PC2 it has use the router even through they are plugged on the same switch, they are on different VLANs, different networks. If PC1 was transferring a lot of data between PC2 it could easily tap out that router&#39;s interface. Other devices on those networks like PC3 would become bandwidth starved and struggle to get a good connection for inter-vlan connectivity. &lt;img src=&#34;https://ciscoskills.net/images/2018/07/router-on-a-stickee.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;However a multilayered switch which has usually plenty of bandwidth on its back plane and would be able to handle this easily and in this example this would be great use case  to create and SVI interface for each network. To create an SVI:&lt;/p&gt;
&lt;p&gt;We have to have a VLAN created first, in this example lets use 105.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;switch(config)# vlan 105
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;switch(config-vlan)# name RED-NETWORK
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;switch(config-vlan)# exit switch(config)#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We then create an interface VLAN, referencing  the VLAN we created in step one and apply an IP address and subnet mask on VLAN interface.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;switch(config)# interface vlan 105
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;switch(config-if)# ip address 192.168.150.1 255.255.255.0
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;switch(config-if)# no shutdown
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;switch(config-if)# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;On the interfaces that belong to that VLAN in this example PC1 apply the VLAN and verify the interface is in switchport mode.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;switch(config)# interface ethernet 1/1
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;switch(config-if)# switchport
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;switch(config-if)# switchport mode access
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;switch(config-if)# switchport access vlan 105
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;switch(config-if)# no shutdown
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;switch(config-if)# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here is the configuration for the TEAL Network, if we wanted to configure the BLUE network just put it into a different VLAN and separate IP network.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;switch(config)# vlan 110
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;switch(config-vlan)# name TEAL-NETWORK
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;switch(config-vlan)# exit
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;switch(config)# interface vlan 110
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;switch(config-if)# ip address 192.168.160.1 255.255.255.0
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;switch(config-if)# no shutdown
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;switch(config-if)# exit
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;switch(config)# interface ethernet 1/2
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;switch(config-if)# switchport
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;switch(config-if)# switchport mode access
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;switch(config-if)# switchport access vlan 110
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;switch(config-if)# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can then verify that the switch has a routing table by issuing show ip route and if we also run the command show ip interface brief and you can see the interface-vlans&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;switch# show ip route
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;IP Route Table for VRF &amp;#34;default&amp;#34;
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;&amp;#39;*&amp;#39; denotes best ucast next-hop
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;&amp;#39;**&amp;#39; denotes best mcast next-hop
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;&amp;#39;[x/y]&amp;#39; denotes [preference/metric]
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;&amp;#39;%&amp;#39; in via output denotes VRF
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;192.168.150.0/24, ubest/mbest: 1/0, attached
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;*via 192.168.150.1, Vlan105, [0/0], 00:06:03, direct
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;192.168.150.1/32, ubest/mbest: 1/0, attached
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;*via 192.168.150.1, Vlan105, [0/0], 00:06:03, local
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;192.168.160.0/24, ubest/mbest: 1/0, attached
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;*via 192.168.160.1, Vlan110, [0/0], 00:01:59, direct
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;192.168.160.1/32, ubest/mbest: 1/0, attached
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;*via 192.168.160.1, Vlan110, [0/0], 00:01:59, local
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;switch# show ip interface brief
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;IP Interface Status for VRF &amp;#34;default&amp;#34;(1)
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;Interface            IP Address      Interface Status
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;Vlan105              192.168.150.1   protocol-up/link-up/admin-up
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;Vlan110              192.168.160.1   protocol-up/link-up/admin-up
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;switch#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can also verify that PC1 and PC2 can ping each other. PC2 pinging PC1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;PC-2&amp;gt; ping 192.168.150.10
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;192.168.150.10 icmp_seq=1 timeout
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;192.168.150.10 icmp_seq=2 timeout
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;84 bytes from 192.168.150.10 icmp_seq=3 ttl=63 time=15.258 ms
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;84 bytes from 192.168.150.10 icmp_seq=4 ttl=63 time=19.669 ms
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;84 bytes from 192.168.150.10 icmp_seq=5 ttl=63 time=19.113 ms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;PC1 pinging PC2&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;PC-1&amp;gt; ping 192.168.160.10
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;84 bytes from 192.168.160.10 icmp_seq=1 ttl=63 time=17.825 ms
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;84 bytes from 192.168.160.10 icmp_seq=2 ttl=63 time=19.710 ms
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;84 bytes from 192.168.160.10 icmp_seq=3 ttl=63 time=18.503 ms
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;84 bytes from 192.168.160.10 icmp_seq=4 ttl=63 time=18.577 ms
&lt;span class=&#34;ln&#34;&gt;6&lt;/span&gt;84 bytes from 192.168.160.10 icmp_seq=5 ttl=63 time=9.817 ms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;SVI&#39;s are great for inter-vlan connectivity and for devices that are &amp;quot;physically&amp;quot; close to each other. I would shy away using an SVI when we are connecting different buildings/sites, and if we a using a some type of transit network to get from point A to point B. Using a routed port is not only easier to configure its easier to troubleshoot, we don&#39;t have worry about the problems layer two brings us, like for example redundancy and spanning-tree we just focus on layer three and the redundancies that layer three can offer us.  In this example this switch is connected to another switch with multiple links using routed ports. To create a routed port:&lt;/p&gt;
&lt;p&gt;Go into the interface and turn off switchport and add an IP address&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;switch(config)# interface ethernet 1/4
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;switch(config-if)# no switchport
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;switch(config-if)# ip address 192.168.253.1 255.255.255.252
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;switch(config-if)# no shutdown
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;switch(config-if)# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you have multiple routed ports for redundancy, add another routed port with a different network.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;switch(config)# interface ethernet 1/5
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;switch(config-if)# no switchport
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;switch(config-if)# ip add 192.168.253.5 255.255.255.252
&lt;span class=&#34;ln&#34;&gt;4&lt;/span&gt;switch(config-if)# no shutdown
&lt;span class=&#34;ln&#34;&gt;5&lt;/span&gt;switch(config-if)# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We would do the same thing on the other side of the link and make sure our networks match so that each switch can reach other out of the two routed ports we created and in this example they can.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;switch(config)# show ip interface brief
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;IP Interface Status for VRF &amp;#34;default&amp;#34;(1)
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;Interface            IP Address      Interface Status
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;Eth1/4               192.168.253.2   protocol-up/link-up/admin-up
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;Eth1/5               192.168.253.6   protocol-up/link-up/admin-up
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;switch(config)#
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;switch(config)# ping 192.168.253.1
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;PING 192.168.253.1 (192.168.253.1): 56 data bytes
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;64 bytes from 192.168.253.1: icmp_seq=0 ttl=254 time=1.368 ms
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;64 bytes from 192.168.253.1: icmp_seq=1 ttl=254 time=1.205 ms
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;64 bytes from 192.168.253.1: icmp_seq=2 ttl=254 time=2.099 ms
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;64 bytes from 192.168.253.1: icmp_seq=3 ttl=254 time=1.166 ms
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;64 bytes from 192.168.253.1: icmp_seq=4 ttl=254 time=1.353 ms
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;--- 192.168.253.1 ping statistics ---
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;5 packets transmitted, 5 packets received, 0.00% packet loss
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;round-trip min/avg/max = 1.166/1.438/2.099 ms
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;switch(config)# ping 192.168.253.5
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;PING 192.168.253.5 (192.168.253.5): 56 data bytes
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;64 bytes from 192.168.253.5: icmp_seq=0 ttl=254 time=1.45 ms
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;64 bytes from 192.168.253.5: icmp_seq=1 ttl=254 time=1.28 ms
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;64 bytes from 192.168.253.5: icmp_seq=2 ttl=254 time=0.995 ms
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;64 bytes from 192.168.253.5: icmp_seq=3 ttl=254 time=1.408 ms
&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;64 bytes from 192.168.253.5: icmp_seq=4 ttl=254 time=1.303 ms
&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt; 
&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;--- 192.168.253.5 ping statistics ---
&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;5 packets transmitted, 5 packets received, 0.00% packet loss
&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;round-trip min/avg/max = 0.995/1.287/1.45 ms
&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;switch(config)#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Although you could have created an SVI for these point to point links, I don&#39;t think there&#39;s a reason. We can configure multiple static routes or using a routing protocol to handle the links if they go down and we only deal with layer three, which is keeping it simple. Like always I hope this information is helpful. -Ryan&lt;/p&gt;

        
      </description>
    </item>
    
  </channel>
</rss>
