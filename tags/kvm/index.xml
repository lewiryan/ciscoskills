<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>KVM on Cisco Skills</title>
    <link>https://ciscoskills.net/tags/kvm/</link>
    <description>Recent content in KVM on Cisco Skills</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sun, 08 Jan 2017 01:53:55 +0000</lastBuildDate><atom:link href="https://ciscoskills.net/tags/kvm/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Cisco VIRL and Windows VMs</title>
      <link>https://ciscoskills.net/2017/01/cisco-virl-and-windows-vms/</link>
      <pubDate>Sun, 08 Jan 2017 01:53:55 +0000</pubDate>
      
      <guid>https://ciscoskills.net/2017/01/cisco-virl-and-windows-vms/</guid>
      <description>
        
          &lt;p&gt;One of the neat features of Cisco VIRL is it runs on an open platform, with OpenStack as the orchestration program running on top of an Ubuntu operating system. This gives VIRL additional flexibly by being able to run third-party VMs with KVM begin the hypervisor. In this guide I’ll walk through some of the steps I took to get Windows XP up and running in VIRL. :) If you have a more recent version of Windows that&#39;s in the current decade following this guide is pretty much the same just adjust the disk space and RAM to fit the requirements. I picked Windows XP is because its light weight, and with an average RAM usage under 100MB it makes easy to add multiple instances if you needed all without wasting too much resources on VIRL host. To get started:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You’ll need to have a copy of Windows XP.&lt;/li&gt;
&lt;li&gt;I also found an unofficial service pack for Windows XP &lt;a href=&#34;https://ryanvm.net/forum/viewtopic.php?f=5&amp;amp;t=10321&#34;&gt;SP4 (unofficial)&lt;/a&gt; - Optional&lt;/li&gt;
&lt;li&gt;Copy of the &lt;a href=&#34;http://fedoraproject.org/wiki/Windows_Virtio_Drivers&#34;&gt;Windows Virtio Drivers from Fedora&lt;/a&gt;. (VFD Floppy image when installing Windows XP on KVM)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I’m running Cisco VIRL 1.2.83 on bare metal for this example, but this would also work if VIRL is virtualized. Let’s first edit the nova.conf file in VIRL, we need change a value in the nova configuration file which helps us control the mouse better when we use VNC to view the virtual machine in VIRL.&lt;code&gt;\[code\]nano /etc/nova/nova.conf\[/code\]&lt;/code&gt;Find &lt;strong&gt;use_usb_tablet = False&lt;/strong&gt; and change it to &lt;strong&gt;use_usb_tablet = True&lt;/strong&gt; save the changes, and restart VIRL. Once VIRL comes back up we now need to create folder under the home/virl directory to store our Windows XP installation, drivers and the virtual machine, I’m calling it VMs in this example. Once the folder is created move into that folder using terminal and type the following:&lt;code&gt;\[code\]sudo qemu-img create -f qcow2 wsxp-SP3.qcow2 15G\[/code\]&lt;/code&gt;This will create a virtual disk in qcow2 format and the size will be 15G, this next command will create all the necessary settings needed to start the installation of Windows.```
[code]sudo virt-install --connect qemu:///system --name wsxp-SP3 --ram 512 --vcpus 1 --network network=default,model=virtio --disk path=/home/virl/VMs/wsxp-SP3.qcow2,format=qcow2,device=disk,bus=virtio --cdrom /home/virl/VMs/xp.iso --disk path=/home/virl/VMs/virtio-win.vfd,device=floppy --vnc --os-type windows --os-variant winxp[/code]&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;*   Subtype - Windows
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;*   Desciption of plugin - VM of Windows
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;*   Pattern for data interface names - eth{0}
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;*   First data interface number - 0
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;*   Max count of data interfaces - 5
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;*   Number of interface per LC - 0
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;*   Number of serial interfaces - 0
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;*   Protocol for network CLI - none
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;*   Make VNC access available - (Checked)
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;*   Name of icon for GUI - unknow
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;*   Show subtype on GUI palette (unchecked)
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;*   Configuration disk type - disk
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;*   ISO 9660 level in cdrom disk - 2
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;*   Virtual interface model - virtio
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;*   Main disk bus model - ide
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;*   RAM (MB) allocter per node - 512
&lt;span class=&#34;ln&#34;&gt;18&lt;/span&gt;*   Number of CPUs allocated per node - 1
&lt;span class=&#34;ln&#34;&gt;19&lt;/span&gt;*   Name of default image - Windows-XPSP3
&lt;span class=&#34;ln&#34;&gt;20&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;21&lt;/span&gt;Create the subtype. Once the subtype is created go to Node Resources-&amp;gt;Images-&amp;gt;Add:
&lt;span class=&#34;ln&#34;&gt;22&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;23&lt;/span&gt;*   Find and select the Windows Subtype
&lt;span class=&#34;ln&#34;&gt;24&lt;/span&gt;*   Release - 5.1 (I just picked the Windows NT version)
&lt;span class=&#34;ln&#34;&gt;25&lt;/span&gt;*   Source - File on server
&lt;span class=&#34;ln&#34;&gt;26&lt;/span&gt;*   Image path - /home/virl/VMs/_image of xp clone_
&lt;span class=&#34;ln&#34;&gt;27&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;28&lt;/span&gt;Create the image. Once the image has been created you now have imported Windows XP within VIRL and should be able to launch it within VM Maestro. You can take similar steps and import additional VMs like Juniper, Palo Alto, and Fortinet are just some examples more information how to import those and other are on [3rd Party VMs in VIRL page](https://learningnetwork.cisco.com/docs/DOC-30476) on the Cisco Learning Network. I hope this information is helpful, Ryan.
&lt;span class=&#34;ln&#34;&gt;29&lt;/span&gt;---
&lt;span class=&#34;ln&#34;&gt;30&lt;/span&gt;### Comments:
&lt;span class=&#34;ln&#34;&gt;31&lt;/span&gt;#### 
&lt;span class=&#34;ln&#34;&gt;32&lt;/span&gt;[Configuring EIGRP &amp;amp;#8211; Named Mode &amp;amp;#8211; Cisco Skills](http://ciscoskills.net/2017/05/25/configuring-eigrp-named-mode/ &amp;#34;&amp;#34;) - &amp;lt;time datetime=&amp;#34;2017-05-25 06:31:29&amp;#34;&amp;gt;May 4, 2017&amp;lt;/time&amp;gt;
&lt;span class=&#34;ln&#34;&gt;33&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;34&lt;/span&gt;\[…\] That’s all I got for now for a basic configuration of EIGRP name mode and I hope this helpful. If you are using Cisco VIRL you can find the project I was referencing using this link Github. There is a subtype that is added in this configuration which was the Windows XP image I was working with. You can find more information about import Windows VMs and other 3rd Party systems into VIRL by checking out a previous post: Cisco VIRL and Windows VMs \[…\]
&lt;span class=&#34;ln&#34;&gt;35&lt;/span&gt;&amp;lt;hr /&amp;gt;
&lt;span class=&#34;ln&#34;&gt;36&lt;/span&gt;#### 
&lt;span class=&#34;ln&#34;&gt;37&lt;/span&gt;[ASA Site to Site VPN (DHCP) &amp;amp;#8211; Cisco Skills](http://ciscoskills.net/2017/04/19/asa-site-to-site-vpn-dhcp/ &amp;#34;&amp;#34;) - &amp;lt;time datetime=&amp;#34;2017-04-19 06:01:13&amp;#34;&amp;gt;Apr 3, 2017&amp;lt;/time&amp;gt;
&lt;span class=&#34;ln&#34;&gt;38&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;39&lt;/span&gt;\[…\] There is a subtype that is added in this configuration which was the Windows XP image I was working with. You can find more information about import Windows VMs and other 3rd Party systems into VIRL by checking out a previous post: Cisco VIRL and Windows VMs \[…\]
&lt;span class=&#34;ln&#34;&gt;40&lt;/span&gt;&amp;lt;hr /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
        
      </description>
    </item>
    
  </channel>
</rss>
